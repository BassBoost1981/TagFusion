import{j as e}from"./motion-BxWOwN3p.js";import{r as l}from"./vendor-CwvKdLiM.js";import{Y as E,c as p,_ as h}from"./index-CN-phHlX.js";import{G as z}from"./GlassModal-Ciam4tWC.js";import{i as M,I as f,H as w,a6 as j,a7 as B}from"./icons-BPTnPYzs.js";import{a as F}from"./heroui-m--SptfW.js";import"./state-LdY94aua.js";import"./i18n-fyWXc1Nl.js";import"./virtuoso-ZIEdzwmB.js";function G(t){if(t===0)return"0 B";const a=1024,r=["B","KB","MB","GB","TB"],s=Math.floor(Math.log(t)/Math.log(a));return`${parseFloat((t/Math.pow(a,s)).toFixed(2))} ${r[s]}`}function u(t){return new Date(t).toLocaleString("de-DE",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}function O(){const{type:t,data:a,closeModal:r}=E(),[s,g]=l.useState(null),[o,m]=l.useState(!1),[x,d]=l.useState(null),c=t==="properties",n=a;l.useEffect(()=>{c&&n&&N(n.path)},[c,n]);const N=async v=>{m(!0),d(null);try{const i=await p.getProperties(v);g(i)}catch(i){d(i instanceof Error?i.message:"Eigenschaften konnten nicht geladen werden")}finally{m(!1)}},y=async()=>{n&&await p.openInExplorer(n.path)};return e.jsx(z,{isOpen:c,onClose:r,title:"Eigenschaften",size:"sm",children:e.jsxs("div",{className:"space-y-4",children:[o&&e.jsx("div",{className:"flex justify-center py-8",children:e.jsx(F,{color:"secondary"})}),x&&e.jsx("p",{className:"text-sm text-red-400 text-center",children:x}),s&&!o&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center gap-4 p-4 rounded-lg bg-slate-800/50",children:[e.jsx("div",{className:"w-12 h-12 rounded-lg bg-cyan-500/20 flex items-center justify-center",children:s.isFolder?e.jsx(M,{size:24,className:"text-cyan-400"}):e.jsx(f,{size:24,className:"text-cyan-400"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"font-medium text-slate-200 truncate",children:s.name}),e.jsx("p",{className:"text-xs text-slate-500 truncate",children:s.path})]})]}),e.jsxs("div",{className:"space-y-3",children:[!s.isFolder&&e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(w,{size:16,className:"text-slate-500"}),e.jsx("span",{className:"text-sm text-slate-400",children:"Größe:"}),e.jsx("span",{className:"text-sm text-slate-200 ml-auto",children:G(s.size)})]}),s.dimensions&&e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(f,{size:16,className:"text-slate-500"}),e.jsx("span",{className:"text-sm text-slate-400",children:"Abmessungen:"}),e.jsxs("span",{className:"text-sm text-slate-200 ml-auto",children:[s.dimensions.width," × ",s.dimensions.height," px"]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(j,{size:16,className:"text-slate-500"}),e.jsx("span",{className:"text-sm text-slate-400",children:"Erstellt:"}),e.jsx("span",{className:"text-sm text-slate-200 ml-auto",children:u(s.created)})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(j,{size:16,className:"text-slate-500"}),e.jsx("span",{className:"text-sm text-slate-400",children:"Geändert:"}),e.jsx("span",{className:"text-sm text-slate-200 ml-auto",children:u(s.modified)})]})]})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[e.jsxs(h,{variant:"ghost",onClick:y,children:[e.jsx(B,{size:16}),"Im Explorer öffnen"]}),e.jsx(h,{variant:"accent",onClick:r,children:"Schließen"})]})]})})}export{O as PropertiesModal};
