import{j as e}from"./motion-BxWOwN3p.js";import{r as o}from"./vendor-CwvKdLiM.js";import{Y as f,_ as d,c as j,X as h}from"./index-BK_xoamr.js";import{G as b}from"./GlassModal-hK6WY_pS.js";import{V as v,T as N}from"./icons-BPTnPYzs.js";import"./heroui-Dcjyg2vm.js";import"./state-CThI9rZ5.js";import"./i18n-DmwbAMox.js";import"./virtuoso-ZIEdzwmB.js";function T(){const{type:m,data:x,closeModal:a}=f(),[l,n]=o.useState(!1),[c,i]=o.useState(null),p=m==="deleteConfirm",t=x,u=async()=>{if(t?.paths.length){n(!0),i(null);try{await j.deleteFiles(t.paths),h.getState().success(s===1?"Element wurde gelöscht":`${s} Elemente wurden gelöscht`),a(),window.location.reload()}catch(r){i(r instanceof Error?r.message:"Löschen fehlgeschlagen"),h.getState().error("Löschen fehlgeschlagen")}finally{n(!1)}}},s=t?.paths.length||0;return e.jsx(b,{isOpen:p,onClose:a,title:"Löschen bestätigen",size:"sm",children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"flex justify-center",children:e.jsx("div",{className:"w-16 h-16 rounded-full bg-red-500/20 flex items-center justify-center",children:e.jsx(v,{size:32,className:"text-red-400"})})}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-slate-200",children:s===1?"Möchtest du dieses Element wirklich löschen?":`Möchtest du diese ${s} Elemente wirklich löschen?`}),e.jsx("p",{className:"text-sm text-slate-400 mt-2",children:"Die Elemente werden in den Papierkorb verschoben."})]}),s>1&&s<=5&&t&&e.jsx("div",{className:"max-h-32 overflow-y-auto rounded-lg bg-slate-800/50 p-2",children:t.paths.map((r,g)=>e.jsx("div",{className:"text-xs text-slate-400 truncate py-1",children:r.split(/[/\\]/).pop()},g))}),c&&e.jsx("p",{className:"text-sm text-red-400 text-center",children:c}),e.jsxs("div",{className:"flex justify-center gap-3",children:[e.jsx(d,{variant:"ghost",onClick:a,disabled:l,children:"Abbrechen"}),e.jsxs(d,{variant:"danger",onClick:u,disabled:l,className:"bg-red-500/20 hover:bg-red-500/30 text-red-400",children:[e.jsx(N,{size:16}),l?"Löschen...":"Löschen"]})]})]})})}export{T as DeleteConfirmModal};
