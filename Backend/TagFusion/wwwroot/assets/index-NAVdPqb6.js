const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-B9HQ9-83.js","assets/motion-kCEqyfBl.js","assets/vendor-DLlxo1H4.js"])))=>i.map(i=>d[i]);
var e=Object.defineProperty,t=(t,n,r)=>((t,n,r)=>n in t?e(t,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[n]=r)(t,"symbol"!=typeof n?n+"":n,r);import{j as n,M as r,a as o,L as s,A as i,m as a,b as l}from"./motion-kCEqyfBl.js";import{a as c,r as d,R as u,b as p,c as f,g}from"./vendor-DLlxo1H4.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const n of e)if("childList"===n.type)for(const e of n.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var h={},m=c;function v(e={}){const{strict:t=!0,errorMessage:n="useContext: `context` is undefined. Seems you forgot to wrap component within the Provider",name:r}=e,o=d.createContext(void 0);return o.displayName=r,[o.Provider,function e(){var r;const s=d.useContext(o);if(!s&&t){const t=new Error(n);throw t.name="ContextError",null==(r=Error.captureStackTrace)||r.call(Error,t,e),t}return s},o]}function b(e){const t=d.useRef(null);return d.useImperativeHandle(e,()=>t.current),t}h.createRoot=m.createRoot,h.hydrateRoot=m.hydrateRoot;var y=e=>e?"true":void 0;function x(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=x(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function w(...e){for(var t,n,r=0,o="";r<e.length;)(t=e[r++])&&(n=x(t))&&(o&&(o+=" "),o+=n);return o}function k(e){if(!e||"object"!=typeof e)return"";try{return JSON.stringify(e)}catch{return""}}var E={};function S(...e){return(...t)=>{for(let n of e)"function"==typeof n&&n(...t)}}var C=new Map;function I(e,t){if(e===t)return e;let n=C.get(e);if(n)return n.forEach(e=>e.current=t),t;let r=C.get(t);return r?(r.forEach(t=>t.current=e),e):t}function j(...e){let t={...e[0]};for(let n=1;n<e.length;n++){let r=e[n];for(let e in r){let n=t[e],o=r[e];"function"==typeof n&&"function"==typeof o&&"o"===e[0]&&"n"===e[1]&&e.charCodeAt(2)>=65&&e.charCodeAt(2)<=90?t[e]=S(n,o):"className"!==e&&"UNSAFE_className"!==e||"string"!=typeof n||"string"!=typeof o?"id"===e&&n&&o?t.id=I(n,o):t[e]=void 0!==o?o:n:t[e]=w(n,o)}}return t}function R(...e){return t=>{e.forEach(e=>function(e,t){if(null!=e)if(function(e){return"function"==typeof e}(e))e(t);else try{e.current=t}catch{throw new Error(`Cannot assign value '${t}' to ref '${e}'`)}}(e,t))}}var N=new Set(["id","type","style","title","role","tabIndex","htmlFor","width","height","abbr","accept","acceptCharset","accessKey","action","allowFullScreen","allowTransparency","alt","async","autoComplete","autoFocus","autoPlay","cellPadding","cellSpacing","challenge","charset","checked","cite","class","className","cols","colSpan","command","content","contentEditable","contextMenu","controls","coords","crossOrigin","data","dateTime","default","defer","dir","disabled","download","draggable","dropzone","encType","enterKeyHint","for","form","formAction","formEncType","formMethod","formNoValidate","formTarget","frameBorder","headers","hidden","high","href","hrefLang","httpEquiv","icon","inputMode","isMap","itemId","itemProp","itemRef","itemScope","itemType","kind","label","lang","list","loop","manifest","max","maxLength","media","mediaGroup","method","min","minLength","multiple","muted","name","noValidate","open","optimum","pattern","ping","placeholder","poster","preload","radioGroup","referrerPolicy","readOnly","rel","required","rows","rowSpan","sandbox","scope","scoped","scrolling","seamless","selected","shape","size","sizes","slot","sortable","span","spellCheck","src","srcDoc","srcSet","start","step","target","translate","typeMustMatch","useMap","value","wmode","wrap"]),P=new Set(["onCopy","onCut","onPaste","onLoad","onError","onWheel","onScroll","onCompositionEnd","onCompositionStart","onCompositionUpdate","onKeyDown","onKeyPress","onKeyUp","onFocus","onBlur","onChange","onInput","onSubmit","onClick","onContextMenu","onDoubleClick","onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onPointerDown","onPointerEnter","onPointerLeave","onPointerUp","onSelect","onTouchCancel","onTouchEnd","onTouchMove","onTouchStart","onAnimationStart","onAnimationEnd","onAnimationIteration","onTransitionEnd"]),O=/^(data-.*)$/,T=/^(aria-.*)$/,M=/^(on[A-Z].*)$/;function D(e,t={}){let{labelable:n=!0,enabled:r=!0,propNames:o,omitPropNames:s,omitEventNames:i,omitDataProps:a,omitEventProps:l}=t,c={};if(!r)return e;for(const d in e)(null==s?void 0:s.has(d))||(null==i?void 0:i.has(d))&&M.test(d)||M.test(d)&&!P.has(d)||a&&O.test(d)||l&&M.test(d)||(Object.prototype.hasOwnProperty.call(e,d)&&(N.has(d)||n&&T.test(d)||(null==o?void 0:o.has(d))||O.test(d))||M.test(d))&&(c[d]=e[d]);return c}var[A,L]=v({name:"ProviderContext",strict:!1});const z=new Set(["Arab","Syrc","Samr","Mand","Thaa","Mend","Nkoo","Adlm","Rohg","Hebr"]),F=new Set(["ae","ar","arc","bcc","bqi","ckb","dv","fa","glk","he","ku","mzn","nqo","pnb","ps","sd","ug","ur","yi"]);function B(e){if(Intl.Locale){let t=new Intl.Locale(e).maximize(),n="function"==typeof t.getTextInfo?t.getTextInfo():t.textInfo;if(n)return"rtl"===n.direction;if(t.script)return z.has(t.script)}let t=e.split("-")[0];return F.has(t)}const $={prefix:String(Math.round(1e10*Math.random())),current:0},_=u.createContext($),H=u.createContext(!1);let V=new WeakMap;const U="function"==typeof u.useId?function(e){let t=u.useId(),[n]=d.useState(K());return e||`${n?"react-aria":`react-aria${$.prefix}`}-${t}`}:function(e){let t=d.useContext(_),n=function(e=!1){let t=d.useContext(_),n=d.useRef(null);if(null===n.current&&!e){var r,o;let e=null===(o=u.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED)||void 0===o||null===(r=o.ReactCurrentOwner)||void 0===r?void 0:r.current;if(e){let n=V.get(e);null==n?V.set(e,{id:t.current,state:e.memoizedState}):e.memoizedState!==n.state&&(t.current=n.id,V.delete(e))}n.current=++t.current}return n.current}(!!e),r=`react-aria${t.prefix}`;return e||`${r}-${n}`};function W(){return!1}function G(){return!0}function q(e){return()=>{}}function K(){return"function"==typeof u.useSyncExternalStore?u.useSyncExternalStore(q,W,G):d.useContext(H)}const Y=Symbol.for("react-aria.i18n.locale");function X(){let e="undefined"!=typeof window&&window[Y]||"undefined"!=typeof navigator&&(navigator.language||navigator.userLanguage)||"en-US";try{Intl.DateTimeFormat.supportedLocalesOf([e])}catch{e="en-US"}return{locale:e,direction:B(e)?"rtl":"ltr"}}let J=X(),Z=new Set;function Q(){J=X();for(let e of Z)e(J)}function ee(){let e=K(),[t,n]=d.useState(J);return d.useEffect(()=>(0===Z.size&&window.addEventListener("languagechange",Q),Z.add(n),()=>{Z.delete(n),0===Z.size&&window.removeEventListener("languagechange",Q)}),[]),e?{locale:"en-US",direction:"ltr"}:t}const te=u.createContext(null);function ne(e){let{locale:t,children:n}=e,r=u.useMemo(()=>({locale:t,direction:B(t)?"rtl":"ltr"}),[t]);return u.createElement(te.Provider,{value:r},n)}function re(e){let{children:t}=e,n=ee();return u.createElement(te.Provider,{value:n},t)}function oe(e){let{locale:t,children:n}=e;return t?u.createElement(ne,{locale:t,children:n}):u.createElement(re,{children:n})}function se(e,t,n){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.set(e,n)}const ie="undefined"!=typeof document?u.useLayoutEffect:()=>{};var ae;const le=null!==(ae=u.useInsertionEffect)&&void 0!==ae?ae:ie;function ce(e){const t=d.useRef(null);return le(()=>{t.current=e},[e]),d.useCallback((...e)=>{const n=t.current;return null==n?void 0:n(...e)},[])}let de,ue=Boolean("undefined"!=typeof window&&window.document&&window.document.createElement),pe=new Map;function fe(e,t){if(e===t)return e;let n=pe.get(e);if(n)return n.forEach(e=>e.current=t),t;let r=pe.get(t);return r?(r.forEach(t=>t.current=e),e):t}function ge(...e){return(...t)=>{for(let n of e)"function"==typeof n&&n(...t)}}"undefined"!=typeof FinalizationRegistry&&(de=new FinalizationRegistry(e=>{pe.delete(e)}));const he=e=>{var t;return null!==(t=null==e?void 0:e.ownerDocument)&&void 0!==t?t:document},me=e=>{if(e&&"window"in e&&e.window===e)return e;return he(e).defaultView||window};function ve(e,t){return!(!t||!e)&&e.contains(t)}const be=(e=document)=>e.activeElement;function ye(e){return e.target}function xe(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(n=xe(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function we(){for(var e,t,n=0,r="",o=arguments.length;n<o;n++)(e=arguments[n])&&(t=xe(e))&&(r&&(r+=" "),r+=t);return r}function ke(...e){let t={...e[0]};for(let n=1;n<e.length;n++){let r=e[n];for(let e in r){let n=t[e],o=r[e];"function"==typeof n&&"function"==typeof o&&"o"===e[0]&&"n"===e[1]&&e.charCodeAt(2)>=65&&e.charCodeAt(2)<=90?t[e]=ge(n,o):"className"!==e&&"UNSAFE_className"!==e||"string"!=typeof n||"string"!=typeof o?"id"===e&&n&&o?t.id=fe(n,o):t[e]=void 0!==o?o:n:t[e]=we(n,o)}}return t}const Ee=new Set(["id"]),Se=new Set(["aria-label","aria-labelledby","aria-describedby","aria-details"]),Ce=new Set(["href","hrefLang","target","rel","download","ping","referrerPolicy"]),Ie=new Set(["dir","lang","hidden","inert","translate"]),je=new Set(["onClick","onAuxClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onTouchCancel","onTouchEnd","onTouchMove","onTouchStart","onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut","onGotPointerCapture","onLostPointerCapture","onScroll","onWheel","onAnimationStart","onAnimationEnd","onAnimationIteration","onTransitionCancel","onTransitionEnd","onTransitionRun","onTransitionStart"]),Re=/^(data-.*)$/;function Ne(e,t={}){let{labelable:n,isLink:r,global:o,events:s=o,propNames:i}=t,a={};for(const l in e)Object.prototype.hasOwnProperty.call(e,l)&&(Ee.has(l)||n&&Se.has(l)||r&&Ce.has(l)||o&&Ie.has(l)||s&&je.has(l)||l.endsWith("Capture")&&je.has(l.slice(0,-7))||(null==i?void 0:i.has(l))||Re.test(l))&&(a[l]=e[l]);return a}function Pe(e){if(function(){if(null==Oe){Oe=!1;try{document.createElement("div").focus({get preventScroll(){return Oe=!0,!0}})}catch{}}return Oe}())e.focus({preventScroll:!0});else{let t=function(e){let t=e.parentNode,n=[],r=document.scrollingElement||document.documentElement;for(;t instanceof HTMLElement&&t!==r;)(t.offsetHeight<t.scrollHeight||t.offsetWidth<t.scrollWidth)&&n.push({element:t,scrollTop:t.scrollTop,scrollLeft:t.scrollLeft}),t=t.parentNode;r instanceof HTMLElement&&n.push({element:r,scrollTop:r.scrollTop,scrollLeft:r.scrollLeft});return n}(e);e.focus(),function(e){for(let{element:t,scrollTop:n,scrollLeft:r}of e)t.scrollTop=n,t.scrollLeft=r}(t)}}let Oe=null;function Te(e){var t;if("undefined"==typeof window||null==window.navigator)return!1;let n=null===(t=window.navigator.userAgentData)||void 0===t?void 0:t.brands;return Array.isArray(n)&&n.some(t=>e.test(t.brand))||e.test(window.navigator.userAgent)}function Me(e){var t;return"undefined"!=typeof window&&null!=window.navigator&&e.test((null===(t=window.navigator.userAgentData)||void 0===t?void 0:t.platform)||window.navigator.platform)}function De(e){let t=null;return()=>(null==t&&(t=e()),t)}const Ae=De(function(){return Me(/^Mac/i)}),Le=De(function(){return Me(/^iPhone/i)}),ze=De(function(){return Me(/^iPad/i)||Ae()&&navigator.maxTouchPoints>1}),Fe=De(function(){return Le()||ze()}),Be=De(function(){return Te(/AppleWebKit/i)&&!$e()}),$e=De(function(){return Te(/Chrome/i)}),_e=De(function(){return Te(/Android/i)}),He=De(function(){return Te(/Firefox/i)}),Ve=d.createContext({isNative:!0,open:function(e,t){Ge(e,e=>We(e,t))},useHref:e=>e});function Ue(e){let{children:t,navigate:n,useHref:r}=e,o=d.useMemo(()=>({isNative:!1,open:(e,t,r,o)=>{Ge(e,e=>{!function(e,t){let n=e.getAttribute("target");return!(n&&"_self"!==n||e.origin!==location.origin||e.hasAttribute("download")||t.metaKey||t.ctrlKey||t.altKey||t.shiftKey)}(e,t)?We(e,t):n(r,o)})},useHref:r||(e=>e)}),[n,r]);return u.createElement(Ve.Provider,{value:o},t)}function We(e,t,n=!0){var r,o;let{metaKey:s,ctrlKey:i,altKey:a,shiftKey:l}=t;He()&&(null===(o=window.event)||void 0===o||null===(r=o.type)||void 0===r?void 0:r.startsWith("key"))&&"_blank"===e.target&&(Ae()?s=!0:i=!0);let c=Be()&&Ae()&&!ze()?new KeyboardEvent("keydown",{keyIdentifier:"Enter",metaKey:s,ctrlKey:i,altKey:a,shiftKey:l}):new MouseEvent("click",{metaKey:s,ctrlKey:i,altKey:a,shiftKey:l,bubbles:!0,cancelable:!0});We.isOpening=n,Pe(e),e.dispatchEvent(c),We.isOpening=!1}function Ge(e,t){if(e instanceof HTMLAnchorElement)t(e);else if(e.hasAttribute("data-href")){let n=document.createElement("a");n.href=e.getAttribute("data-href"),e.hasAttribute("data-target")&&(n.target=e.getAttribute("data-target")),e.hasAttribute("data-rel")&&(n.rel=e.getAttribute("data-rel")),e.hasAttribute("data-download")&&(n.download=e.getAttribute("data-download")),e.hasAttribute("data-ping")&&(n.ping=e.getAttribute("data-ping")),e.hasAttribute("data-referrer-policy")&&(n.referrerPolicy=e.getAttribute("data-referrer-policy")),e.appendChild(n),t(n),e.removeChild(n)}}We.isOpening=!1;let qe=new Map,Ke=new Set;function Ye(){if("undefined"==typeof window)return;function e(e){return"propertyName"in e}let t=n=>{if(!e(n)||!n.target)return;let r=qe.get(n.target);if(r&&(r.delete(n.propertyName),0===r.size&&(n.target.removeEventListener("transitioncancel",t),qe.delete(n.target)),0===qe.size)){for(let e of Ke)e();Ke.clear()}};document.body.addEventListener("transitionrun",n=>{if(!e(n)||!n.target)return;let r=qe.get(n.target);r||(r=new Set,qe.set(n.target,r),n.target.addEventListener("transitioncancel",t,{once:!0})),r.add(n.propertyName)}),document.body.addEventListener("transitionend",t)}function Xe(e){requestAnimationFrame(()=>{!function(){for(const[e]of qe)"isConnected"in e&&!e.isConnected&&qe.delete(e)}(),0===qe.size?e():Ke.add(e)})}function Je(){let e=d.useRef(new Map),t=d.useCallback((t,n,r,o)=>{let s=(null==o?void 0:o.once)?(...t)=>{e.current.delete(r),r(...t)}:r;e.current.set(r,{type:n,eventTarget:t,fn:s,options:o}),t.addEventListener(n,s,o)},[]),n=d.useCallback((t,n,r,o)=>{var s;let i=(null===(s=e.current.get(r))||void 0===s?void 0:s.fn)||r;t.removeEventListener(n,i,o),e.current.delete(r)},[]),r=d.useCallback(()=>{e.current.forEach((e,t)=>{n(e.eventTarget,e.type,t,e.options)})},[n]);return d.useEffect(()=>r,[r]),{addGlobalListener:t,removeGlobalListener:n,removeAllGlobalListeners:r}}function Ze(e){const{ref:t,box:n,onResize:r}=e;d.useEffect(()=>{let e=null==t?void 0:t.current;if(e){if(void 0===window.ResizeObserver)return window.addEventListener("resize",r,!1),()=>{window.removeEventListener("resize",r,!1)};{const t=new window.ResizeObserver(e=>{e.length&&r()});return t.observe(e,{box:n}),()=>{e&&t.unobserve(e)}}}},[r,t,n])}function Qe(e,t){ie(()=>{if(e&&e.ref&&t)return e.ref.current=t.current,()=>{e.ref&&(e.ref.current=null)}})}function et(e){return!(""!==e.pointerType||!e.isTrusted)||(_e()&&e.pointerType?"click"===e.type&&1===e.buttons:0===e.detail&&!e.pointerType)}"undefined"!=typeof document&&("loading"!==document.readyState?Ye():document.addEventListener("DOMContentLoaded",Ye));const tt="undefined"!=typeof Element&&"checkVisibility"in Element.prototype;function nt(e,t){return tt?e.checkVisibility({visibilityProperty:!0})&&!e.closest("[data-react-aria-prevent-focus]"):"#comment"!==e.nodeName&&function(e){const t=me(e);if(!(e instanceof t.HTMLElement||e instanceof t.SVGElement))return!1;let{display:n,visibility:r}=e.style,o="none"!==n&&"hidden"!==r&&"collapse"!==r;if(o){const{getComputedStyle:t}=e.ownerDocument.defaultView;let{display:n,visibility:r}=t(e);o="none"!==n&&"hidden"!==r&&"collapse"!==r}return o}(e)&&function(e,t){return!e.hasAttribute("hidden")&&!e.hasAttribute("data-react-aria-prevent-focus")&&("DETAILS"!==e.nodeName||!t||"SUMMARY"===t.nodeName||e.hasAttribute("open"))}(e,t)&&(!e.parentElement||nt(e.parentElement,e))}const rt=["input:not([disabled]):not([type=hidden])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","a[href]","area[href]","summary","iframe","object","embed","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable^="false"])',"permission"],ot=rt.join(":not([hidden]),")+",[tabindex]:not([disabled]):not([hidden])";function st(e){return e.matches(ot)&&nt(e)&&!function(e){let t=e;for(;null!=t;){if(t instanceof t.ownerDocument.defaultView.HTMLElement&&t.inert)return!0;t=t.parentElement}return!1}(e)}function it(e,t=-1/0,n=1/0){return Math.min(Math.max(e,t),n)}rt.push('[tabindex]:not([tabindex="-1"]):not([disabled])');const at={top:"top",bottom:"top",left:"left",right:"left"},lt={top:"bottom",bottom:"top",left:"right",right:"left"},ct={top:"left",left:"top"},dt={top:"height",left:"width"},ut={width:"totalWidth",height:"totalHeight"},pt={};let ft="undefined"!=typeof document?window.visualViewport:null;function gt(e){let t=0,n=0,r=0,o=0,s=0,i=0,a={};var l;let c=(null!==(l=null==ft?void 0:ft.scale)&&void 0!==l?l:1)>1;if("BODY"===e.tagName){let l=document.documentElement;var d,u;r=l.clientWidth,o=l.clientHeight,t=null!==(d=null==ft?void 0:ft.width)&&void 0!==d?d:r,n=null!==(u=null==ft?void 0:ft.height)&&void 0!==u?u:o,a.top=l.scrollTop||e.scrollTop,a.left=l.scrollLeft||e.scrollLeft,ft&&(s=ft.offsetTop,i=ft.offsetLeft)}else({width:t,height:n,top:s,left:i}=kt(e,!1)),a.top=e.scrollTop,a.left=e.scrollLeft,r=t,o=n;var p,f;Be()&&("BODY"===e.tagName||"HTML"===e.tagName)&&c&&(a.top=0,a.left=0,s=null!==(p=null==ft?void 0:ft.pageTop)&&void 0!==p?p:0,i=null!==(f=null==ft?void 0:ft.pageLeft)&&void 0!==f?f:0);return{width:t,height:n,totalWidth:r,totalHeight:o,scroll:a,top:s,left:i}}function ht(e,t,n,r,o,s,i){var a;let l=null!==(a=o.scroll[e])&&void 0!==a?a:0,c=r[dt[e]],d=r.scroll[at[e]]+s,u=c+r.scroll[at[e]]-s,p=t-l+i[e]-r[at[e]],f=t-l+n+i[e]-r[at[e]];return p<d?d-p:f>u?Math.max(u-f,d-p):0}function mt(e){if(pt[e])return pt[e];let[t,n]=e.split(" "),r=at[t]||"right",o=ct[r];at[n]||(n="center");let s=dt[r],i=dt[o];return pt[e]={placement:t,crossPlacement:n,axis:r,crossAxis:o,size:s,crossSize:i},pt[e]}function vt(e,t,n,r,o,s,i,a,l,c){let{placement:d,crossPlacement:u,axis:p,crossAxis:f,size:g,crossSize:h}=r,m={};var v,b,y,x,w;m[f]=null!==(v=e[f])&&void 0!==v?v:0,"center"===u?m[f]+=((null!==(b=e[h])&&void 0!==b?b:0)-(null!==(y=n[h])&&void 0!==y?y:0))/2:u!==f&&(m[f]+=(null!==(x=e[h])&&void 0!==x?x:0)-(null!==(w=n[h])&&void 0!==w?w:0)),m[f]+=s;const k=e[f]-n[h]+l+c,E=e[f]+e[h]-l-c;if(m[f]=it(m[f],k,E),d===p){const n=a?i[g]:t[ut[g]];m[lt[p]]=Math.floor(n-e[p]+o)}else m[p]=Math.floor(e[p]+e[g]+o);return m}function bt(e,t,n,r,o,s){let{placement:i,axis:a,size:l}=s;var c,d,u;return i===a?Math.max(0,n[a]-e[a]-(null!==(c=e.scroll[a])&&void 0!==c?c:0)+t[a]-(null!==(d=r[a])&&void 0!==d?d:0)-r[lt[a]]-o):Math.max(0,e[l]+e[a]+e.scroll[a]-t[a]-n[a]-n[l]-(null!==(u=r[a])&&void 0!==u?u:0)-r[lt[a]]-o)}function yt(e,t,n,r,o,s,i,a,l,c,d,u,p,f,g,h){let m=mt(e),{size:v,crossAxis:b,crossSize:y,placement:x,crossPlacement:w}=m,k=vt(t,a,n,m,d,u,c,p,g,h),E=d,S=bt(a,c,t,o,s+d,m);if(i&&r[v]>S){let e=mt(`${lt[x]} ${w}`),r=vt(t,a,n,e,d,u,c,p,g,h);bt(a,c,t,o,s+d,e)>S&&(m=e,k=r,E=d)}let C="bottom";"top"===m.axis?"top"===m.placement?C="top":"bottom"===m.placement&&(C="bottom"):"top"===m.crossAxis&&("top"===m.crossPlacement?C="bottom":"bottom"===m.crossPlacement&&(C="top"));let I=ht(b,k[b],n[y],a,l,s,c);k[b]+=I;let j=function(e,t,n,r,o,s,i,a){const l=r?n.height:t[ut.height];var c;let d=null!=e.top?n.top+e.top:n.top+(l-(null!==(c=e.bottom)&&void 0!==c?c:0)-i);var u,p,f,g,h,m;let v="top"!==a?Math.max(0,t.height+t.top+(null!==(u=t.scroll.top)&&void 0!==u?u:0)-d-((null!==(p=o.top)&&void 0!==p?p:0)+(null!==(f=o.bottom)&&void 0!==f?f:0)+s)):Math.max(0,d+i-(t.top+(null!==(g=t.scroll.top)&&void 0!==g?g:0))-((null!==(h=o.top)&&void 0!==h?h:0)+(null!==(m=o.bottom)&&void 0!==m?m:0)+s));return Math.min(t.height-2*s,v)}(k,a,c,p,o,s,n.height,C);f&&f<j&&(j=f),n.height=Math.min(n.height,j),k=vt(t,a,n,m,E,u,c,p,g,h),I=ht(b,k[b],n[y],a,l,s,c),k[b]+=I;let R={},N=t[b]-k[b]-o[at[b]],P=N+.5*t[y];const O=g/2+h;var T,M,D,A;const L="left"===at[b]?(null!==(T=o.left)&&void 0!==T?T:0)+(null!==(M=o.right)&&void 0!==M?M:0):(null!==(D=o.top)&&void 0!==D?D:0)+(null!==(A=o.bottom)&&void 0!==A?A:0),z=n[y]-L-g/2-h,F=it(P,t[b]+g/2-(k[b]+o[at[b]]),t[b]+t[y]-g/2-(k[b]+o[at[b]]));R[b]=it(F,O,z),({placement:x,crossPlacement:w}=m),g?N=R[b]:"right"===w?N+=t[y]:"center"===w&&(N+=t[y]/2);let B="left"===x||"top"===x?n[v]:0,$={x:"top"===x||"bottom"===x?N:B,y:"left"===x||"right"===x?N:B};return{position:k,maxHeight:j,arrowOffsetLeft:R.left,arrowOffsetTop:R.top,placement:x,triggerAnchorPoint:$}}function xt(e){let{placement:t,targetNode:n,overlayNode:r,scrollNode:o,padding:s,shouldFlip:i,boundaryElement:a,offset:l,crossOffset:c,maxHeight:d,arrowSize:u=0,arrowBoundaryOffset:p=0}=e,f=r instanceof HTMLElement?function(e){let t=e.offsetParent;t&&t===document.body&&"static"===window.getComputedStyle(t).position&&!St(t)&&(t=document.documentElement);if(null==t)for(t=e.parentElement;t&&!St(t);)t=t.parentElement;return t||document.documentElement}(r):document.documentElement,g=f===document.documentElement;const h=window.getComputedStyle(f).position;let m=!!h&&"static"!==h,v=g?kt(n,!1):Et(n,f,!1);if(!g){let{marginTop:e,marginLeft:t}=window.getComputedStyle(n);v.top+=parseInt(e,10)||0,v.left+=parseInt(t,10)||0}let b=kt(r,!0),y=function(e){let t=window.getComputedStyle(e);return{top:parseInt(t.marginTop,10)||0,bottom:parseInt(t.marginBottom,10)||0,left:parseInt(t.marginLeft,10)||0,right:parseInt(t.marginRight,10)||0}}(r);var x,w,k,E;b.width+=(null!==(x=y.left)&&void 0!==x?x:0)+(null!==(w=y.right)&&void 0!==w?w:0),b.height+=(null!==(k=y.top)&&void 0!==k?k:0)+(null!==(E=y.bottom)&&void 0!==E?E:0);let S={top:(C=o).scrollTop,left:C.scrollLeft,width:C.scrollWidth,height:C.scrollHeight};var C;let I=gt(a),j=gt(f),R="BODY"===a.tagName?kt(f,!1):Et(f,a,!1);return"HTML"===f.tagName&&"BODY"===a.tagName&&(j.scroll.top=0,j.scroll.left=0),yt(t,v,b,S,y,s,i,I,j,R,l,c,m,d,u,p)}function wt(e,t){let{top:n,left:r,width:o,height:s}=e.getBoundingClientRect();return t&&e instanceof e.ownerDocument.defaultView.HTMLElement&&(o=e.offsetWidth,s=e.offsetHeight),{top:n,left:r,width:o,height:s}}function kt(e,t){let{top:n,left:r,width:o,height:s}=wt(e,t),{scrollTop:i,scrollLeft:a,clientTop:l,clientLeft:c}=document.documentElement;return{top:n+i-l,left:r+a-c,width:o,height:s}}function Et(e,t,n){let r,o=window.getComputedStyle(e);if("fixed"===o.position)r=wt(e,n);else{r=kt(e,n);let o=kt(t,n),s=window.getComputedStyle(t);o.top+=(parseInt(s.borderTopWidth,10)||0)-t.scrollTop,o.left+=(parseInt(s.borderLeftWidth,10)||0)-t.scrollLeft,r.top-=o.top,r.left-=o.left}return r.top-=parseInt(o.marginTop,10)||0,r.left-=parseInt(o.marginLeft,10)||0,r}function St(e){let t=window.getComputedStyle(e);return"none"!==t.transform||/transform|perspective/.test(t.willChange)||"none"!==t.filter||"paint"===t.contain||"backdropFilter"in t&&"none"!==t.backdropFilter||"WebkitBackdropFilter"in t&&"none"!==t.WebkitBackdropFilter}const Ct=new WeakMap;let It="undefined"!=typeof document?window.visualViewport:null;function jt(e){let{direction:t}=function(){let e=ee();return d.useContext(te)||e}(),{arrowSize:n,targetRef:r,overlayRef:o,arrowRef:s,scrollRef:i=o,placement:a="bottom",containerPadding:l=12,shouldFlip:c=!0,boundaryElement:u=("undefined"!=typeof document?document.body:null),offset:p=0,crossOffset:f=0,shouldUpdatePosition:g=!0,isOpen:h=!0,onClose:m,maxHeight:v,arrowBoundaryOffset:b=0}=e,[y,x]=d.useState(null),w=[g,a,o.current,r.current,null==s?void 0:s.current,i.current,l,c,u,p,f,h,t,v,b,n],k=d.useRef(null==It?void 0:It.scale);d.useEffect(()=>{h&&(k.current=null==It?void 0:It.scale)},[h]);let E=d.useCallback(()=>{if(!(!1!==g&&h&&o.current&&r.current&&u))return;if((null==It?void 0:It.scale)!==k.current)return;let e=null;if(i.current&&i.current.contains(document.activeElement)){var d;let t=null===(d=document.activeElement)||void 0===d?void 0:d.getBoundingClientRect(),n=i.current.getBoundingClientRect();var m,y;if(e={type:"top",offset:(null!==(m=null==t?void 0:t.top)&&void 0!==m?m:0)-n.top},e.offset>n.height/2)e.type="bottom",e.offset=(null!==(y=null==t?void 0:t.bottom)&&void 0!==y?y:0)-n.bottom}let w=o.current;var E,S;!v&&o.current&&(w.style.top="0px",w.style.bottom="",w.style.maxHeight=(null!==(S=null===(E=window.visualViewport)||void 0===E?void 0:E.height)&&void 0!==S?S:window.innerHeight)+"px");let C=xt({placement:Rt(a,t),overlayNode:o.current,targetNode:r.current,scrollNode:i.current||o.current,padding:l,shouldFlip:c,boundaryElement:u,offset:p,crossOffset:f,maxHeight:v,arrowSize:null!=n?n:(null==s?void 0:s.current)?wt(s.current,!0).width:0,arrowBoundaryOffset:b});if(C.position){if(w.style.top="",w.style.bottom="",w.style.left="",w.style.right="",Object.keys(C.position).forEach(e=>w.style[e]=C.position[e]+"px"),w.style.maxHeight=null!=C.maxHeight?C.maxHeight+"px":"",e&&document.activeElement&&i.current){let t=document.activeElement.getBoundingClientRect(),n=i.current.getBoundingClientRect(),r=t[e.type]-n[e.type];i.current.scrollTop+=r-e.offset}x(C)}},w);var S;ie(E,w),ie(()=>(window.addEventListener("resize",S,!1),()=>{window.removeEventListener("resize",S,!1)}),[S=E]),Ze({ref:o,onResize:E}),Ze({ref:r,onResize:E});let C=d.useRef(!1);ie(()=>{let e,t=()=>{C.current=!0,clearTimeout(e),e=setTimeout(()=>{C.current=!1},500),E()},n=()=>{C.current&&t()};return null==It||It.addEventListener("resize",t),null==It||It.addEventListener("scroll",n),()=>{null==It||It.removeEventListener("resize",t),null==It||It.removeEventListener("scroll",n)}},[E]);let I=d.useCallback(()=>{C.current||null==m||m()},[m,C]);var j,R,N;return function(e){let{triggerRef:t,isOpen:n,onClose:r}=e;d.useEffect(()=>{if(!n||null===r)return;let e=e=>{let n=e.target;if(!t.current||n instanceof Node&&!n.contains(t.current))return;if(e.target instanceof HTMLInputElement||e.target instanceof HTMLTextAreaElement)return;let o=r||Ct.get(t.current);o&&o()};return window.addEventListener("scroll",e,!0),()=>{window.removeEventListener("scroll",e,!0)}},[n,r,t])}({triggerRef:r,isOpen:h,onClose:m&&I}),{overlayProps:{style:{position:y?"absolute":"fixed",top:y?void 0:0,left:y?void 0:0,zIndex:1e5,...null==y?void 0:y.position,maxHeight:null!==(j=null==y?void 0:y.maxHeight)&&void 0!==j?j:"100vh"}},placement:null!==(R=null==y?void 0:y.placement)&&void 0!==R?R:null,triggerAnchorPoint:null!==(N=null==y?void 0:y.triggerAnchorPoint)&&void 0!==N?N:null,arrowProps:{"aria-hidden":"true",role:"presentation",style:{left:null==y?void 0:y.arrowOffsetLeft,top:null==y?void 0:y.arrowOffsetTop}},updatePosition:E}}function Rt(e,t){return"rtl"===t?e.replace("start","right").replace("end","left"):e.replace("start","left").replace("end","right")}function Nt(e){let t=e;return t.nativeEvent=e,t.isDefaultPrevented=()=>t.defaultPrevented,t.isPropagationStopped=()=>t.cancelBubble,t.persist=()=>{},t}function Pt(e,t){Object.defineProperty(e,"target",{value:t}),Object.defineProperty(e,"currentTarget",{value:t})}function Ot(e){let t=d.useRef({isFocused:!1,observer:null});ie(()=>{const e=t.current;return()=>{e.observer&&(e.observer.disconnect(),e.observer=null)}},[]);let n=ce(t=>{null==e||e(t)});return d.useCallback(e=>{if(e.target instanceof HTMLButtonElement||e.target instanceof HTMLInputElement||e.target instanceof HTMLTextAreaElement||e.target instanceof HTMLSelectElement){t.current.isFocused=!0;let r=e.target,o=e=>{if(t.current.isFocused=!1,r.disabled){let t=Nt(e);n(t)}t.current.observer&&(t.current.observer.disconnect(),t.current.observer=null)};r.addEventListener("focusout",o,{once:!0}),t.current.observer=new MutationObserver(()=>{if(t.current.isFocused&&r.disabled){var e;null===(e=t.current.observer)||void 0===e||e.disconnect();let n=r===document.activeElement?null:document.activeElement;r.dispatchEvent(new FocusEvent("blur",{relatedTarget:n})),r.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:n}))}}),t.current.observer.observe(r,{attributes:!0,attributeFilter:["disabled"]})}},[n])}let Tt=!1;let Mt="default",Dt="",At=new WeakMap;function Lt(e){if(Fe()){if("disabled"!==Mt)return;Mt="restoring",setTimeout(()=>{Xe(()=>{if("restoring"===Mt){const t=he(e);"none"===t.documentElement.style.webkitUserSelect&&(t.documentElement.style.webkitUserSelect=Dt||""),Dt="",Mt="default"}})},300)}else if((e instanceof HTMLElement||e instanceof SVGElement)&&e&&At.has(e)){let t=At.get(e),n="userSelect"in e.style?"userSelect":"webkitUserSelect";"none"===e.style[n]&&(e.style[n]=t),""===e.getAttribute("style")&&e.removeAttribute("style"),At.delete(e)}}const zt=u.createContext({register:()=>{}});function Ft(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}function Bt(e,t,n){return function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(e,Ft(e,t,"set"),n),n}zt.displayName="PressResponderContext";var $t=new WeakMap;class _t{continuePropagation(){Bt(this,$t,!1)}get shouldStopPropagation(){return function(e,t){return t.get?t.get.call(e):t.value}(e=this,Ft(e,$t,"get"));var e}constructor(e,t,n,r){var o;se(this,$t,{writable:!0,value:void 0}),Bt(this,$t,!0);let s=null!==(o=null==r?void 0:r.target)&&void 0!==o?o:n.currentTarget;const i=null==s?void 0:s.getBoundingClientRect();let a,l,c=0,d=null;null!=n.clientX&&null!=n.clientY&&(l=n.clientX,d=n.clientY),i&&(null!=l&&null!=d?(a=l-i.left,c=d-i.top):(a=i.width/2,c=i.height/2)),this.type=e,this.pointerType=t,this.target=n.currentTarget,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.x=a,this.y=c}}const Ht=Symbol("linkClicked"),Vt="react-aria-pressable-style",Ut="data-react-aria-pressable";function Wt(e){let{onPress:t,onPressChange:n,onPressStart:r,onPressEnd:o,onPressUp:s,onClick:i,isDisabled:a,isPressed:l,preventFocusOnPress:c,shouldCancelOnPointerExit:u,allowTextSelectionOnPress:p,ref:f,...g}=function(e){let t=d.useContext(zt);if(t){let{register:n,...r}=t;e=ke(r,e),n()}return Qe(t,e.ref),e}(e),[h,m]=d.useState(!1),v=d.useRef({isPressed:!1,ignoreEmulatedMouseEvents:!1,didFirePressStart:!1,isTriggeringEvent:!1,activePointerId:null,target:null,isOverTarget:!1,pointerType:null,disposables:[]}),{addGlobalListener:b,removeAllGlobalListeners:y}=Je(),x=ce((e,t)=>{let o=v.current;if(a||o.didFirePressStart)return!1;let s=!0;if(o.isTriggeringEvent=!0,r){let n=new _t("pressstart",t,e);r(n),s=n.shouldStopPropagation}return n&&n(!0),o.isTriggeringEvent=!1,o.didFirePressStart=!0,m(!0),s}),w=ce((e,r,s=!0)=>{let i=v.current;if(!i.didFirePressStart)return!1;i.didFirePressStart=!1,i.isTriggeringEvent=!0;let l=!0;if(o){let t=new _t("pressend",r,e);o(t),l=t.shouldStopPropagation}if(n&&n(!1),m(!1),t&&s&&!a){let n=new _t("press",r,e);t(n),l&&(l=n.shouldStopPropagation)}return i.isTriggeringEvent=!1,l}),k=ce((e,t)=>{let n=v.current;if(a)return!1;if(s){n.isTriggeringEvent=!0;let r=new _t("pressup",t,e);return s(r),n.isTriggeringEvent=!1,r.shouldStopPropagation}return!0}),E=ce(e=>{let t=v.current;if(t.isPressed&&t.target){t.didFirePressStart&&null!=t.pointerType&&w(Kt(t.target,e),t.pointerType,!1),t.isPressed=!1,t.isOverTarget=!1,t.activePointerId=null,t.pointerType=null,y(),p||Lt(t.target);for(let e of t.disposables)e();t.disposables=[]}}),S=ce(e=>{u&&E(e)}),C=ce(e=>{a||null==i||i(e)}),I=ce((e,t)=>{if(!a&&i){let n=new MouseEvent("click",e);Pt(n,t),i(Nt(n))}}),j=d.useMemo(()=>{let e=v.current,t={onKeyDown(t){if(qt(t.nativeEvent,t.currentTarget)&&ve(t.currentTarget,ye(t.nativeEvent))){var r;Yt(ye(t.nativeEvent),t.key)&&t.preventDefault();let o=!0;if(!e.isPressed&&!t.repeat){e.target=t.currentTarget,e.isPressed=!0,e.pointerType="keyboard",o=x(t,"keyboard");let r=t.currentTarget,s=t=>{qt(t,r)&&!t.repeat&&ve(r,ye(t))&&e.target&&k(Kt(e.target,t),"keyboard")};b(he(t.currentTarget),"keyup",ge(s,n),!0)}o&&t.stopPropagation(),t.metaKey&&Ae()&&(null===(r=e.metaKeyEvents)||void 0===r||r.set(t.key,t.nativeEvent))}else"Meta"===t.key&&(e.metaKeyEvents=new Map)},onClick(t){if((!t||ve(t.currentTarget,ye(t.nativeEvent)))&&t&&0===t.button&&!e.isTriggeringEvent&&!We.isOpening){let n=!0;if(a&&t.preventDefault(),e.ignoreEmulatedMouseEvents||e.isPressed||"virtual"!==e.pointerType&&!et(t.nativeEvent)){if(e.isPressed&&"keyboard"!==e.pointerType){let r=e.pointerType||t.nativeEvent.pointerType||"virtual",o=k(Kt(t.currentTarget,t),r),s=w(Kt(t.currentTarget,t),r,!0);n=o&&s,e.isOverTarget=!1,C(t),E(t)}}else{let e=x(t,"virtual"),r=k(t,"virtual"),o=w(t,"virtual");C(t),n=e&&r&&o}e.ignoreEmulatedMouseEvents=!1,n&&t.stopPropagation()}}},n=t=>{var n;if(e.isPressed&&e.target&&qt(t,e.target)){var r;Yt(ye(t),t.key)&&t.preventDefault();let n=ye(t),o=ve(e.target,ye(t));w(Kt(e.target,t),"keyboard",o),o&&I(t,e.target),y(),"Enter"!==t.key&&Gt(e.target)&&ve(e.target,n)&&!t[Ht]&&(t[Ht]=!0,We(e.target,t,!1)),e.isPressed=!1,null===(r=e.metaKeyEvents)||void 0===r||r.delete(t.key)}else if("Meta"===t.key&&(null===(n=e.metaKeyEvents)||void 0===n?void 0:n.size)){var o;let t=e.metaKeyEvents;e.metaKeyEvents=void 0;for(let n of t.values())null===(o=e.target)||void 0===o||o.dispatchEvent(new KeyboardEvent("keyup",n))}};if("undefined"!=typeof PointerEvent){t.onPointerDown=t=>{if(0!==t.button||!ve(t.currentTarget,ye(t.nativeEvent)))return;if(o=t.nativeEvent,!_e()&&0===o.width&&0===o.height||1===o.width&&1===o.height&&0===o.pressure&&0===o.detail&&"mouse"===o.pointerType)return void(e.pointerType="virtual");var o;e.pointerType=t.pointerType;let s=!0;if(!e.isPressed){e.isPressed=!0,e.isOverTarget=!0,e.activePointerId=t.pointerId,e.target=t.currentTarget,p||function(e){if(Fe()){if("default"===Mt){const t=he(e);Dt=t.documentElement.style.webkitUserSelect,t.documentElement.style.webkitUserSelect="none"}Mt="disabled"}else if(e instanceof HTMLElement||e instanceof SVGElement){let t="userSelect"in e.style?"userSelect":"webkitUserSelect";At.set(e,e.style[t]),e.style[t]="none"}}(e.target),s=x(t,e.pointerType);let o=ye(t.nativeEvent);"releasePointerCapture"in o&&o.releasePointerCapture(t.pointerId),b(he(t.currentTarget),"pointerup",n,!1),b(he(t.currentTarget),"pointercancel",r,!1)}s&&t.stopPropagation()},t.onMouseDown=t=>{if(ve(t.currentTarget,ye(t.nativeEvent))&&0===t.button){if(c){let n=function(e){for(;e&&!st(e);)e=e.parentElement;let t=me(e),n=t.document.activeElement;if(!n||n===e)return;Tt=!0;let r=!1,o=e=>{(e.target===n||r)&&e.stopImmediatePropagation()},s=t=>{(t.target===n||r)&&(t.stopImmediatePropagation(),e||r||(r=!0,Pe(n),l()))},i=t=>{(t.target===e||r)&&t.stopImmediatePropagation()},a=t=>{(t.target===e||r)&&(t.stopImmediatePropagation(),r||(r=!0,Pe(n),l()))};t.addEventListener("blur",o,!0),t.addEventListener("focusout",s,!0),t.addEventListener("focusin",a,!0),t.addEventListener("focus",i,!0);let l=()=>{cancelAnimationFrame(c),t.removeEventListener("blur",o,!0),t.removeEventListener("focusout",s,!0),t.removeEventListener("focusin",a,!0),t.removeEventListener("focus",i,!0),Tt=!1,r=!1},c=requestAnimationFrame(l);return l}(t.target);n&&e.disposables.push(n)}t.stopPropagation()}},t.onPointerUp=t=>{ve(t.currentTarget,ye(t.nativeEvent))&&"virtual"!==e.pointerType&&(0!==t.button||e.isPressed||k(t,e.pointerType||t.pointerType))},t.onPointerEnter=t=>{t.pointerId===e.activePointerId&&e.target&&!e.isOverTarget&&null!=e.pointerType&&(e.isOverTarget=!0,x(Kt(e.target,t),e.pointerType))},t.onPointerLeave=t=>{t.pointerId===e.activePointerId&&e.target&&e.isOverTarget&&null!=e.pointerType&&(e.isOverTarget=!1,w(Kt(e.target,t),e.pointerType,!1),S(t))};let n=t=>{if(t.pointerId===e.activePointerId&&e.isPressed&&0===t.button&&e.target){if(ve(e.target,ye(t))&&null!=e.pointerType){let n=!1,r=setTimeout(()=>{e.isPressed&&e.target instanceof HTMLElement&&(n?E(t):(Pe(e.target),e.target.click()))},80);b(t.currentTarget,"click",()=>n=!0,!0),e.disposables.push(()=>clearTimeout(r))}else E(t);e.isOverTarget=!1}},r=e=>{E(e)};t.onDragStart=e=>{ve(e.currentTarget,ye(e.nativeEvent))&&E(e)}}return t},[b,a,c,y,p,E,S,w,x,k,C,I]);return d.useEffect(()=>{if(!f)return;const e=he(f.current);if(!e||!e.head||e.getElementById(Vt))return;const t=e.createElement("style");t.id=Vt,t.textContent=`\n@layer {\n  [${Ut}] {\n    touch-action: pan-x pan-y pinch-zoom;\n  }\n}\n    `.trim(),e.head.prepend(t)},[f]),d.useEffect(()=>{let e=v.current;return()=>{var t;p||Lt(null!==(t=e.target)&&void 0!==t?t:void 0);for(let n of e.disposables)n();e.disposables=[]}},[p]),{isPressed:l||h,pressProps:ke(g,j,{[Ut]:!0})}}function Gt(e){return"A"===e.tagName&&e.hasAttribute("href")}function qt(e,t){const{key:n,code:r}=e,o=t,s=o.getAttribute("role");return!("Enter"!==n&&" "!==n&&"Spacebar"!==n&&"Space"!==r||o instanceof me(o).HTMLInputElement&&!Jt(o,n)||o instanceof me(o).HTMLTextAreaElement||o.isContentEditable||("link"===s||!s&&Gt(o))&&"Enter"!==n)}function Kt(e,t){let n=t.clientX,r=t.clientY;return{currentTarget:e,shiftKey:t.shiftKey,ctrlKey:t.ctrlKey,metaKey:t.metaKey,altKey:t.altKey,clientX:n,clientY:r}}function Yt(e,t){return e instanceof HTMLInputElement?!Jt(e,t):function(e){return!(e instanceof HTMLInputElement||(e instanceof HTMLButtonElement?"submit"===e.type||"reset"===e.type:Gt(e)))}(e)}const Xt=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function Jt(e,t){return"checkbox"===e.type||"radio"===e.type?" "===t:Xt.has(e.type)}let Zt=null,Qt=new Set,en=new Map,tn=!1,nn=!1;const rn={Tab:!0,Escape:!0};function on(e,t){for(let n of Qt)n(e,t)}function sn(e){tn=!0,function(e){return!(e.metaKey||!Ae()&&e.altKey||e.ctrlKey||"Control"===e.key||"Shift"===e.key||"Meta"===e.key)}(e)&&(Zt="keyboard",on("keyboard",e))}function an(e){Zt="pointer","mousedown"!==e.type&&"pointerdown"!==e.type||(tn=!0,on("pointer",e))}function ln(e){et(e)&&(tn=!0,Zt="virtual")}function cn(e){e.target!==window&&e.target!==document&&!Tt&&e.isTrusted&&(tn||nn||(Zt="virtual",on("virtual",e)),tn=!1,nn=!1)}function dn(){Tt||(tn=!1,nn=!0)}function un(e){if("undefined"==typeof window||"undefined"==typeof document||en.get(me(e)))return;const t=me(e),n=he(e);let r=t.HTMLElement.prototype.focus;t.HTMLElement.prototype.focus=function(){tn=!0,r.apply(this,arguments)},n.addEventListener("keydown",sn,!0),n.addEventListener("keyup",sn,!0),n.addEventListener("click",ln,!0),t.addEventListener("focus",cn,!0),t.addEventListener("blur",dn,!1),"undefined"!=typeof PointerEvent&&(n.addEventListener("pointerdown",an,!0),n.addEventListener("pointermove",an,!0),n.addEventListener("pointerup",an,!0)),t.addEventListener("beforeunload",()=>{pn(e)},{once:!0}),en.set(t,{focus:r})}const pn=(e,t)=>{const n=me(e),r=he(e);t&&r.removeEventListener("DOMContentLoaded",t),en.has(n)&&(n.HTMLElement.prototype.focus=en.get(n).focus,r.removeEventListener("keydown",sn,!0),r.removeEventListener("keyup",sn,!0),r.removeEventListener("click",ln,!0),n.removeEventListener("focus",cn,!0),n.removeEventListener("blur",dn,!1),"undefined"!=typeof PointerEvent&&(r.removeEventListener("pointerdown",an,!0),r.removeEventListener("pointermove",an,!0),r.removeEventListener("pointerup",an,!0)),en.delete(n))};function fn(){return"pointer"!==Zt}function gn(){return Zt}"undefined"!=typeof document&&function(e){const t=he(e);let n;"loading"!==t.readyState?un(e):(n=()=>{un(e)},t.addEventListener("DOMContentLoaded",n))}();const hn=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function mn(e,t,n){un(),d.useEffect(()=>{let t=(t,r)=>{(function(e,t,n){let r=he(null==n?void 0:n.target);const o="undefined"!=typeof window?me(null==n?void 0:n.target).HTMLInputElement:HTMLInputElement,s="undefined"!=typeof window?me(null==n?void 0:n.target).HTMLTextAreaElement:HTMLTextAreaElement,i="undefined"!=typeof window?me(null==n?void 0:n.target).HTMLElement:HTMLElement,a="undefined"!=typeof window?me(null==n?void 0:n.target).KeyboardEvent:KeyboardEvent;return!((e=e||r.activeElement instanceof o&&!hn.has(r.activeElement.type)||r.activeElement instanceof s||r.activeElement instanceof i&&r.activeElement.isContentEditable)&&"keyboard"===t&&n instanceof a&&!rn[n.key])})(!!(null==n?void 0:n.isTextInput),t,r)&&e(fn())};return Qt.add(t),()=>{Qt.delete(t)}},t)}function vn(e){let{isDisabled:t,onFocus:n,onBlur:r,onFocusChange:o}=e;const s=d.useCallback(e=>{if(e.target===e.currentTarget)return r&&r(e),o&&o(!1),!0},[r,o]),i=Ot(s),a=d.useCallback(e=>{const t=he(e.target),r=t?be(t):be();e.target===e.currentTarget&&r===ye(e.nativeEvent)&&(n&&n(e),o&&o(!0),i(e))},[o,n,i]);return{focusProps:{onFocus:!t&&(n||o||r)?a:void 0,onBlur:t||!r&&!o?void 0:s}}}function bn(e){if(!e)return;let t=!0;return n=>{let r={...n,preventDefault(){n.preventDefault()},isDefaultPrevented:()=>n.isDefaultPrevented(),stopPropagation(){t=!0},continuePropagation(){t=!1},isPropagationStopped:()=>t};e(r),t&&n.stopPropagation()}}let yn=u.createContext(null);function xn(e,t){let{focusProps:n}=vn(e),{keyboardProps:r}=function(e){return{keyboardProps:e.isDisabled?{}:{onKeyDown:bn(e.onKeyDown),onKeyUp:bn(e.onKeyUp)}}}(e),o=ke(n,r),s=function(e){let t=d.useContext(yn)||{};Qe(t,e);let{ref:n,...r}=t;return r}(t),i=e.isDisabled?{}:s,a=d.useRef(e.autoFocus);d.useEffect(()=>{a.current&&t.current&&function(e){const t=he(e),n=be(t);if("virtual"===gn()){let r=n;Xe(()=>{be(t)===r&&e.isConnected&&Pe(e)})}else Pe(e)}(t.current),a.current=!1},[t]);let l=e.excludeFromTabOrder?-1:0;return e.isDisabled&&(l=void 0),{focusableProps:ke({...o,tabIndex:l},i)}}function wn(e){let{isDisabled:t,onBlurWithin:n,onFocusWithin:r,onFocusWithinChange:o}=e,s=d.useRef({isFocusWithin:!1}),{addGlobalListener:i,removeAllGlobalListeners:a}=Je(),l=d.useCallback(e=>{e.currentTarget.contains(e.target)&&s.current.isFocusWithin&&!e.currentTarget.contains(e.relatedTarget)&&(s.current.isFocusWithin=!1,a(),n&&n(e),o&&o(!1))},[n,o,s,a]),c=Ot(l),u=d.useCallback(e=>{if(!e.currentTarget.contains(e.target))return;const t=he(e.target),n=be(t);if(!s.current.isFocusWithin&&n===ye(e.nativeEvent)){r&&r(e),o&&o(!0),s.current.isFocusWithin=!0,c(e);let n=e.currentTarget;i(t,"focus",e=>{if(s.current.isFocusWithin&&!ve(n,e.target)){let r=new t.defaultView.FocusEvent("blur",{relatedTarget:e.target});Pt(r,n);let o=Nt(r);l(o)}},{capture:!0})}},[r,o,c,i,l]);return t?{focusWithinProps:{onFocus:void 0,onBlur:void 0}}:{focusWithinProps:{onFocus:u,onBlur:l}}}let kn=!1,En=0;function Sn(e){"touch"===e.pointerType&&(kn=!0,setTimeout(()=>{kn=!1},50))}function Cn(){if("undefined"!=typeof document)return 0===En&&"undefined"!=typeof PointerEvent&&document.addEventListener("pointerup",Sn),En++,()=>{En--,En>0||"undefined"!=typeof PointerEvent&&document.removeEventListener("pointerup",Sn)}}function In(e){let{onHoverStart:t,onHoverChange:n,onHoverEnd:r,isDisabled:o}=e,[s,i]=d.useState(!1),a=d.useRef({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;d.useEffect(Cn,[]);let{addGlobalListener:l,removeAllGlobalListeners:c}=Je(),{hoverProps:u,triggerHoverEnd:p}=d.useMemo(()=>{let e=(e,t)=>{let o=a.target;a.pointerType="",a.target=null,"touch"!==t&&a.isHovered&&o&&(a.isHovered=!1,c(),r&&r({type:"hoverend",target:o,pointerType:t}),n&&n(!1),i(!1))},s={};return"undefined"!=typeof PointerEvent&&(s.onPointerEnter=r=>{kn&&"mouse"===r.pointerType||((r,s)=>{if(a.pointerType=s,o||"touch"===s||a.isHovered||!r.currentTarget.contains(r.target))return;a.isHovered=!0;let c=r.currentTarget;a.target=c,l(he(r.target),"pointerover",t=>{a.isHovered&&a.target&&!ve(a.target,t.target)&&e(t,t.pointerType)},{capture:!0}),t&&t({type:"hoverstart",target:c,pointerType:s}),n&&n(!0),i(!0)})(r,r.pointerType)},s.onPointerLeave=t=>{!o&&t.currentTarget.contains(t.target)&&e(t,t.pointerType)}),{hoverProps:s,triggerHoverEnd:e}},[t,n,r,o,a,l,c]);return d.useEffect(()=>{o&&p({currentTarget:a.target},a.pointerType)},[o]),{hoverProps:u,isHovered:s}}function jn(e,t){if(e.button>0)return!1;if(e.target){const t=e.target.ownerDocument;if(!t||!t.documentElement.contains(e.target))return!1;if(e.target.closest("[data-react-aria-top-layer]"))return!1}return!!t.current&&!e.composedPath().includes(t.current)}function Rn(e,t){return!!e&&(!!t&&t.some(t=>t.contains(e)))}function Nn(e){return function(e,t=null){if(e instanceof Element&&e.closest("[data-react-aria-top-layer]"))return!0;for(let{scopeRef:n}of Tn.traverse(Tn.getTreeNode(t)))if(n&&Rn(e,n.current))return!0;return!1}(e,null)}class Pn{get size(){return this.fastMap.size}getTreeNode(e){return this.fastMap.get(e)}addTreeNode(e,t,n){let r=this.fastMap.get(null!=t?t:null);if(!r)return;let o=new On({scopeRef:e});r.addChild(o),o.parent=r,this.fastMap.set(e,o),n&&(o.nodeToRestore=n)}addNode(e){this.fastMap.set(e.scopeRef,e)}removeTreeNode(e){if(null===e)return;let t=this.fastMap.get(e);if(!t)return;let n=t.parent;for(let o of this.traverse())o!==t&&t.nodeToRestore&&o.nodeToRestore&&t.scopeRef&&t.scopeRef.current&&Rn(o.nodeToRestore,t.scopeRef.current)&&(o.nodeToRestore=t.nodeToRestore);let r=t.children;n&&(n.removeChild(t),r.size>0&&r.forEach(e=>n&&n.addChild(e))),this.fastMap.delete(t.scopeRef)}*traverse(e=this.root){if(null!=e.scopeRef&&(yield e),e.children.size>0)for(let t of e.children)yield*this.traverse(t)}clone(){var e;let t=new Pn;var n;for(let r of this.traverse())t.addTreeNode(r.scopeRef,null!==(n=null===(e=r.parent)||void 0===e?void 0:e.scopeRef)&&void 0!==n?n:null,r.nodeToRestore);return t}constructor(){this.fastMap=new Map,this.root=new On({scopeRef:null}),this.fastMap.set(null,this.root)}}class On{addChild(e){this.children.add(e),e.parent=this}removeChild(e){this.children.delete(e),e.parent=void 0}constructor(e){this.children=new Set,this.contain=!1,this.scopeRef=e.scopeRef}}let Tn=new Pn;function Mn(e={}){let{autoFocus:t=!1,isTextInput:n,within:r}=e,o=d.useRef({isFocused:!1,isFocusVisible:t||fn()}),[s,i]=d.useState(!1),[a,l]=d.useState(()=>o.current.isFocused&&o.current.isFocusVisible),c=d.useCallback(()=>l(o.current.isFocused&&o.current.isFocusVisible),[]),u=d.useCallback(e=>{o.current.isFocused=e,i(e),c()},[c]);mn(e=>{o.current.isFocusVisible=e,c()},[],{isTextInput:n});let{focusProps:p}=vn({isDisabled:r,onFocusChange:u}),{focusWithinProps:f}=wn({isDisabled:!r,onFocusWithinChange:u});return{isFocused:s,isFocusVisible:a,focusProps:r?f:p}}const Dn=d.createContext({});const An=u.createContext(null);function Ln(e){let{children:t}=e,n=d.useContext(An),[r,o]=d.useState(0),s=d.useMemo(()=>({parent:n,modalCount:r,addModal(){o(e=>e+1),n&&n.addModal()},removeModal(){o(e=>e-1),n&&n.removeModal()}}),[n,r]);return u.createElement(An.Provider,{value:s},t)}function zn(e){let{modalProviderProps:t}=function(){let e=d.useContext(An);return{modalProviderProps:{"aria-hidden":!!(e&&e.modalCount>0)||void 0}}}();return u.createElement("div",{"data-overlay-container":!0,...e,...t})}function Fn(e){return u.createElement(Ln,null,u.createElement(zn,e))}function Bn(e){let t=K(),{portalContainer:n=(t?null:document.body),...r}=e,{getContainer:o}=null!==(s=d.useContext(Dn))&&void 0!==s?s:{};var s;if(!e.portalContainer&&o&&(n=o()),u.useEffect(()=>{if(null==n?void 0:n.closest("[data-overlay-container]"))throw new Error("An OverlayContainer must not be inside another container. Please change the portalContainer prop.")},[n]),!n)return null;let i=u.createElement(Fn,r);return p.createPortal(i,n)}var $n=({children:e,navigate:t,disableAnimation:s,useHref:i,disableRipple:a=!1,skipFramerMotionAnimations:l=s,reducedMotion:c="never",validationBehavior:u,locale:p="en-US",labelPlacement:f,defaultDates:g,createCalendar:h,spinnerVariant:m,...v})=>{let b=e;t&&(b=n.jsx(Ue,{navigate:t,useHref:i,children:b}));const y=d.useMemo(()=>(s&&l&&(o.skipAnimations=!0),{createCalendar:h,defaultDates:g,disableAnimation:s,disableRipple:a,validationBehavior:u,labelPlacement:f,spinnerVariant:m}),[h,null==g?void 0:g.maxDate,null==g?void 0:g.minDate,s,a,u,f,m]);return n.jsx(A,{value:y,children:n.jsx(oe,{locale:p,children:n.jsx(r,{reducedMotion:c,children:n.jsx(Fn,{...v,children:b})})})})};function _n(e){return d.forwardRef(e)}var Hn=(e,t,n=!0)=>{if(!t)return[e,{}];const r=t.reduce((t,n)=>n in e?{...t,[n]:e[n]}:t,{});if(n){return[Object.keys(e).filter(e=>!t.includes(e)).reduce((t,n)=>({...t,[n]:e[n]}),{}),r]}return[e,r]},Vn=/\s+/g,Un=e=>"string"==typeof e&&e?e.replace(Vn," ").trim():e,Wn=(...e)=>{let t=[],n=e=>{if(!e&&0!==e&&0n!==e)return;if(Array.isArray(e)){for(let t=0,r=e.length;t<r;t++)n(e[t]);return}let r=typeof e;if("string"===r||"number"===r||"bigint"===r){if("number"===r&&e!=e)return;t.push(String(e))}else if("object"===r){let n=Object.keys(e);for(let r=0,o=n.length;r<o;r++){let o=n[r];e[o]&&t.push(o)}}};for(let r=0,o=e.length;r<o;r++){let t=e[r];null!=t&&n(t)}return t.length>0?Un(t.join(" ")):void 0},Gn=e=>!1===e?"false":!0===e?"true":0===e?"0":e,qn=e=>{if(!e||"object"!=typeof e)return!0;for(let t in e)return!1;return!0},Kn=(e,t)=>{for(let n in t)if(Object.prototype.hasOwnProperty.call(t,n)){let r=t[n];e[n]=n in e?Wn(e[n],r):r}return e},Yn=(e,t)=>{for(let n=0;n<e.length;n++){let r=e[n];Array.isArray(r)?Yn(r,t):r&&t.push(r)}},Xn=(...e)=>{let t=[];Yn(e,t);let n=[];for(let r=0;r<t.length;r++)t[r]&&n.push(t[r]);return n},Jn=(e,t)=>{let n={};for(let r in e){let o=e[r];if(r in t){let e=t[r];Array.isArray(o)||Array.isArray(e)?n[r]=Xn(e,o):n[r]="object"==typeof o&&"object"==typeof e&&o&&e?Jn(o,e):e+" "+o}else n[r]=o}for(let r in t)r in e||(n[r]=t[r]);return n},Zn={twMerge:!0,twMergeConfig:{},responsiveVariants:!1};var Qn=function(){let e=null,t={},n=!1;return{get cachedTwMerge(){return e},set cachedTwMerge(t){e=t},get cachedTwMergeConfig(){return t},set cachedTwMergeConfig(e){t=e},get didTwMergeConfigChange(){return n},set didTwMergeConfigChange(e){n=e},reset(){e=null,t={},n=!1}}}();const er=e=>{const t=or(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:e=>{const n=e.split("-");return""===n[0]&&1!==n.length&&n.shift(),tr(n,t)||rr(e)},getConflictingClassGroupIds:(e,t)=>{const o=n[e]||[];return t&&r[e]?[...o,...r[e]]:o}}},tr=(e,t)=>{var n;if(0===e.length)return t.classGroupId;const r=e[0],o=t.nextPart.get(r),s=o?tr(e.slice(1),o):void 0;if(s)return s;if(0===t.validators.length)return;const i=e.join("-");return null==(n=t.validators.find(({validator:e})=>e(i)))?void 0:n.classGroupId},nr=/^\[(.+)\]$/,rr=e=>{if(nr.test(e)){const t=nr.exec(e)[1],n=null==t?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},or=e=>{const{theme:t,classGroups:n}=e,r={nextPart:new Map,validators:[]};for(const o in n)sr(n[o],r,o,t);return r},sr=(e,t,n,r)=>{e.forEach(e=>{if("string"==typeof e){return void((""===e?t:ir(t,e)).classGroupId=n)}if("function"==typeof e)return ar(e)?void sr(e(r),t,n,r):void t.validators.push({validator:e,classGroupId:n});Object.entries(e).forEach(([e,o])=>{sr(o,ir(t,e),n,r)})})},ir=(e,t)=>{let n=e;return t.split("-").forEach(e=>{n.nextPart.has(e)||n.nextPart.set(e,{nextPart:new Map,validators:[]}),n=n.nextPart.get(e)}),n},ar=e=>e.isThemeGetter,lr=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const o=(o,s)=>{n.set(o,s),t++,t>e&&(t=0,r=n,n=new Map)};return{get(e){let t=n.get(e);return void 0!==t?t:void 0!==(t=r.get(e))?(o(e,t),t):void 0},set(e,t){n.has(e)?n.set(e,t):o(e,t)}}},cr=e=>{const{prefix:t,experimentalParseClassName:n}=e;let r=e=>{const t=[];let n,r=0,o=0,s=0;for(let l=0;l<e.length;l++){let i=e[l];if(0===r&&0===o){if(":"===i){t.push(e.slice(s,l)),s=l+1;continue}if("/"===i){n=l;continue}}"["===i?r++:"]"===i?r--:"("===i?o++:")"===i&&o--}const i=0===t.length?e:e.substring(s),a=dr(i);return{modifiers:t,hasImportantModifier:a!==i,baseClassName:a,maybePostfixModifierPosition:n&&n>s?n-s:void 0}};if(t){const e=t+":",n=r;r=t=>t.startsWith(e)?n(t.substring(e.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:t,maybePostfixModifierPosition:void 0}}if(n){const e=r;r=t=>n({className:t,parseClassName:e})}return r},dr=e=>e.endsWith("!")?e.substring(0,e.length-1):e.startsWith("!")?e.substring(1):e,ur=e=>{const t=Object.fromEntries(e.orderSensitiveModifiers.map(e=>[e,!0]));return e=>{if(e.length<=1)return e;const n=[];let r=[];return e.forEach(e=>{"["===e[0]||t[e]?(n.push(...r.sort(),e),r=[]):r.push(e)}),n.push(...r.sort()),n}},pr=/\s+/;function fr(){let e,t,n=0,r="";for(;n<arguments.length;)(e=arguments[n++])&&(t=gr(e))&&(r&&(r+=" "),r+=t);return r}const gr=e=>{if("string"==typeof e)return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=gr(e[r]))&&(n&&(n+=" "),n+=t);return n};function hr(e,...t){let n,r,o,s=function(a){const l=t.reduce((e,t)=>t(e),e());return n=(e=>({cache:lr(e.cacheSize),parseClassName:cr(e),sortModifiers:ur(e),...er(e)}))(l),r=n.cache.get,o=n.cache.set,s=i,i(a)};function i(e){const t=r(e);if(t)return t;const s=((e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:o,sortModifiers:s}=t,i=[],a=e.trim().split(pr);let l="";for(let c=a.length-1;c>=0;c-=1){const e=a[c],{isExternal:t,modifiers:d,hasImportantModifier:u,baseClassName:p,maybePostfixModifierPosition:f}=n(e);if(t){l=e+(l.length>0?" "+l:l);continue}let g=!!f,h=r(g?p.substring(0,f):p);if(!h){if(!g){l=e+(l.length>0?" "+l:l);continue}if(h=r(p),!h){l=e+(l.length>0?" "+l:l);continue}g=!1}const m=s(d).join(":"),v=u?m+"!":m,b=v+h;if(i.includes(b))continue;i.push(b);const y=o(h,g);for(let n=0;n<y.length;++n){const e=y[n];i.push(v+e)}l=e+(l.length>0?" "+l:l)}return l})(e,n);return o(e,s),s}return function(){return s(fr.apply(null,arguments))}}const mr=e=>{const t=t=>t[e]||[];return t.isThemeGetter=!0,t},vr=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,br=/^\((?:(\w[\w-]*):)?(.+)\)$/i,yr=/^\d+\/\d+$/,xr=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,wr=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,kr=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,Er=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Sr=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Cr=e=>yr.test(e),Ir=e=>!!e&&!Number.isNaN(Number(e)),jr=e=>!!e&&Number.isInteger(Number(e)),Rr=e=>e.endsWith("%")&&Ir(e.slice(0,-1)),Nr=e=>xr.test(e),Pr=()=>!0,Or=e=>wr.test(e)&&!kr.test(e),Tr=()=>!1,Mr=e=>Er.test(e),Dr=e=>Sr.test(e),Ar=e=>!zr(e)&&!Vr(e),Lr=e=>Xr(e,eo,Tr),zr=e=>vr.test(e),Fr=e=>Xr(e,to,Or),Br=e=>Xr(e,no,Ir),$r=e=>Xr(e,Zr,Tr),_r=e=>Xr(e,Qr,Dr),Hr=e=>Xr(e,oo,Mr),Vr=e=>br.test(e),Ur=e=>Jr(e,to),Wr=e=>Jr(e,ro),Gr=e=>Jr(e,Zr),qr=e=>Jr(e,eo),Kr=e=>Jr(e,Qr),Yr=e=>Jr(e,oo,!0),Xr=(e,t,n)=>{const r=vr.exec(e);return!!r&&(r[1]?t(r[1]):n(r[2]))},Jr=(e,t,n=!1)=>{const r=br.exec(e);return!!r&&(r[1]?t(r[1]):n)},Zr=e=>"position"===e||"percentage"===e,Qr=e=>"image"===e||"url"===e,eo=e=>"length"===e||"size"===e||"bg-size"===e,to=e=>"length"===e,no=e=>"number"===e,ro=e=>"family-name"===e,oo=e=>"shadow"===e,so=()=>{const e=mr("color"),t=mr("font"),n=mr("text"),r=mr("font-weight"),o=mr("tracking"),s=mr("leading"),i=mr("breakpoint"),a=mr("container"),l=mr("spacing"),c=mr("radius"),d=mr("shadow"),u=mr("inset-shadow"),p=mr("text-shadow"),f=mr("drop-shadow"),g=mr("blur"),h=mr("perspective"),m=mr("aspect"),v=mr("ease"),b=mr("animate"),y=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom",Vr,zr],x=()=>[Vr,zr,l],w=()=>[Cr,"full","auto",...x()],k=()=>[jr,"none","subgrid",Vr,zr],E=()=>["auto",{span:["full",jr,Vr,zr]},jr,Vr,zr],S=()=>[jr,"auto",Vr,zr],C=()=>["auto","min","max","fr",Vr,zr],I=()=>["auto",...x()],j=()=>[Cr,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...x()],R=()=>[e,Vr,zr],N=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom",Gr,$r,{position:[Vr,zr]}],P=()=>["auto","cover","contain",qr,Lr,{size:[Vr,zr]}],O=()=>[Rr,Ur,Fr],T=()=>["","none","full",c,Vr,zr],M=()=>["",Ir,Ur,Fr],D=()=>[Ir,Rr,Gr,$r],A=()=>["","none",g,Vr,zr],L=()=>["none",Ir,Vr,zr],z=()=>["none",Ir,Vr,zr],F=()=>[Ir,Vr,zr],B=()=>[Cr,"full",...x()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Nr],breakpoint:[Nr],color:[Pr],container:[Nr],"drop-shadow":[Nr],ease:["in","out","in-out"],font:[Ar],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Nr],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Nr],shadow:[Nr],spacing:["px",Ir],text:[Nr],"text-shadow":[Nr],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Cr,zr,Vr,m]}],container:["container"],columns:[{columns:[Ir,zr,Vr,a]}],"break-after":[{"break-after":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-before":[{"break-before":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:y()}],overflow:[{overflow:["auto","hidden","clip","visible","scroll"]}],"overflow-x":[{"overflow-x":["auto","hidden","clip","visible","scroll"]}],"overflow-y":[{"overflow-y":["auto","hidden","clip","visible","scroll"]}],overscroll:[{overscroll:["auto","contain","none"]}],"overscroll-x":[{"overscroll-x":["auto","contain","none"]}],"overscroll-y":[{"overscroll-y":["auto","contain","none"]}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:w()}],"inset-x":[{"inset-x":w()}],"inset-y":[{"inset-y":w()}],start:[{start:w()}],end:[{end:w()}],top:[{top:w()}],right:[{right:w()}],bottom:[{bottom:w()}],left:[{left:w()}],visibility:["visible","invisible","collapse"],z:[{z:[jr,"auto",Vr,zr]}],basis:[{basis:[Cr,"full","auto",a,...x()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Ir,Cr,"auto","initial","none",zr]}],grow:[{grow:["",Ir,Vr,zr]}],shrink:[{shrink:["",Ir,Vr,zr]}],order:[{order:[jr,"first","last","none",Vr,zr]}],"grid-cols":[{"grid-cols":k()}],"col-start-end":[{col:E()}],"col-start":[{"col-start":S()}],"col-end":[{"col-end":S()}],"grid-rows":[{"grid-rows":k()}],"row-start-end":[{row:E()}],"row-start":[{"row-start":S()}],"row-end":[{"row-end":S()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":C()}],"auto-rows":[{"auto-rows":C()}],gap:[{gap:x()}],"gap-x":[{"gap-x":x()}],"gap-y":[{"gap-y":x()}],"justify-content":[{justify:["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe","normal"]}],"justify-items":[{"justify-items":["start","end","center","stretch","center-safe","end-safe","normal"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch","center-safe","end-safe"]}],"align-content":[{content:["normal","start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"]}],"align-items":[{items:["start","end","center","stretch","center-safe","end-safe",{baseline:["","last"]}]}],"align-self":[{self:["auto","start","end","center","stretch","center-safe","end-safe",{baseline:["","last"]}]}],"place-content":[{"place-content":["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"]}],"place-items":[{"place-items":["start","end","center","stretch","center-safe","end-safe","baseline"]}],"place-self":[{"place-self":["auto","start","end","center","stretch","center-safe","end-safe"]}],p:[{p:x()}],px:[{px:x()}],py:[{py:x()}],ps:[{ps:x()}],pe:[{pe:x()}],pt:[{pt:x()}],pr:[{pr:x()}],pb:[{pb:x()}],pl:[{pl:x()}],m:[{m:I()}],mx:[{mx:I()}],my:[{my:I()}],ms:[{ms:I()}],me:[{me:I()}],mt:[{mt:I()}],mr:[{mr:I()}],mb:[{mb:I()}],ml:[{ml:I()}],"space-x":[{"space-x":x()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":x()}],"space-y-reverse":["space-y-reverse"],size:[{size:j()}],w:[{w:[a,"screen",...j()]}],"min-w":[{"min-w":[a,"screen","none",...j()]}],"max-w":[{"max-w":[a,"screen","none","prose",{screen:[i]},...j()]}],h:[{h:["screen","lh",...j()]}],"min-h":[{"min-h":["screen","lh","none",...j()]}],"max-h":[{"max-h":["screen","lh",...j()]}],"font-size":[{text:["base",n,Ur,Fr]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,Vr,Br]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Rr,zr]}],"font-family":[{font:[Wr,zr,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[o,Vr,zr]}],"line-clamp":[{"line-clamp":[Ir,"none",Vr,Br]}],leading:[{leading:[s,...x()]}],"list-image":[{"list-image":["none",Vr,zr]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Vr,zr]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:R()}],"text-color":[{text:R()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:["solid","dashed","dotted","double","wavy"]}],"text-decoration-thickness":[{decoration:[Ir,"from-font","auto",Vr,Fr]}],"text-decoration-color":[{decoration:R()}],"underline-offset":[{"underline-offset":[Ir,"auto",Vr,zr]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:x()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Vr,zr]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Vr,zr]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:N()}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","space","round"]}]}],"bg-size":[{bg:P()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},jr,Vr,zr],radial:["",Vr,zr],conic:[jr,Vr,zr]},Kr,_r]}],"bg-color":[{bg:R()}],"gradient-from-pos":[{from:O()}],"gradient-via-pos":[{via:O()}],"gradient-to-pos":[{to:O()}],"gradient-from":[{from:R()}],"gradient-via":[{via:R()}],"gradient-to":[{to:R()}],rounded:[{rounded:T()}],"rounded-s":[{"rounded-s":T()}],"rounded-e":[{"rounded-e":T()}],"rounded-t":[{"rounded-t":T()}],"rounded-r":[{"rounded-r":T()}],"rounded-b":[{"rounded-b":T()}],"rounded-l":[{"rounded-l":T()}],"rounded-ss":[{"rounded-ss":T()}],"rounded-se":[{"rounded-se":T()}],"rounded-ee":[{"rounded-ee":T()}],"rounded-es":[{"rounded-es":T()}],"rounded-tl":[{"rounded-tl":T()}],"rounded-tr":[{"rounded-tr":T()}],"rounded-br":[{"rounded-br":T()}],"rounded-bl":[{"rounded-bl":T()}],"border-w":[{border:M()}],"border-w-x":[{"border-x":M()}],"border-w-y":[{"border-y":M()}],"border-w-s":[{"border-s":M()}],"border-w-e":[{"border-e":M()}],"border-w-t":[{"border-t":M()}],"border-w-r":[{"border-r":M()}],"border-w-b":[{"border-b":M()}],"border-w-l":[{"border-l":M()}],"divide-x":[{"divide-x":M()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":M()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:["solid","dashed","dotted","double","hidden","none"]}],"divide-style":[{divide:["solid","dashed","dotted","double","hidden","none"]}],"border-color":[{border:R()}],"border-color-x":[{"border-x":R()}],"border-color-y":[{"border-y":R()}],"border-color-s":[{"border-s":R()}],"border-color-e":[{"border-e":R()}],"border-color-t":[{"border-t":R()}],"border-color-r":[{"border-r":R()}],"border-color-b":[{"border-b":R()}],"border-color-l":[{"border-l":R()}],"divide-color":[{divide:R()}],"outline-style":[{outline:["solid","dashed","dotted","double","none","hidden"]}],"outline-offset":[{"outline-offset":[Ir,Vr,zr]}],"outline-w":[{outline:["",Ir,Ur,Fr]}],"outline-color":[{outline:R()}],shadow:[{shadow:["","none",d,Yr,Hr]}],"shadow-color":[{shadow:R()}],"inset-shadow":[{"inset-shadow":["none",u,Yr,Hr]}],"inset-shadow-color":[{"inset-shadow":R()}],"ring-w":[{ring:M()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:R()}],"ring-offset-w":[{"ring-offset":[Ir,Fr]}],"ring-offset-color":[{"ring-offset":R()}],"inset-ring-w":[{"inset-ring":M()}],"inset-ring-color":[{"inset-ring":R()}],"text-shadow":[{"text-shadow":["none",p,Yr,Hr]}],"text-shadow-color":[{"text-shadow":R()}],opacity:[{opacity:[Ir,Vr,zr]}],"mix-blend":[{"mix-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"]}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Ir]}],"mask-image-linear-from-pos":[{"mask-linear-from":D()}],"mask-image-linear-to-pos":[{"mask-linear-to":D()}],"mask-image-linear-from-color":[{"mask-linear-from":R()}],"mask-image-linear-to-color":[{"mask-linear-to":R()}],"mask-image-t-from-pos":[{"mask-t-from":D()}],"mask-image-t-to-pos":[{"mask-t-to":D()}],"mask-image-t-from-color":[{"mask-t-from":R()}],"mask-image-t-to-color":[{"mask-t-to":R()}],"mask-image-r-from-pos":[{"mask-r-from":D()}],"mask-image-r-to-pos":[{"mask-r-to":D()}],"mask-image-r-from-color":[{"mask-r-from":R()}],"mask-image-r-to-color":[{"mask-r-to":R()}],"mask-image-b-from-pos":[{"mask-b-from":D()}],"mask-image-b-to-pos":[{"mask-b-to":D()}],"mask-image-b-from-color":[{"mask-b-from":R()}],"mask-image-b-to-color":[{"mask-b-to":R()}],"mask-image-l-from-pos":[{"mask-l-from":D()}],"mask-image-l-to-pos":[{"mask-l-to":D()}],"mask-image-l-from-color":[{"mask-l-from":R()}],"mask-image-l-to-color":[{"mask-l-to":R()}],"mask-image-x-from-pos":[{"mask-x-from":D()}],"mask-image-x-to-pos":[{"mask-x-to":D()}],"mask-image-x-from-color":[{"mask-x-from":R()}],"mask-image-x-to-color":[{"mask-x-to":R()}],"mask-image-y-from-pos":[{"mask-y-from":D()}],"mask-image-y-to-pos":[{"mask-y-to":D()}],"mask-image-y-from-color":[{"mask-y-from":R()}],"mask-image-y-to-color":[{"mask-y-to":R()}],"mask-image-radial":[{"mask-radial":[Vr,zr]}],"mask-image-radial-from-pos":[{"mask-radial-from":D()}],"mask-image-radial-to-pos":[{"mask-radial-to":D()}],"mask-image-radial-from-color":[{"mask-radial-from":R()}],"mask-image-radial-to-color":[{"mask-radial-to":R()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"]}],"mask-image-conic-pos":[{"mask-conic":[Ir]}],"mask-image-conic-from-pos":[{"mask-conic-from":D()}],"mask-image-conic-to-pos":[{"mask-conic-to":D()}],"mask-image-conic-from-color":[{"mask-conic-from":R()}],"mask-image-conic-to-color":[{"mask-conic-to":R()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:N()}],"mask-repeat":[{mask:["no-repeat",{repeat:["","x","y","space","round"]}]}],"mask-size":[{mask:P()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Vr,zr]}],filter:[{filter:["","none",Vr,zr]}],blur:[{blur:A()}],brightness:[{brightness:[Ir,Vr,zr]}],contrast:[{contrast:[Ir,Vr,zr]}],"drop-shadow":[{"drop-shadow":["","none",f,Yr,Hr]}],"drop-shadow-color":[{"drop-shadow":R()}],grayscale:[{grayscale:["",Ir,Vr,zr]}],"hue-rotate":[{"hue-rotate":[Ir,Vr,zr]}],invert:[{invert:["",Ir,Vr,zr]}],saturate:[{saturate:[Ir,Vr,zr]}],sepia:[{sepia:["",Ir,Vr,zr]}],"backdrop-filter":[{"backdrop-filter":["","none",Vr,zr]}],"backdrop-blur":[{"backdrop-blur":A()}],"backdrop-brightness":[{"backdrop-brightness":[Ir,Vr,zr]}],"backdrop-contrast":[{"backdrop-contrast":[Ir,Vr,zr]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Ir,Vr,zr]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Ir,Vr,zr]}],"backdrop-invert":[{"backdrop-invert":["",Ir,Vr,zr]}],"backdrop-opacity":[{"backdrop-opacity":[Ir,Vr,zr]}],"backdrop-saturate":[{"backdrop-saturate":[Ir,Vr,zr]}],"backdrop-sepia":[{"backdrop-sepia":["",Ir,Vr,zr]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":x()}],"border-spacing-x":[{"border-spacing-x":x()}],"border-spacing-y":[{"border-spacing-y":x()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Vr,zr]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Ir,"initial",Vr,zr]}],ease:[{ease:["linear","initial",v,Vr,zr]}],delay:[{delay:[Ir,Vr,zr]}],animate:[{animate:["none",b,Vr,zr]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[h,Vr,zr]}],"perspective-origin":[{"perspective-origin":y()}],rotate:[{rotate:L()}],"rotate-x":[{"rotate-x":L()}],"rotate-y":[{"rotate-y":L()}],"rotate-z":[{"rotate-z":L()}],scale:[{scale:z()}],"scale-x":[{"scale-x":z()}],"scale-y":[{"scale-y":z()}],"scale-z":[{"scale-z":z()}],"scale-3d":["scale-3d"],skew:[{skew:F()}],"skew-x":[{"skew-x":F()}],"skew-y":[{"skew-y":F()}],transform:[{transform:[Vr,zr,"","none","gpu","cpu"]}],"transform-origin":[{origin:y()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:B()}],"translate-x":[{"translate-x":B()}],"translate-y":[{"translate-y":B()}],"translate-z":[{"translate-z":B()}],"translate-none":["translate-none"],accent:[{accent:R()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:R()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Vr,zr]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":x()}],"scroll-mx":[{"scroll-mx":x()}],"scroll-my":[{"scroll-my":x()}],"scroll-ms":[{"scroll-ms":x()}],"scroll-me":[{"scroll-me":x()}],"scroll-mt":[{"scroll-mt":x()}],"scroll-mr":[{"scroll-mr":x()}],"scroll-mb":[{"scroll-mb":x()}],"scroll-ml":[{"scroll-ml":x()}],"scroll-p":[{"scroll-p":x()}],"scroll-px":[{"scroll-px":x()}],"scroll-py":[{"scroll-py":x()}],"scroll-ps":[{"scroll-ps":x()}],"scroll-pe":[{"scroll-pe":x()}],"scroll-pt":[{"scroll-pt":x()}],"scroll-pr":[{"scroll-pr":x()}],"scroll-pb":[{"scroll-pb":x()}],"scroll-pl":[{"scroll-pl":x()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Vr,zr]}],fill:[{fill:["none",...R()]}],"stroke-w":[{stroke:[Ir,Ur,Fr,Br]}],stroke:[{stroke:["none",...R()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},io=(e,t,n)=>{void 0!==n&&(e[t]=n)},ao=(e,t)=>{if(t)for(const n in t)io(e,n,t[n])},lo=(e,t)=>{if(t)for(const n in t)co(e,t,n)},co=(e,t,n)=>{const r=t[n];void 0!==r&&(e[n]=e[n]?e[n].concat(r):r)},uo=(e,...t)=>"function"==typeof e?hr(so,e,...t):hr(()=>((e,{cacheSize:t,prefix:n,experimentalParseClassName:r,extend:o={},override:s={}})=>(io(e,"cacheSize",t),io(e,"prefix",n),io(e,"experimentalParseClassName",r),ao(e.theme,s.theme),ao(e.classGroups,s.classGroups),ao(e.conflictingClassGroups,s.conflictingClassGroups),ao(e.conflictingClassGroupModifiers,s.conflictingClassGroupModifiers),io(e,"orderSensitiveModifiers",s.orderSensitiveModifiers),lo(e.theme,o.theme),lo(e.classGroups,o.classGroups),lo(e.conflictingClassGroups,o.conflictingClassGroups),lo(e.conflictingClassGroupModifiers,o.conflictingClassGroupModifiers),co(e,o,"orderSensitiveModifiers"),e))(so(),e),...t),po=hr(so);var{tv:fo}=(e=>{let t=(t,n)=>{let{extend:r=null,slots:o={},variants:s={},compoundVariants:i=[],compoundSlots:a=[],defaultVariants:l={}}=t,c={...Zn,...n},d=(null==r?void 0:r.base)?Wn(r.base,null==t?void 0:t.base):null==t?void 0:t.base,u=(null==r?void 0:r.variants)&&!qn(r.variants)?Jn(s,r.variants):s,p=(null==r?void 0:r.defaultVariants)&&!qn(r.defaultVariants)?{...r.defaultVariants,...l}:l;!qn(c.twMergeConfig)&&!((e,t)=>{if(e===t)return!0;if(!e||!t)return!1;let n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let o=0;o<n.length;o++){let s=n[o];if(!r.includes(s)||e[s]!==t[s])return!1}return!0})(c.twMergeConfig,Qn.cachedTwMergeConfig)&&(Qn.didTwMergeConfigChange=!0,Qn.cachedTwMergeConfig=c.twMergeConfig);let f=qn(null==r?void 0:r.slots),g=qn(o)?{}:{base:Wn(null==t?void 0:t.base,f&&(null==r?void 0:r.base)),...o},h=f?g:Kn({...null==r?void 0:r.slots},qn(g)?{base:null==t?void 0:t.base}:g),m=qn(null==r?void 0:r.compoundVariants)?i:Xn(null==r?void 0:r.compoundVariants,i),v=t=>{if(qn(u)&&qn(o)&&f)return e(d,null==t?void 0:t.class,null==t?void 0:t.className)(c);if(m&&!Array.isArray(m))throw new TypeError('The "compoundVariants" prop must be an array. Received: '+typeof m);if(a&&!Array.isArray(a))throw new TypeError('The "compoundSlots" prop must be an array. Received: '+typeof a);let n=(e,t,n=[],r)=>{let o=n;if("string"==typeof t){let n=Un(t).split(" ");for(let t=0;t<n.length;t++)o.push(`${e}:${n[t]}`)}else if(Array.isArray(t))for(let s=0;s<t.length;s++)o.push(`${e}:${t[s]}`);else if("object"==typeof t&&"string"==typeof r&&r in t){let n=t[r];if(n&&"string"==typeof n){let t=Un(n).split(" "),s=[];for(let n=0;n<t.length;n++)s.push(`${e}:${t[n]}`);o[r]=o[r]?o[r].concat(s):s}else if(Array.isArray(n)&&n.length>0){let t=[];for(let r=0;r<n.length;r++)t.push(`${e}:${n[r]}`);o[r]=t}}return o},r=(e,r=u,o=null,s=null)=>{let i=r[e];if(!i||qn(i))return null;let a=(null==s?void 0:s[e])??(null==t?void 0:t[e]);if(null===a)return null;let l=Gn(a),d=Array.isArray(c.responsiveVariants)&&c.responsiveVariants.length>0||!0===c.responsiveVariants,f=null==p?void 0:p[e],g=[];if("object"==typeof l&&d)for(let[t,u]of Object.entries(l)){let e=i[u];"initial"!==t?Array.isArray(c.responsiveVariants)&&!c.responsiveVariants.includes(t)||(g=n(t,e,g,o)):f=u}let h=i[(null!=l&&"object"!=typeof l?l:Gn(f))||"false"];return"object"==typeof g&&"string"==typeof o&&g[o]?Kn(g,h):g.length>0?(g.push(h),"base"===o?g.join(" "):g):h},s=(e,t)=>{if(!u||"object"!=typeof u)return null;let n=[];for(let o in u){let s=r(o,u,e,t),i="base"===e&&"string"==typeof s?s:s&&s[e];i&&n.push(i)}return n},i={};for(let e in t){let n=t[e];void 0!==n&&(i[e]=n)}let l=(e,n)=>{var r;let o="object"==typeof(null==t?void 0:t[e])?{[e]:null==(r=t[e])?void 0:r.initial}:{};return{...p,...i,...o,...n}},g=(e=[],t)=>{let n=[],r=e.length;for(let o=0;o<r;o++){let{class:r,className:s,...i}=e[o],a=!0,c=l(null,t);for(let e in i){let t=i[e],n=c[e];if(Array.isArray(t)){if(!t.includes(n)){a=!1;break}}else{if(!(null!=t&&!1!==t||null!=n&&!1!==n))continue;if(n!==t){a=!1;break}}}a&&(r&&n.push(r),s&&n.push(s))}return n},v=t=>{let n=g(m,t);if(!Array.isArray(n))return n;let r={},o=e;for(let e=0;e<n.length;e++){let t=n[e];if("string"==typeof t)r.base=o(r.base,t)(c);else if("object"==typeof t)for(let e in t)r[e]=o(r[e],t[e])(c)}return r},b=e=>{if(a.length<1)return null;let t={},n=l(null,e);for(let r=0;r<a.length;r++){let{slots:e=[],class:o,className:s,...i}=a[r];if(!qn(i)){let e=!0;for(let t in i){let r=n[t],o=i[t];if(void 0===r||(Array.isArray(o)?!o.includes(r):o!==r)){e=!1;break}}if(!e)continue}for(let n=0;n<e.length;n++){let r=e[n];t[r]||(t[r]=[]),t[r].push([o,s])}}return t};if(!qn(o)||!f){let t={};if("object"==typeof h&&!qn(h)){let n=e;for(let e in h)t[e]=t=>{let r=v(t),o=b(t);return n(h[e],s(e,t),r?r[e]:void 0,o?o[e]:void 0,null==t?void 0:t.class,null==t?void 0:t.className)(c)}}return t}return e(d,(()=>{if(!u)return null;let e=Object.keys(u),t=[];for(let n=0;n<e.length;n++){let o=r(e[n],u);o&&t.push(o)}return t})(),g(m),null==t?void 0:t.class,null==t?void 0:t.className)(c)};return v.variantKeys=(()=>{if(u&&"object"==typeof u)return Object.keys(u)})(),v.extend=r,v.base=d,v.slots=h,v.variants=u,v.defaultVariants=p,v.compoundSlots=a,v.compoundVariants=m,v};return{tv:t,createTV:e=>(n,r)=>t(n,r?Jn(e,r):e)}})((...e)=>t=>{let n=Wn(e);return n&&t.twMerge?((!Qn.cachedTwMerge||Qn.didTwMergeConfigChange)&&(Qn.didTwMergeConfigChange=!1,Qn.cachedTwMerge=(e=>qn(e)?po:uo({...e,extend:{theme:e.theme,classGroups:e.classGroups,conflictingClassGroupModifiers:e.conflictingClassGroupModifiers,conflictingClassGroups:e.conflictingClassGroups,...e.extend}}))(Qn.cachedTwMergeConfig)),Qn.cachedTwMerge(n)||void 0):n}),go={default:"bg-default text-default-foreground",primary:"bg-primary text-primary-foreground",secondary:"bg-secondary text-secondary-foreground",success:"bg-success text-success-foreground",warning:"bg-warning text-warning-foreground",danger:"bg-danger text-danger-foreground",foreground:"bg-foreground text-background"},ho={default:"shadow-lg shadow-default/50 bg-default text-default-foreground",primary:"shadow-lg shadow-primary/40 bg-primary text-primary-foreground",secondary:"shadow-lg shadow-secondary/40 bg-secondary text-secondary-foreground",success:"shadow-lg shadow-success/40 bg-success text-success-foreground",warning:"shadow-lg shadow-warning/40 bg-warning text-warning-foreground",danger:"shadow-lg shadow-danger/40 bg-danger text-danger-foreground"},mo={default:"bg-transparent border-default text-foreground",primary:"bg-transparent border-primary text-primary",secondary:"bg-transparent border-secondary text-secondary",success:"bg-transparent border-success text-success",warning:"bg-transparent border-warning text-warning",danger:"bg-transparent border-danger text-danger"},vo={default:"bg-default/40 text-default-700",primary:"bg-primary/20 text-primary-600",secondary:"bg-secondary/20 text-secondary-600",success:"bg-success/20 text-success-700 dark:text-success",warning:"bg-warning/20 text-warning-700 dark:text-warning",danger:"bg-danger/20 text-danger-600 dark:text-danger-500"},bo={default:"border-default bg-default-100 text-default-foreground",primary:"border-default bg-default-100 text-primary",secondary:"border-default bg-default-100 text-secondary",success:"border-default bg-default-100 text-success",warning:"border-default bg-default-100 text-warning",danger:"border-default bg-default-100 text-danger"},yo={default:"bg-transparent text-default-foreground",primary:"bg-transparent text-primary",secondary:"bg-transparent text-secondary",success:"bg-transparent text-success",warning:"bg-transparent text-warning",danger:"bg-transparent text-danger"},xo={default:"border-default text-default-foreground",primary:"border-primary text-primary",secondary:"border-secondary text-secondary",success:"border-success text-success",warning:"border-warning text-warning",danger:"border-danger text-danger"},wo="250ms",ko={".leading-inherit":{"line-height":"inherit"},".bg-img-inherit":{"background-image":"inherit"},".bg-clip-inherit":{"background-clip":"inherit"},".text-fill-inherit":{"-webkit-text-fill-color":"inherit"},".tap-highlight-transparent":{"-webkit-tap-highlight-color":"transparent"},".input-search-cancel-button-none":{"&::-webkit-search-cancel-button":{"-webkit-appearance":"none"}},...{".transition-background":{"transition-property":"background","transition-timing-function":"ease","transition-duration":wo},".transition-colors-opacity":{"transition-property":"color, background-color, border-color, text-decoration-color, fill, stroke, opacity","transition-timing-function":"ease","transition-duration":wo},".transition-width":{"transition-property":"width","transition-timing-function":"ease","transition-duration":wo},".transition-height":{"transition-property":"height","transition-timing-function":"ease","transition-duration":wo},".transition-size":{"transition-property":"width, height","transition-timing-function":"ease","transition-duration":wo},".transition-left":{"transition-property":"left","transition-timing-function":"ease","transition-duration":wo},".transition-transform-opacity":{"transition-property":"transform, scale, opacity rotate","transition-timing-function":"ease","transition-duration":wo},".transition-transform-background":{"transition-property":"transform, scale, background","transition-timing-function":"ease","transition-duration":wo},".transition-transform-colors":{"transition-property":"transform, scale, color, background, background-color, border-color, text-decoration-color, fill, stroke","transition-timing-function":"ease","transition-duration":wo},".transition-transform-colors-opacity":{"transition-property":"transform, scale, color, background, background-color, border-color, text-decoration-color, fill, stroke, opacity","transition-timing-function":"ease","transition-duration":wo}},".scrollbar-hide":{"-ms-overflow-style":"none","scrollbar-width":"none","&::-webkit-scrollbar":{display:"none"}},".scrollbar-default":{"-ms-overflow-style":"auto","scrollbar-width":"auto","&::-webkit-scrollbar":{display:"block"}},".text-tiny":{"font-size":"var(--heroui-font-size-tiny)","line-height":"var(--heroui-line-height-tiny)"},".text-small":{"font-size":"var(--heroui-font-size-small)","line-height":"var(--heroui-line-height-small)"},".text-medium":{"font-size":"var(--heroui-font-size-medium)","line-height":"var(--heroui-line-height-medium)"},".text-large":{"font-size":"var(--heroui-font-size-large)","line-height":"var(--heroui-line-height-large)"},".spinner-bar-animation":{"animation-delay":"calc(-1.2s + (0.1s * var(--bar-index)))",transform:"rotate(calc(30deg * var(--bar-index)))translate(140%)"},".spinner-dot-animation":{"animation-delay":"calc(250ms * var(--dot-index))"},".spinner-dot-blink-animation":{"animation-delay":"calc(200ms * var(--dot-index))"}},Eo=["small","medium","large"],So={spacing:["divider"],radius:Eo},Co={shadow:[{shadow:Eo}],opacity:[{opacity:["disabled"]}],"font-size":[{text:["tiny",...Eo]}],"border-w":[{border:Eo}],"bg-image":["bg-stripe-gradient-default","bg-stripe-gradient-primary","bg-stripe-gradient-secondary","bg-stripe-gradient-success","bg-stripe-gradient-warning","bg-stripe-gradient-danger"],transition:Object.keys(ko).filter(e=>e.includes(".transition")).map(e=>e.replace(".",""))},Io=(e,t)=>fo(e,{...t,twMerge:null==void 0||undefined,twMergeConfig:{theme:{...null==void 0?void 0:undefined.theme,...So},classGroups:{...null==void 0?void 0:undefined.classGroups,...Co}}}),jo=Io({slots:{base:"relative inline-flex flex-col gap-2 items-center justify-center",wrapper:"relative flex",label:"text-foreground dark:text-foreground-dark font-regular",circle1:"absolute w-full h-full rounded-full",circle2:"absolute w-full h-full rounded-full",dots:"relative rounded-full mx-auto",spinnerBars:["absolute","animate-fade-out","rounded-full","w-[25%]","h-[8%]","left-[calc(37.5%)]","top-[calc(46%)]","spinner-bar-animation"]},variants:{size:{sm:{wrapper:"w-5 h-5",circle1:"border-2",circle2:"border-2",dots:"size-1",label:"text-small"},md:{wrapper:"w-8 h-8",circle1:"border-3",circle2:"border-3",dots:"size-1.5",label:"text-medium"},lg:{wrapper:"w-10 h-10",circle1:"border-3",circle2:"border-3",dots:"size-2",label:"text-large"}},color:{current:{circle1:"border-b-current",circle2:"border-b-current",dots:"bg-current",spinnerBars:"bg-current"},white:{circle1:"border-b-white",circle2:"border-b-white",dots:"bg-white",spinnerBars:"bg-white"},default:{circle1:"border-b-default",circle2:"border-b-default",dots:"bg-default",spinnerBars:"bg-default"},primary:{circle1:"border-b-primary",circle2:"border-b-primary",dots:"bg-primary",spinnerBars:"bg-primary"},secondary:{circle1:"border-b-secondary",circle2:"border-b-secondary",dots:"bg-secondary",spinnerBars:"bg-secondary"},success:{circle1:"border-b-success",circle2:"border-b-success",dots:"bg-success",spinnerBars:"bg-success"},warning:{circle1:"border-b-warning",circle2:"border-b-warning",dots:"bg-warning",spinnerBars:"bg-warning"},danger:{circle1:"border-b-danger",circle2:"border-b-danger",dots:"bg-danger",spinnerBars:"bg-danger"}},labelColor:{foreground:{label:"text-foreground"},primary:{label:"text-primary"},secondary:{label:"text-secondary"},success:{label:"text-success"},warning:{label:"text-warning"},danger:{label:"text-danger"}},variant:{default:{circle1:["animate-spinner-ease-spin","border-solid","border-t-transparent","border-l-transparent","border-r-transparent"],circle2:["opacity-75","animate-spinner-linear-spin","border-dotted","border-t-transparent","border-l-transparent","border-r-transparent"]},gradient:{circle1:["border-0","bg-gradient-to-b","from-transparent","via-transparent","to-primary","animate-spinner-linear-spin","[animation-duration:1s]","[-webkit-mask:radial-gradient(closest-side,rgba(0,0,0,0.0)calc(100%-3px),rgba(0,0,0,1)calc(100%-3px))]"],circle2:["hidden"]},wave:{wrapper:"translate-y-3/4",dots:["animate-sway","spinner-dot-animation"]},dots:{wrapper:"translate-y-2/4",dots:["animate-blink","spinner-dot-blink-animation"]},spinner:{},simple:{wrapper:"text-foreground h-5 w-5 animate-spin",circle1:"opacity-25",circle2:"opacity-75"}}},defaultVariants:{size:"md",color:"primary",labelColor:"foreground",variant:"default"},compoundVariants:[{variant:"gradient",color:"current",class:{circle1:"to-current"}},{variant:"gradient",color:"white",class:{circle1:"to-white"}},{variant:"gradient",color:"default",class:{circle1:"to-default"}},{variant:"gradient",color:"primary",class:{circle1:"to-primary"}},{variant:"gradient",color:"secondary",class:{circle1:"to-secondary"}},{variant:"gradient",color:"success",class:{circle1:"to-success"}},{variant:"gradient",color:"warning",class:{circle1:"to-warning"}},{variant:"gradient",color:"danger",class:{circle1:"to-danger"}},{variant:"wave",size:"sm",class:{wrapper:"w-5 h-5"}},{variant:"wave",size:"md",class:{wrapper:"w-8 h-8"}},{variant:"wave",size:"lg",class:{wrapper:"w-12 h-12"}},{variant:"dots",size:"sm",class:{wrapper:"w-5 h-5"}},{variant:"dots",size:"md",class:{wrapper:"w-8 h-8"}},{variant:"dots",size:"lg",class:{wrapper:"w-12 h-12"}},{variant:"simple",size:"sm",class:{wrapper:"w-5 h-5"}},{variant:"simple",size:"md",class:{wrapper:"w-8 h-8"}},{variant:"simple",size:"lg",class:{wrapper:"w-12 h-12"}},{variant:"simple",color:"current",class:{wrapper:"text-current"}},{variant:"simple",color:"white",class:{wrapper:"text-white"}},{variant:"simple",color:"default",class:{wrapper:"text-default"}},{variant:"simple",color:"primary",class:{wrapper:"text-primary"}},{variant:"simple",color:"secondary",class:{wrapper:"text-secondary"}},{variant:"simple",color:"success",class:{wrapper:"text-success"}},{variant:"simple",color:"warning",class:{wrapper:"text-warning"}},{variant:"simple",color:"danger",class:{wrapper:"text-danger"}}]}),Ro=["outline-solid outline-transparent","data-[focus-visible=true]:z-10","data-[focus-visible=true]:outline-2","data-[focus-visible=true]:outline-focus","data-[focus-visible=true]:outline-offset-2"],No={default:["[&+.border-medium.border-default]:ms-[calc(var(--heroui-border-width-medium)*-1)]"],primary:["[&+.border-medium.border-primary]:ms-[calc(var(--heroui-border-width-medium)*-1)]"],secondary:["[&+.border-medium.border-secondary]:ms-[calc(var(--heroui-border-width-medium)*-1)]"],success:["[&+.border-medium.border-success]:ms-[calc(var(--heroui-border-width-medium)*-1)]"],warning:["[&+.border-medium.border-warning]:ms-[calc(var(--heroui-border-width-medium)*-1)]"],danger:["[&+.border-medium.border-danger]:ms-[calc(var(--heroui-border-width-medium)*-1)]"]},Po=Io({slots:{base:["z-0","relative","bg-transparent","[transform-origin:var(--trigger-anchor-point)]","before:content-['']","before:hidden","before:z-[-1]","before:absolute","before:rotate-45","before:w-2.5","before:h-2.5","before:rounded-sm","data-[arrow=true]:before:block","data-[placement=top]:before:-bottom-[calc(theme(spacing.5)/4_-_1.5px)]","data-[placement=top]:before:left-1/2","data-[placement=top]:before:-translate-x-1/2","data-[placement=top-start]:before:-bottom-[calc(theme(spacing.5)/4_-_1.5px)]","data-[placement=top-start]:before:left-3","data-[placement=top-end]:before:-bottom-[calc(theme(spacing.5)/4_-_1.5px)]","data-[placement=top-end]:before:right-3","data-[placement=bottom]:before:-top-[calc(theme(spacing.5)/4_-_1.5px)]","data-[placement=bottom]:before:left-1/2","data-[placement=bottom]:before:-translate-x-1/2","data-[placement=bottom-start]:before:-top-[calc(theme(spacing.5)/4_-_1.5px)]","data-[placement=bottom-start]:before:left-3","data-[placement=bottom-end]:before:-top-[calc(theme(spacing.5)/4_-_1.5px)]","data-[placement=bottom-end]:before:right-3","data-[placement=left]:before:-right-[calc(theme(spacing.5)/4_-_2px)]","data-[placement=left]:before:top-1/2","data-[placement=left]:before:-translate-y-1/2","data-[placement=left-start]:before:-right-[calc(theme(spacing.5)/4_-_3px)]","data-[placement=left-start]:before:top-1/4","data-[placement=left-end]:before:-right-[calc(theme(spacing.5)/4_-_3px)]","data-[placement=left-end]:before:bottom-1/4","data-[placement=right]:before:-left-[calc(theme(spacing.5)/4_-_2px)]","data-[placement=right]:before:top-1/2","data-[placement=right]:before:-translate-y-1/2","data-[placement=right-start]:before:-left-[calc(theme(spacing.5)/4_-_3px)]","data-[placement=right-start]:before:top-1/4","data-[placement=right-end]:before:-left-[calc(theme(spacing.5)/4_-_3px)]","data-[placement=right-end]:before:bottom-1/4",...Ro],content:["z-10","px-2.5","py-1","w-full","inline-flex","flex-col","items-center","justify-center","box-border","subpixel-antialiased","outline-solid outline-transparent","box-border"],trigger:["z-10"],backdrop:["hidden"],arrow:[]},variants:{size:{sm:{content:"text-tiny"},md:{content:"text-small"},lg:{content:"text-medium"}},color:{default:{base:"before:bg-content1 before:shadow-small",content:"bg-content1"},foreground:{base:"before:bg-foreground",content:go.foreground},primary:{base:"before:bg-primary",content:go.primary},secondary:{base:"before:bg-secondary",content:go.secondary},success:{base:"before:bg-success",content:go.success},warning:{base:"before:bg-warning",content:go.warning},danger:{base:"before:bg-danger",content:go.danger}},radius:{none:{content:"rounded-none"},sm:{content:"rounded-small"},md:{content:"rounded-medium"},lg:{content:"rounded-large"},full:{content:"rounded-full"}},shadow:{none:{content:"shadow-none"},sm:{content:"shadow-small"},md:{content:"shadow-medium"},lg:{content:"shadow-large"}},backdrop:{transparent:{},opaque:{backdrop:"bg-overlay/50 backdrop-opacity-disabled"},blur:{backdrop:"backdrop-blur-sm backdrop-saturate-150 bg-overlay/30"}},triggerScaleOnOpen:{true:{trigger:["aria-expanded:scale-[0.97]","aria-expanded:opacity-70","subpixel-antialiased"]},false:{}},disableAnimation:{true:{base:"animate-none"}},isTriggerDisabled:{true:{trigger:"opacity-disabled pointer-events-none"},false:{}}},defaultVariants:{color:"default",radius:"lg",size:"md",shadow:"md",backdrop:"transparent",triggerScaleOnOpen:!0},compoundVariants:[{backdrop:["opaque","blur"],class:{backdrop:"block w-full h-full fixed inset-0 -z-30"}}]}),Oo=Io({base:["z-0","group","relative","inline-flex","items-center","justify-center","box-border","appearance-none","outline-solid outline-transparent","select-none","whitespace-nowrap","min-w-max","font-normal","subpixel-antialiased","overflow-hidden","tap-highlight-transparent","transform-gpu data-[pressed=true]:scale-[0.97]","cursor-pointer",...Ro],variants:{variant:{solid:"",bordered:"border-medium bg-transparent",light:"bg-transparent",flat:"",faded:"border-medium",shadow:"",ghost:"border-medium bg-transparent"},size:{sm:"px-3 min-w-16 h-8 text-tiny gap-2 rounded-small",md:"px-4 min-w-20 h-10 text-small gap-2 rounded-medium",lg:"px-6 min-w-24 h-12 text-medium gap-3 rounded-large"},color:{default:"",primary:"",secondary:"",success:"",warning:"",danger:""},radius:{none:"rounded-none",sm:"rounded-small",md:"rounded-medium",lg:"rounded-large",full:"rounded-full"},fullWidth:{true:"w-full"},isDisabled:{true:"opacity-disabled pointer-events-none"},isInGroup:{true:"[&:not(:first-child):not(:last-child)]:rounded-none"},isIconOnly:{true:"px-0 !gap-0",false:"[&>svg]:max-w-[theme(spacing.8)]"},disableAnimation:{true:"!transition-none data-[pressed=true]:scale-100",false:"transition-transform-colors-opacity motion-reduce:transition-none"}},defaultVariants:{size:"md",variant:"solid",color:"default",fullWidth:!1,isDisabled:!1,isInGroup:!1},compoundVariants:[{variant:"solid",color:"default",class:go.default},{variant:"solid",color:"primary",class:go.primary},{variant:"solid",color:"secondary",class:go.secondary},{variant:"solid",color:"success",class:go.success},{variant:"solid",color:"warning",class:go.warning},{variant:"solid",color:"danger",class:go.danger},{variant:"shadow",color:"default",class:ho.default},{variant:"shadow",color:"primary",class:ho.primary},{variant:"shadow",color:"secondary",class:ho.secondary},{variant:"shadow",color:"success",class:ho.success},{variant:"shadow",color:"warning",class:ho.warning},{variant:"shadow",color:"danger",class:ho.danger},{variant:"bordered",color:"default",class:mo.default},{variant:"bordered",color:"primary",class:mo.primary},{variant:"bordered",color:"secondary",class:mo.secondary},{variant:"bordered",color:"success",class:mo.success},{variant:"bordered",color:"warning",class:mo.warning},{variant:"bordered",color:"danger",class:mo.danger},{variant:"flat",color:"default",class:vo.default},{variant:"flat",color:"primary",class:vo.primary},{variant:"flat",color:"secondary",class:vo.secondary},{variant:"flat",color:"success",class:vo.success},{variant:"flat",color:"warning",class:vo.warning},{variant:"flat",color:"danger",class:vo.danger},{variant:"faded",color:"default",class:bo.default},{variant:"faded",color:"primary",class:bo.primary},{variant:"faded",color:"secondary",class:bo.secondary},{variant:"faded",color:"success",class:bo.success},{variant:"faded",color:"warning",class:bo.warning},{variant:"faded",color:"danger",class:bo.danger},{variant:"light",color:"default",class:[yo.default,"data-[hover=true]:bg-default/40"]},{variant:"light",color:"primary",class:[yo.primary,"data-[hover=true]:bg-primary/20"]},{variant:"light",color:"secondary",class:[yo.secondary,"data-[hover=true]:bg-secondary/20"]},{variant:"light",color:"success",class:[yo.success,"data-[hover=true]:bg-success/20"]},{variant:"light",color:"warning",class:[yo.warning,"data-[hover=true]:bg-warning/20"]},{variant:"light",color:"danger",class:[yo.danger,"data-[hover=true]:bg-danger/20"]},{variant:"ghost",color:"default",class:[xo.default,"data-[hover=true]:!bg-default"]},{variant:"ghost",color:"primary",class:[xo.primary,"data-[hover=true]:!bg-primary data-[hover=true]:!text-primary-foreground"]},{variant:"ghost",color:"secondary",class:[xo.secondary,"data-[hover=true]:!bg-secondary data-[hover=true]:!text-secondary-foreground"]},{variant:"ghost",color:"success",class:[xo.success,"data-[hover=true]:!bg-success data-[hover=true]:!text-success-foreground"]},{variant:"ghost",color:"warning",class:[xo.warning,"data-[hover=true]:!bg-warning data-[hover=true]:!text-warning-foreground"]},{variant:"ghost",color:"danger",class:[xo.danger,"data-[hover=true]:!bg-danger data-[hover=true]:!text-danger-foreground"]},{isInGroup:!0,class:"rounded-none first:rounded-s-medium last:rounded-e-medium"},{isInGroup:!0,size:"sm",class:"rounded-none first:rounded-s-small last:rounded-e-small"},{isInGroup:!0,size:"md",class:"rounded-none first:rounded-s-medium last:rounded-e-medium"},{isInGroup:!0,size:"lg",class:"rounded-none first:rounded-s-large last:rounded-e-large"},{isInGroup:!0,isRounded:!0,class:"rounded-none first:rounded-s-full last:rounded-e-full"},{isInGroup:!0,radius:"none",class:"rounded-none first:rounded-s-none last:rounded-e-none"},{isInGroup:!0,radius:"sm",class:"rounded-none first:rounded-s-small last:rounded-e-small"},{isInGroup:!0,radius:"md",class:"rounded-none first:rounded-s-medium last:rounded-e-medium"},{isInGroup:!0,radius:"lg",class:"rounded-none first:rounded-s-large last:rounded-e-large"},{isInGroup:!0,radius:"full",class:"rounded-none first:rounded-s-full last:rounded-e-full"},{isInGroup:!0,variant:["ghost","bordered"],color:"default",className:No.default},{isInGroup:!0,variant:["ghost","bordered"],color:"primary",className:No.primary},{isInGroup:!0,variant:["ghost","bordered"],color:"secondary",className:No.secondary},{isInGroup:!0,variant:["ghost","bordered"],color:"success",className:No.success},{isInGroup:!0,variant:["ghost","bordered"],color:"warning",className:No.warning},{isInGroup:!0,variant:["ghost","bordered"],color:"danger",className:No.danger},{isIconOnly:!0,size:"sm",class:"min-w-8 w-8 h-8"},{isIconOnly:!0,size:"md",class:"min-w-10 w-10 h-10"},{isIconOnly:!0,size:"lg",class:"min-w-12 w-12 h-12"},{variant:["solid","faded","flat","bordered","shadow"],class:"data-[hover=true]:opacity-hover"}]});Io({base:"inline-flex items-center justify-center h-auto",variants:{fullWidth:{true:"w-full"}},defaultVariants:{fullWidth:!1}});var To=Io({slots:{base:["flex","flex-col","relative","overflow-hidden","h-auto","outline-solid outline-transparent","text-foreground","box-border","bg-content1",...Ro],header:["flex","p-3","z-10","w-full","justify-start","items-center","shrink-0","overflow-inherit","color-inherit","subpixel-antialiased"],body:["relative","flex","flex-1","w-full","p-3","flex-auto","flex-col","place-content-inherit","align-items-inherit","h-auto","break-words","text-left","overflow-y-auto","subpixel-antialiased"],footer:["p-3","h-auto","flex","w-full","items-center","overflow-hidden","color-inherit","subpixel-antialiased"]},variants:{shadow:{none:{base:"shadow-none"},sm:{base:"shadow-small"},md:{base:"shadow-medium"},lg:{base:"shadow-large"}},radius:{none:{base:"rounded-none",header:"rounded-none",footer:"rounded-none"},sm:{base:"rounded-small",header:"rounded-t-small",footer:"rounded-b-small"},md:{base:"rounded-medium",header:"rounded-t-medium",footer:"rounded-b-medium"},lg:{base:"rounded-large",header:"rounded-t-large",footer:"rounded-b-large"}},fullWidth:{true:{base:"w-full"}},isHoverable:{true:{base:"data-[hover=true]:bg-content2 dark:data-[hover=true]:bg-content2"}},isPressable:{true:{base:"cursor-pointer"}},isBlurred:{true:{base:["bg-background/80","dark:bg-background/20","backdrop-blur-md","backdrop-saturate-150"]}},isFooterBlurred:{true:{footer:["bg-background/10","backdrop-blur","backdrop-saturate-150"]}},isDisabled:{true:{base:"opacity-disabled cursor-not-allowed"}},disableAnimation:{true:"",false:{base:"transition-transform-background motion-reduce:transition-none"}}},compoundVariants:[{isPressable:!0,class:"data-[pressed=true]:scale-[0.97] tap-highlight-transparent"}],defaultVariants:{radius:"lg",shadow:"md",fullWidth:!1,isHoverable:!1,isPressable:!1,isDisabled:!1,isFooterBlurred:!1}});const Mo={},Do=function(e,t,n){let r=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const e=document.querySelector("meta[property=csp-nonce]"),n=(null==e?void 0:e.nonce)||(null==e?void 0:e.getAttribute("nonce"));r=Promise.allSettled(t.map(e=>{if((e=function(e){return"/"+e}(e))in Mo)return;Mo[e]=!0;const t=e.endsWith(".css"),r=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${r}`))return;const o=document.createElement("link");return o.rel=t?"stylesheet":"modulepreload",t||(o.as="script"),o.crossOrigin="",o.href=e,n&&o.setAttribute("nonce",n),document.head.appendChild(o),t?new Promise((t,n)=>{o.addEventListener("load",t),o.addEventListener("error",()=>n(new Error(`Unable to preload CSS for ${e}`)))}):void 0}))}function o(e){const t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e}return r.then(t=>{for(const e of t||[])"rejected"===e.status&&o(e.reason);return e().catch(o)})};var Ao={scaleSpring:{enter:{transform:"scale(1)",opacity:1,transition:{type:"spring",bounce:0,duration:.2}},exit:{transform:"scale(0.85)",opacity:0,transition:{type:"easeOut",duration:.15}}}};var Lo=e=>{const t={top:{originY:1},bottom:{originY:0},left:{originX:1},right:{originX:0},"top-start":{originX:0,originY:1},"top-end":{originX:1,originY:1},"bottom-start":{originX:0,originY:0},"bottom-end":{originX:1,originY:0},"right-start":{originX:0,originY:0},"right-end":{originX:0,originY:1},"left-start":{originX:1,originY:0},"left-end":{originX:1,originY:1}};return(null==t?void 0:t[e])||{}},zo=e=>({top:"top",bottom:"bottom",left:"left",right:"right","top-start":"top start","top-end":"top end","bottom-start":"bottom start","bottom-end":"bottom end","left-start":"left top","left-end":"left bottom","right-start":"right top","right-end":"right bottom"}[e]),Fo=(e,t)=>{if(t.includes("-")){const[,n]=t.split("-");return`${e}-${n}`}return e},Bo=Boolean(null==globalThis?void 0:globalThis.document)?d.useLayoutEffect:d.useEffect,[$o,_o]=v({name:"ButtonGroupContext",strict:!1});function Ho(e,t){let n,{elementType:r="button",isDisabled:o,onPress:s,onPressStart:i,onPressEnd:a,onPressUp:l,onPressChange:c,preventFocusOnPress:d,allowFocusWhenDisabled:u,onClick:p,href:f,target:g,rel:h,type:m="button",allowTextSelectionOnPress:v}=e;n="button"===r?{type:m,disabled:o}:{role:"button",href:"a"!==r||o?void 0:f,target:"a"===r?g:void 0,type:"input"===r?m:void 0,disabled:"input"===r?o:void 0,"aria-disabled":o&&"input"!==r?o:void 0,rel:"a"===r?h:void 0};let{pressProps:b,isPressed:y}=Wt({onClick:p,onPressStart:i,onPressEnd:a,onPressUp:l,onPressChange:c,onPress:s,isDisabled:o,preventFocusOnPress:d,allowTextSelectionOnPress:v,ref:t}),{focusableProps:x}=xn(e,t);u&&(x.tabIndex=o?-1:x.tabIndex);let w=ke(x,b,Ne(e,{labelable:!0}));return{isPressed:y,buttonProps:ke(n,w,{"aria-haspopup":e["aria-haspopup"],"aria-expanded":e["aria-expanded"],"aria-controls":e["aria-controls"],"aria-pressed":e["aria-pressed"],"aria-current":e["aria-current"]})}}var Vo=()=>Do(()=>import("./index-B9HQ9-83.js"),__vite__mapDeps([0,1,2])).then(e=>e.default),Uo=e=>{const{ripples:t=[],motionProps:r,color:o="currentColor",style:l,onClear:c}=e;return n.jsx(n.Fragment,{children:t.map(e=>{const t=(d=.01*e.size,u=.2,p=e.size>100?.75:.5,Math.min(Math.max(d,u),p));var d,u,p;return n.jsx(s,{features:Vo,children:n.jsx(i,{mode:"popLayout",children:n.jsx(a.span,{animate:{transform:"scale(2)",opacity:0},className:"heroui-ripple",exit:{opacity:0},initial:{transform:"scale(0)",opacity:.35},style:{position:"absolute",backgroundColor:o,borderRadius:"100%",transformOrigin:"center",pointerEvents:"none",overflow:"hidden",inset:0,zIndex:0,top:e.y,left:e.x,width:`${e.size}px`,height:`${e.size}px`,...l},transition:{duration:t},onAnimationComplete:()=>{c(e.key)},...r})})},e.key)})})};Uo.displayName="HeroUI.Ripple";var Wo=Uo;function Go(e={}){const[t,n]=d.useState([]),r=d.useCallback(e=>{const t=e.target,r=Math.max(t.clientWidth,t.clientHeight);n(t=>{return[...t,{key:(n=t.length.toString(),`${n}-${Math.floor(1e6*Math.random())}`),size:r,x:e.x-r/2,y:e.y-r/2}];var n})},[]);return{ripples:t,onClear:d.useCallback(e=>{n(t=>t.filter(t=>t.key!==e))},[]),onPress:r,...e}}function qo(e){var t,n;const[r,o]=((e,t,n=!0)=>{if(!t)return[e,{}];const r=t.reduce((t,n)=>n in e?{...t,[n]:e[n]}:t,{});if(n)return[Object.keys(e).filter(e=>!t.includes(e)).reduce((t,n)=>({...t,[n]:e[n]}),{}),r];return[e,r]})(e,jo.variantKeys),s=L(),i=null!=(n=null!=(t=null==e?void 0:e.variant)?t:null==s?void 0:s.spinnerVariant)?n:"default",{children:a,className:l,classNames:c,label:u,...p}=r,f=d.useMemo(()=>jo({...o}),[k(o)]),g=w(null==c?void 0:c.base,l),h=u||a,m=d.useMemo(()=>h&&"string"==typeof h?h:p["aria-label"]?"":"Loading",[a,h,p["aria-label"]]),v=d.useCallback(()=>({"aria-label":m,className:f.base({class:g}),...p}),[m,f,g,p]);return{label:h,slots:f,classNames:c,variant:i,getSpinnerProps:v}}var Ko,Yo=(Ko=(e,t)=>{const{slots:r,classNames:o,label:s,variant:i,getSpinnerProps:a}=qo({...e});return"wave"===i||"dots"===i?n.jsxs("div",{ref:t,...a(),children:[n.jsx("div",{className:r.wrapper({class:null==o?void 0:o.wrapper}),children:[...new Array(3)].map((e,t)=>n.jsx("i",{className:r.dots({class:null==o?void 0:o.dots}),style:{"--dot-index":t}},`dot-${t}`))}),s&&n.jsx("span",{className:r.label({class:null==o?void 0:o.label}),children:s})]}):"simple"===i?n.jsxs("div",{ref:t,...a(),children:[n.jsxs("svg",{className:r.wrapper({class:null==o?void 0:o.wrapper}),fill:"none",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:r.circle1({class:null==o?void 0:o.circle1}),cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n.jsx("path",{className:r.circle2({class:null==o?void 0:o.circle2}),d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",fill:"currentColor"})]}),s&&n.jsx("span",{className:r.label({class:null==o?void 0:o.label}),children:s})]}):"spinner"===i?n.jsxs("div",{ref:t,...a(),children:[n.jsx("div",{className:r.wrapper({class:null==o?void 0:o.wrapper}),children:[...new Array(12)].map((e,t)=>n.jsx("i",{className:r.spinnerBars({class:null==o?void 0:o.spinnerBars}),style:{"--bar-index":t}},`star-${t}`))}),s&&n.jsx("span",{className:r.label({class:null==o?void 0:o.label}),children:s})]}):n.jsxs("div",{ref:t,...a(),children:[n.jsxs("div",{className:r.wrapper({class:null==o?void 0:o.wrapper}),children:[n.jsx("i",{className:r.circle1({class:null==o?void 0:o.circle1})}),n.jsx("i",{className:r.circle2({class:null==o?void 0:o.circle2})})]}),s&&n.jsx("span",{className:r.label({class:null==o?void 0:o.label}),children:s})]})},d.forwardRef(Ko));Yo.displayName="HeroUI.Spinner";var Xo=Yo,Jo=_n((e,t)=>{const{Component:r,domRef:o,children:s,spinnerSize:i,spinner:a=n.jsx(Xo,{color:"current",size:i}),spinnerPlacement:l,startContent:c,endContent:u,isLoading:p,disableRipple:f,getButtonProps:g,getRippleProps:h,isIconOnly:m}=function(e){var t,n,r,o,s,i,a,l,c;const u=_o(),p=L(),f=!!u,{ref:g,as:h,children:m,startContent:v,endContent:x,autoFocus:w,className:k,spinner:E,isLoading:C=!1,disableRipple:I=!1,fullWidth:R=null!=(t=null==u?void 0:u.fullWidth)&&t,radius:N=(null==u?void 0:u.radius),size:P=(null!=(n=null==u?void 0:u.size)?n:"md"),color:O=(null!=(r=null==u?void 0:u.color)?r:"default"),variant:T=(null!=(o=null==u?void 0:u.variant)?o:"solid"),disableAnimation:M=null!=(i=null!=(s=null==u?void 0:u.disableAnimation)?s:null==p?void 0:p.disableAnimation)&&i,isDisabled:A=null!=(a=null==u?void 0:u.isDisabled)&&a,isIconOnly:z=null!=(l=null==u?void 0:u.isIconOnly)&&l,spinnerPlacement:F="start",onPress:B,onClick:$,..._}=e,H=h||"button",V="string"==typeof H,U=b(g),W=null!=(c=I||(null==p?void 0:p.disableRipple))?c:M,{isFocusVisible:G,isFocused:q,focusProps:K}=Mn({autoFocus:w}),Y=A||C,X=d.useMemo(()=>Oo({size:P,color:O,variant:T,radius:N,fullWidth:R,isDisabled:Y,isInGroup:f,disableAnimation:M,isIconOnly:z,className:k}),[P,O,T,N,R,Y,f,z,M,k]),{onPress:J,onClear:Z,ripples:Q}=Go(),ee=d.useCallback(e=>{W||Y||M||U.current&&J(e)},[W,Y,M,U,J]),{buttonProps:te,isPressed:ne}=Ho({elementType:h,isDisabled:Y,onPress:S(B,ee),onClick:$,..._},U),{isHovered:re,hoverProps:oe}=In({isDisabled:Y}),se=d.useCallback((e={})=>({"data-disabled":y(Y),"data-focus":y(q),"data-pressed":y(ne),"data-focus-visible":y(G),"data-hover":y(re),"data-loading":y(C),...j(te,K,oe,D(_,{enabled:V}),D(e)),className:X}),[C,Y,q,ne,V,G,re,te,K,oe,_,X]),ie=e=>d.isValidElement(e)?d.cloneElement(e,{"aria-hidden":!0,focusable:!1}):null,ae=ie(v),le=ie(x),ce=d.useMemo(()=>({sm:"sm",md:"sm",lg:"md"}[P]),[P]),de=d.useCallback(()=>({ripples:Q,onClear:Z}),[Q,Z]);return{Component:H,children:m,domRef:U,spinner:E,styles:X,startContent:ae,endContent:le,isLoading:C,spinnerPlacement:F,spinnerSize:ce,disableRipple:W,getButtonProps:se,getRippleProps:de,isIconOnly:z}}({...e,ref:t});return n.jsxs(r,{ref:o,...g(),children:[c,p&&"start"===l&&a,p&&m?null:s,p&&"end"===l&&a,u,!f&&n.jsx(Wo,{...h()})]})});Jo.displayName="HeroUI.Button";var Zo=Jo,[Qo,es]=v({name:"CardContext",strict:!0,errorMessage:"useCardContext: `context` is undefined. Seems you forgot to wrap component within <Card />"}),ts=_n((e,t)=>{var r;const{as:o,className:s,children:i,...a}=e,l=o||"div",c=b(t),{slots:d,classNames:u}=es(),p=w(null==u?void 0:u.footer,s);return n.jsx(l,{ref:c,className:null==(r=d.footer)?void 0:r.call(d,{class:p}),...a,children:i})});ts.displayName="HeroUI.CardFooter";var ns=ts;var rs=_n((e,t)=>{const{children:r,context:o,Component:s,isPressable:i,disableAnimation:a,disableRipple:l,getCardProps:c,getRippleProps:u}=function(e){var t,n,r,o;const s=L(),[i,a]=Hn(e,To.variantKeys),{ref:l,as:c,children:u,onClick:p,onPress:f,autoFocus:g,className:h,classNames:m,allowTextSelectionOnPress:v=!0,...x}=i,E=b(l),C=c||(e.isPressable?"button":"div"),I="string"==typeof C,R=null!=(n=null!=(t=e.disableAnimation)?t:null==s?void 0:s.disableAnimation)&&n,N=null!=(o=null!=(r=e.disableRipple)?r:null==s?void 0:s.disableRipple)&&o,P=w(null==m?void 0:m.base,h),{onClear:O,onPress:T,ripples:M}=Go(),A=d.useCallback(e=>{N||R||E.current&&T(e)},[N,R,E,T]),{buttonProps:z,isPressed:F}=Ho({onPress:S(f,A),elementType:c,isDisabled:!e.isPressable,onClick:p,allowTextSelectionOnPress:v,...x},E),{hoverProps:B,isHovered:$}=In({isDisabled:!e.isHoverable,...x}),{isFocusVisible:_,isFocused:H,focusProps:V}=Mn({autoFocus:g}),U=d.useMemo(()=>To({...a,disableAnimation:R}),[k(a),R]),W=d.useMemo(()=>({slots:U,classNames:m,disableAnimation:R,isDisabled:e.isDisabled,isFooterBlurred:e.isFooterBlurred,fullWidth:e.fullWidth}),[U,m,e.isDisabled,e.isFooterBlurred,R,e.fullWidth]),G=d.useCallback((t={})=>({ref:E,className:U.base({class:P}),tabIndex:e.isPressable?0:-1,"data-hover":y($),"data-pressed":y(F),"data-focus":y(H),"data-focus-visible":y(_),"data-disabled":y(e.isDisabled),...j(e.isPressable?{...z,...V,role:"button"}:{},e.isHoverable?B:{},D(x,{enabled:I}),D(t))}),[E,U,P,I,e.isPressable,e.isHoverable,e.isDisabled,$,F,_,z,V,B,x]),q=d.useCallback(()=>({ripples:M,onClear:O}),[M,O]);return{context:W,domRef:E,Component:C,classNames:m,children:u,isHovered:$,isPressed:F,disableAnimation:R,isPressable:e.isPressable,isHoverable:e.isHoverable,disableRipple:N,handlePress:A,isFocusVisible:_,getCardProps:G,getRippleProps:q}}({...e,ref:t});return n.jsxs(s,{...c(),children:[n.jsx(Qo,{value:o,children:r}),i&&!a&&!l&&n.jsx(Wo,{...u()})]})});rs.displayName="HeroUI.Card";var os=rs;function ss(e){let[t,n]=function(e,t,n){let[r,o]=d.useState(e||t),s=d.useRef(void 0!==e),i=void 0!==e;d.useEffect(()=>{s.current,s.current=i},[i]);let a=i?e:r,l=d.useCallback((e,...t)=>{let r=(e,...t)=>{n&&(Object.is(a,e)||n(e,...t)),i||(a=e)};"function"==typeof e?o((n,...o)=>{let s=e(i?a:n,...o);return r(s,...t),i?n:s}):(i||o(e),r(e,...t))},[i,a,n]);return[a,l]}(e.isOpen,e.defaultOpen||!1,e.onOpenChange);const r=d.useCallback(()=>{n(!0)},[n]),o=d.useCallback(()=>{n(!1)},[n]),s=d.useCallback(()=>{n(!t)},[n,t]);return{isOpen:t,setOpen:n,open:r,close:o,toggle:s}}const is=1500,as=500;let ls={},cs=0,ds=!1,us=null,ps=null;function fs(e={}){let{delay:t=is,closeDelay:n=as}=e,{isOpen:r,open:o,close:s}=ss(e),i=d.useMemo(()=>""+ ++cs,[]),a=d.useRef(null),l=d.useRef(s),c=()=>{ls[i]=f},u=()=>{for(let e in ls)e!==i&&(ls[e](!0),delete ls[e])},p=()=>{a.current&&clearTimeout(a.current),a.current=null,u(),c(),ds=!0,o(),us&&(clearTimeout(us),us=null),ps&&(clearTimeout(ps),ps=null)},f=e=>{e||n<=0?(a.current&&clearTimeout(a.current),a.current=null,l.current()):a.current||(a.current=setTimeout(()=>{a.current=null,l.current()},n)),us&&(clearTimeout(us),us=null),ds&&(ps&&clearTimeout(ps),ps=setTimeout(()=>{delete ls[i],ps=null,ds=!1},Math.max(as,n)))};return d.useEffect(()=>{l.current=s},[s]),d.useEffect(()=>()=>{a.current&&clearTimeout(a.current),ls[i]&&delete ls[i]},[i]),{isOpen:r,open:e=>{!e&&t>0&&!a.current?(u(),c(),r||us||ds?r||p():us=setTimeout(()=>{us=null,ds=!0,p()},t)):p()},close:f}}function gs(e,t,n){let{isDisabled:r,trigger:o}=e,s=function(e){let[t,n]=d.useState(e),r=d.useRef(null),o=U(t),s=d.useRef(null);if(de&&de.register(s,o),ue){const e=pe.get(o);e&&!e.includes(r)?e.push(r):pe.set(o,[r])}return ie(()=>{let e=o;return()=>{de&&de.unregister(s),pe.delete(e)}},[o]),d.useEffect(()=>{let e=r.current;return e&&n(e),()=>{e&&(r.current=null)}}),o}(),i=d.useRef(!1),a=d.useRef(!1),l=()=>{(i.current||a.current)&&t.open(a.current)},c=e=>{i.current||a.current||t.close(e)};d.useEffect(()=>{let e=e=>{n&&n.current&&"Escape"===e.key&&(e.stopPropagation(),t.close(!0))};if(t.isOpen)return document.addEventListener("keydown",e,!0),()=>{document.removeEventListener("keydown",e,!0)}},[n,t]);let u=()=>{a.current=!1,i.current=!1,c(!0)},{hoverProps:p}=In({isDisabled:r,onHoverStart:()=>{"focus"!==o&&("pointer"===gn()?i.current=!0:i.current=!1,l())},onHoverEnd:()=>{"focus"!==o&&(a.current=!1,i.current=!1,c())}}),{focusableProps:f}=xn({isDisabled:r,onFocus:()=>{fn()&&(a.current=!0,l())},onBlur:()=>{a.current=!1,i.current=!1,c(!0)}},n);return{triggerProps:{"aria-describedby":t.isOpen?s:void 0,...ke(f,p,{onPointerDown:u,onKeyDown:u}),tabIndex:void 0},tooltipProps:{id:s}}}var hs=[];function ms(e,t){const{disableOutsideEvents:n=!0,isDismissable:r=!1,isKeyboardDismissDisabled:o=!1,isOpen:s,onClose:i,shouldCloseOnBlur:a,shouldCloseOnInteractOutside:l}=e;d.useEffect(()=>{if(s&&!hs.includes(t))return hs.push(t),()=>{let e=hs.indexOf(t);e>=0&&hs.splice(e,1)}},[s,t]);const c=()=>{hs[hs.length-1]===t&&i&&i()};!function(e){let{ref:t,onInteractOutside:n,isDisabled:r,onInteractOutsideStart:o}=e,s=d.useRef({isPointerDown:!1,ignoreEmulatedMouseEvents:!1}),i=ce(e=>{n&&jn(e,t)&&(o&&o(e),s.current.isPointerDown=!0)}),a=ce(e=>{n&&n(e)});d.useEffect(()=>{let e=s.current;if(r)return;const n=t.current,o=he(n);if("undefined"!=typeof PointerEvent){let n=n=>{e.isPointerDown&&jn(n,t)&&a(n),e.isPointerDown=!1};return o.addEventListener("pointerdown",i,!0),o.addEventListener("click",n,!0),()=>{o.removeEventListener("pointerdown",i,!0),o.removeEventListener("click",n,!0)}}},[t,r,i,a])}({isDisabled:!(r&&s),onInteractOutside:r&&s?e=>{l&&!l(e.target)||(hs[hs.length-1]===t&&n&&(e.stopPropagation(),e.preventDefault()),c())}:void 0,onInteractOutsideStart:e=>{l&&!l(e.target)||(hs[hs.length-1]===t&&n&&(e.stopPropagation(),e.preventDefault()),"pressEnd"!==function(e){const t=e.current;if(!t)return"unknown";const n=(t.getAttribute("role")||"").toLowerCase(),r=t.getAttribute("aria-modal");if(!("dialog"!==n&&"alertdialog"!==n||null!==r&&"true"!==r.toLowerCase()))return"pressEnd";if(["listbox","menu","tree","grid","combobox"].includes(n))return"pressStart";return"unknown"}(t)&&c())},ref:t});const{focusWithinProps:u}=wn({isDisabled:!a,onBlurWithin:e=>{e.relatedTarget&&!Nn(e.relatedTarget)&&(l&&!l(e.relatedTarget)||c())}});return{overlayProps:{onKeyDown:e=>{"Escape"!==e.key||o||e.nativeEvent.isComposing||(e.stopPropagation(),e.preventDefault(),c())},...u},underlayProps:{onPointerDown:e=>{e.target===e.currentTarget&&e.preventDefault()}}}}function vs(e){var t,n;const r=L(),[o,s]=Hn(e,Po.variantKeys),{ref:i,as:a,isOpen:l,content:c,children:u,defaultOpen:p,onOpenChange:f,isDisabled:g,trigger:h,shouldFlip:m=!0,containerPadding:v=12,placement:b="top",delay:x=0,closeDelay:E=500,showArrow:S=!1,offset:C=7,crossOffset:I=0,isDismissable:N,shouldCloseOnBlur:P=!0,portalContainer:O,isKeyboardDismissDisabled:T=!1,updatePositionDeps:M=[],shouldCloseOnInteractOutside:D,className:A,onClose:z,motionProps:F,classNames:B,...$}=o,_=a||"div",H=null!=(n=null!=(t=null==e?void 0:e.disableAnimation)?t:null==r?void 0:r.disableAnimation)&&n,V=fs({delay:x,closeDelay:E,isDisabled:g,defaultOpen:p,isOpen:l,onOpenChange:e=>{null==f||f(e),e||null==z||z()}}),U=d.useRef(null),W=d.useRef(null),G=d.useId(),q=V.isOpen&&!g;d.useImperativeHandle(i,()=>function(e){return{UNSAFE_getDOMNode:()=>e.current}}(W));const{triggerProps:K,tooltipProps:Y}=gs({isDisabled:g,trigger:h},V,U),{tooltipProps:X}=function(e,t){let n=Ne(e,{labelable:!0}),{hoverProps:r}=In({onHoverStart:()=>null==t?void 0:t.open(!0),onHoverEnd:()=>null==t?void 0:t.close()});return{tooltipProps:ke(n,r,{role:"tooltip"})}}({isOpen:q,...j(o,Y)},V),{overlayProps:J,placement:Z,updatePosition:Q}=jt({isOpen:q,targetRef:U,placement:zo(b),overlayRef:W,offset:S?C+3:C,crossOffset:I,shouldFlip:m,containerPadding:v});Bo(()=>{M.length&&Q()},M);const{overlayProps:ee}=ms({isOpen:q,onClose:V.close,isDismissable:N,shouldCloseOnBlur:P,isKeyboardDismissDisabled:T,shouldCloseOnInteractOutside:D},W),te=d.useMemo(()=>{var t,n,r;return Po({...s,disableAnimation:H,radius:null!=(t=null==e?void 0:e.radius)?t:"md",size:null!=(n=null==e?void 0:e.size)?n:"md",shadow:null!=(r=null==e?void 0:e.shadow)?r:"sm"})},[k(s),H,null==e?void 0:e.radius,null==e?void 0:e.size,null==e?void 0:e.shadow]),ne=d.useCallback((e={},t=null)=>({...j(K,e),ref:R(t,U),"aria-describedby":q?G:void 0}),[K,q,G,V]),re=d.useCallback(()=>({ref:W,"data-slot":"base","data-open":y(q),"data-arrow":y(S),"data-disabled":y(g),"data-placement":Fo(Z||"top",b),...j(X,ee,$),style:j(J.style,$.style,o.style),className:te.base({class:null==B?void 0:B.base}),id:G}),[te,q,S,g,Z,b,X,ee,$,J,o,G]),oe=d.useCallback(()=>({"data-slot":"content","data-open":y(q),"data-arrow":y(S),"data-disabled":y(g),"data-placement":Fo(Z||"top",b),className:te.content({class:w(null==B?void 0:B.content,A)})}),[te,q,S,g,Z,b,B]);return{Component:_,content:c,children:u,isOpen:q,triggerRef:U,showArrow:S,portalContainer:O,placement:b,disableAnimation:H,isDisabled:g,motionProps:F,getTooltipContentProps:oe,getTriggerProps:ne,getTooltipProps:re}}var bs=()=>Do(()=>import("./index-B9HQ9-83.js"),__vite__mapDeps([0,1,2])).then(e=>e.default),ys=_n((e,t)=>{var r;const{Component:o,children:l,content:c,isOpen:u,portalContainer:p,placement:f,disableAnimation:g,motionProps:h,getTriggerProps:m,getTooltipProps:v,getTooltipContentProps:b}=vs({...e,ref:t});let y;try{if(1!==d.Children.count(l))throw new Error;if(d.isValidElement(l)){const e=l,t=null!=(r=e.props.ref)?r:e.ref;y=d.cloneElement(e,m(e.props,t))}else y=n.jsx("p",{...m(),children:l})}catch{y=n.jsx("span",{}),function(e){const t=`[Hero UI] : ${e}`;"undefined"!=typeof console&&(E[t]||(E[t]=!0))}("Tooltip must have only one child node. Please, check your code.")}const{ref:x,id:w,style:k,...S}=v(),C=n.jsx("div",{ref:x,id:w,style:k,children:n.jsx(a.div,{animate:"enter",exit:"exit",initial:"exit",variants:Ao.scaleSpring,...j(h,S),style:{...Lo(f)},children:n.jsx(o,{...b(),children:c})},`${w}-tooltip-inner`)},`${w}-tooltip-content`);return n.jsxs(n.Fragment,{children:[y,g?u&&n.jsx(Bn,{portalContainer:p,children:n.jsx("div",{ref:x,id:w,style:k,...S,children:n.jsx(o,{...b(),children:c})})}):n.jsx(s,{features:bs,children:n.jsx(i,{children:u&&n.jsx(Bn,{portalContainer:p,children:C})})})]})});ys.displayName="HeroUI.Tooltip";var xs=ys;function ws(){return ws=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ws.apply(null,arguments)}var ks={exports:{}},Es={},Ss=d;var Cs="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},Is=Ss.useState,js=Ss.useEffect,Rs=Ss.useLayoutEffect,Ns=Ss.useDebugValue;function Ps(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Cs(e,n)}catch(r){return!0}}var Os="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=Is({inst:{value:n,getSnapshot:t}}),o=r[0].inst,s=r[1];return Rs(function(){o.value=n,o.getSnapshot=t,Ps(o)&&s({inst:o})},[e,n,t]),js(function(){return Ps(o)&&s({inst:o}),e(function(){Ps(o)&&s({inst:o})})},[e]),Ns(n),n};Es.useSyncExternalStore=void 0!==Ss.useSyncExternalStore?Ss.useSyncExternalStore:Os,ks.exports=Es;var Ts=ks.exports;const Ms={};function Ds(e,t){const n=d.useRef(Ms);return n.current===Ms&&(n.current=e(t)),n}const As=f[`useInsertionEffect${Math.random().toFixed(1)}`.slice(0,-3)],Ls=As&&As!==d.useLayoutEffect?As:e=>e();function zs(e){const t=Ds(Fs).current;return t.next=e,Ls(t.effect),t.trampoline}function Fs(){const e={next:void 0,callback:Bs,trampoline:(...t)=>{var n;return null==(n=e.callback)?void 0:n.call(e,...t)},effect:()=>{e.callback=e.next}};return e}function Bs(){}function $s(e,...t){const n=new URL(`https://base-ui.com/production-error/${e}`);return t.forEach(e=>n.searchParams.append("args[]",e)),`Base UI error #${e}; visit ${n} for the full message.`}function _s(e,t,n,r){const o=Ds(Hs).current;return function(e,t,n,r,o){return e.refs[0]!==t||e.refs[1]!==n||e.refs[2]!==r||e.refs[3]!==o}(o,e,t,n,r)&&Vs(o,[e,t,n,r]),o.callback}function Hs(){return{callback:null,cleanup:null,refs:[]}}function Vs(e,t){e.refs=t,t.every(e=>null==e)?e.callback=null:e.callback=n=>{if(e.cleanup&&(e.cleanup(),e.cleanup=null),null!=n){const r=Array(t.length).fill(null);for(let e=0;e<t.length;e+=1){const o=t[e];if(null!=o)switch(typeof o){case"function":{const t=o(n);"function"==typeof t&&(r[e]=t);break}case"object":o.current=n}}e.cleanup=()=>{for(let e=0;e<t.length;e+=1){const n=t[e];if(null!=n)switch(typeof n){case"function":{const t=r[e];"function"==typeof t?t():n(null);break}case"object":n.current=null}}}}}}const Us=parseInt(d.version,10);function Ws(e){return Us>=e}function Gs(e){if(!d.isValidElement(e))return null;const t=e,n=t.props;return(Ws(19)?null==n?void 0:n.ref:t.ref)??null}function qs(e,t){return e&&!t?e:!e&&t?t:e||t?{...e,...t}:void 0}const Ks={};function Ys(e,t,n,r,o){let s={...Qs(e,Ks)};return t&&(s=Xs(s,t)),n&&(s=Xs(s,n)),r&&(s=Xs(s,r)),s}function Xs(e,t){return Zs(t)?t(e):function(e,t){if(!t)return e;for(const n in t){const r=t[n];switch(n){case"style":e[n]=qs(e.style,r);break;case"className":e[n]=ni(e.className,r);break;default:Js(n,r)?e[n]=ei(e[n],r):e[n]=r}}return e}(e,t)}function Js(e,t){const n=e.charCodeAt(0),r=e.charCodeAt(1),o=e.charCodeAt(2);return 111===n&&110===r&&o>=65&&o<=90&&("function"==typeof t||void 0===t)}function Zs(e){return"function"==typeof e}function Qs(e,t){return Zs(e)?e(t):e??Ks}function ei(e,t){return t?e?n=>{if(function(e){return null!=e&&"object"==typeof e&&"nativeEvent"in e}(n)){const r=n;ti(r);const o=t(r);return r.baseUIHandlerPrevented||null==e||e(r),o}const r=t(n);return null==e||e(n),r}:t:e}function ti(e){return e.preventBaseUIHandler=()=>{e.baseUIHandlerPrevented=!0},e}function ni(e,t){return t?e?t+" "+e:t:e}function ri(){}const oi=Object.freeze([]),si=Object.freeze({}),ii={style:{transition:"none"}},ai="data-base-ui-click-trigger",li={fallbackAxisSide:"none"},ci={fallbackAxisSide:"end"},di={clipPath:"inset(50%)",position:"fixed",top:0,left:0};function ui(e,t,n={}){const r=t.render,o=function(e,t={}){const{className:n,style:r,render:o}=e,{state:s=si,ref:i,props:a,stateAttributesMapping:l,enabled:c=!0}=t,d=c?function(e,t){return"function"==typeof e?e(t):e}(n,s):void 0,u=c?function(e,t){return"function"==typeof e?e(t):e}(r,s):void 0,p=c?function(e,t){const n={};for(const r in e){const o=e[r];if(null==t?void 0:t.hasOwnProperty(r)){const e=t[r](o);null!=e&&Object.assign(n,e);continue}!0===o?n[`data-${r.toLowerCase()}`]="":o&&(n[`data-${r.toLowerCase()}`]=o.toString())}return n}(s,l):si,f=c?qs(p,Array.isArray(a)?function(e){if(0===e.length)return Ks;if(1===e.length)return Qs(e[0],Ks);let t={...Qs(e[0],Ks)};for(let n=1;n<e.length;n+=1)t=Xs(t,e[n]);return t}(a):a)??si:si;"undefined"!=typeof document&&(c?Array.isArray(i)?f.ref=function(e){const t=Ds(Hs).current;return function(e,t){return e.refs.length!==t.length||e.refs.some((e,n)=>e!==t[n])}(t,e)&&Vs(t,e),t.callback}([f.ref,Gs(o),...i]):f.ref=_s(f.ref,Gs(o),i):_s(null,null));if(!c)return si;void 0!==d&&(f.className=ni(f.className,d));void 0!==u&&(f.style=qs(f.style,u));return f}(t,n);if(!1===n.enabled)return null;return function(e,t,n,r){if(t){if("function"==typeof t)return t(n,r);const e=Ys(n,t.props);return e.ref=n.ref,d.cloneElement(t,e)}if(e&&"string"==typeof e)return function(e,t){if("button"===e)return d.createElement("button",{type:"button",...t,key:t.key});if("img"===e)return d.createElement("img",{alt:"",...t,key:t.key});return d.createElement(e,t)}(e,n);throw new Error($s(8))}(e,r,o,n.state??si)}function pi({controlled:e,default:t,name:n,state:r="value"}){const{current:o}=d.useRef(void 0!==e),[s,i]=d.useState(t);return[o?e:s,d.useCallback(e=>{o||i(e)},[])]}const fi="undefined"!=typeof document?d.useLayoutEffect:()=>{},gi={...f};let hi=0;const mi=gi.useId;function vi(e,t){if(void 0!==mi){const n=mi();return e??(t?`${t}-${n}`:n)}return function(e,t="mui"){const[n,r]=d.useState(e),o=e||n;return d.useEffect(()=>{null==n&&(hi+=1,r(`${t}-${hi}`))},[n,t]),o}(e,t)}function bi(e){return vi(e,"base-ui")}const yi="none",xi="trigger-press",wi="trigger-hover",ki="trigger-focus",Ei="outside-press",Si="item-press",Ci="close-press",Ii="clear-press",ji="input-change",Ri="input-clear",Ni="focus-out",Pi="escape-key",Oi="list-navigation",Ti="sibling-open",Mi="imperative-action";function Di(e,t,n,r){let o=!1,s=!1;const i=si;return{reason:e,event:t??new Event("base-ui"),cancel(){o=!0},allowPropagation(){s=!0},get isCanceled(){return o},get isPropagationAllowed(){return s},trigger:n,...i}}function Ai(e,t,n){const r=n??si;return{reason:e,event:t??new Event("base-ui"),...r}}const Li=[];function zi(e){d.useEffect(e,Li)}const Fi=null;const Bi=new class{constructor(){t(this,"callbacks",[]),t(this,"callbacksCount",0),t(this,"nextId",1),t(this,"startId",1),t(this,"isScheduled",!1),t(this,"tick",e=>{var t;this.isScheduled=!1;const n=this.callbacks,r=this.callbacksCount;if(this.callbacks=[],this.callbacksCount=0,this.startId=this.nextId,r>0)for(let o=0;o<n.length;o+=1)null==(t=n[o])||t.call(n,e)})}request(e){const t=this.nextId;this.nextId+=1,this.callbacks.push(e),this.callbacksCount+=1;return this.isScheduled||(requestAnimationFrame(this.tick),this.isScheduled=!0),t}cancel(e){const t=e-this.startId;t<0||t>=this.callbacks.length||(this.callbacks[t]=null,this.callbacksCount-=1)}};class $i{constructor(){t(this,"currentId",Fi),t(this,"cancel",()=>{this.currentId!==Fi&&(Bi.cancel(this.currentId),this.currentId=Fi)}),t(this,"disposeEffect",()=>this.cancel)}static create(){return new $i}static request(e){return Bi.request(e)}static cancel(e){return Bi.cancel(e)}request(e){this.cancel(),this.currentId=Bi.request(()=>{this.currentId=Fi,e()})}}function _i(){const e=Ds($i.create).current;return zi(e.disposeEffect),e}function Hi(e){return null==e?e:"current"in e?e.current:e}function Vi(e,t=!1,n=!0){const r=_i();return zs((o,s=null)=>{r.cancel();const i=Hi(e);null!=i&&("function"!=typeof i.getAnimations||globalThis.BASE_UI_ANIMATIONS_DISABLED?o():r.request(()=>{function e(){i&&Promise.all(i.getAnimations().map(e=>e.finished)).then(()=>{null!=s&&s.aborted||c.flushSync(o)}).catch(()=>{if(n){if(null!=s&&s.aborted)return;c.flushSync(o)}else i.getAnimations().length>0&&i.getAnimations().some(e=>e.pending||"finished"!==e.playState)&&e()})}t?r.request(e):e()}))})}function Ui(e,t=!1,n=!1){const[r,o]=d.useState(e&&t?"idle":void 0),[s,i]=d.useState(e);return e&&!s&&(i(!0),o("starting")),e||!s||"ending"===r||n||o("ending"),e||s||"ending"!==r||o(void 0),fi(()=>{if(!e&&s&&"ending"!==r&&n){const e=$i.request(()=>{o("ending")});return()=>{$i.cancel(e)}}},[e,s,r,n]),fi(()=>{if(!e||t)return;const n=$i.request(()=>{c.flushSync(()=>{o(void 0)})});return()=>{$i.cancel(n)}},[t,e]),fi(()=>{if(!e||!t)return;e&&s&&"idle"!==r&&o("starting");const n=$i.request(()=>{o("idle")});return()=>{$i.cancel(n)}},[t,e,s,o,r]),d.useMemo(()=>({mounted:s,setMounted:i,transitionStatus:r}),[s,r])}const Wi=d.createContext(void 0);let Gi=function(e){return e.startingStyle="data-starting-style",e.endingStyle="data-ending-style",e}({});const qi={[Gi.startingStyle]:""},Ki={[Gi.endingStyle]:""},Yi={transitionStatus:e=>"starting"===e?qi:"ending"===e?Ki:null};let Xi=((Ji={}).open="data-open",Ji.closed="data-closed",Ji[Ji.startingStyle=Gi.startingStyle]="startingStyle",Ji[Ji.endingStyle=Gi.endingStyle]="endingStyle",Ji);var Ji;const Zi={[Xi.open]:""},Qi={[Xi.closed]:""},ea={...{open:e=>e?Zi:Qi},...Yi},ta=d.forwardRef(function(e,t){const{render:r,className:o,defaultOpen:s=!1,disabled:i=!1,onOpenChange:a,open:l,...c}=e,u=zs(a),p=function(e){const{open:t,defaultOpen:n,onOpenChange:r,disabled:o}=e,s=void 0!==t,[i,a]=pi({controlled:t,default:n,name:"Collapsible",state:"open"}),{mounted:l,setMounted:c,transitionStatus:u}=Ui(i,!0,!0),[p,f]=d.useState(i),[{height:g,width:h},m]=d.useState({height:void 0,width:void 0}),v=bi(),[b,y]=d.useState(),x=b??v,[w,k]=d.useState(!1),[E,S]=d.useState(!1),C=d.useRef(null),I=d.useRef(null),j=d.useRef(null),R=d.useRef(null),N=Vi(R,!1),P=zs(e=>{const t=!i,n=Di(xi,e.nativeEvent);if(r(t,n),n.isCanceled)return;const o=R.current;"css-animation"===I.current&&null!=o&&o.style.removeProperty("animation-name"),w||E||(null!=I.current&&"css-animation"!==I.current&&!l&&t&&c(!0),"css-animation"===I.current&&(!p&&t&&f(!0),!l&&t&&c(!0))),a(t),"none"===I.current&&l&&!t&&c(!1)});return fi(()=>{!s||"none"!==I.current||E||i||c(!1)},[s,E,i,t,c]),d.useMemo(()=>({abortControllerRef:C,animationTypeRef:I,disabled:o,handleTrigger:P,height:g,mounted:l,open:i,panelId:x,panelRef:R,runOnceAnimationsFinish:N,setDimensions:m,setHiddenUntilFound:k,setKeepMounted:S,setMounted:c,setOpen:a,setPanelIdState:y,setVisible:f,transitionDimensionRef:j,transitionStatus:u,visible:p,width:h}),[C,I,o,P,g,l,i,x,R,N,m,k,S,c,a,f,j,u,p,h])}({open:l,defaultOpen:s,onOpenChange:u,disabled:i}),f=d.useMemo(()=>({open:p.open,disabled:p.disabled,transitionStatus:p.transitionStatus}),[p.open,p.disabled,p.transitionStatus]),g=d.useMemo(()=>({...p,onOpenChange:u,state:f}),[p,u,f]),h=ui("div",e,{state:f,ref:t,props:c,stateAttributesMapping:ea});return n.jsx(Wi.Provider,{value:g,children:h})});function na(){return"undefined"!=typeof window}function ra(e){return ia(e)?(e.nodeName||"").toLowerCase():"#document"}function oa(e){var t;return(null==e||null==(t=e.ownerDocument)?void 0:t.defaultView)||window}function sa(e){var t;return null==(t=(ia(e)?e.ownerDocument:e.document)||window.document)?void 0:t.documentElement}function ia(e){return!!na()&&(e instanceof Node||e instanceof oa(e).Node)}function aa(e){return!!na()&&(e instanceof Element||e instanceof oa(e).Element)}function la(e){return!!na()&&(e instanceof HTMLElement||e instanceof oa(e).HTMLElement)}function ca(e){return!(!na()||"undefined"==typeof ShadowRoot)&&(e instanceof ShadowRoot||e instanceof oa(e).ShadowRoot)}const da=new Set(["inline","contents"]);function ua(e){const{overflow:t,overflowX:n,overflowY:r,display:o}=Ea(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!da.has(o)}const pa=new Set(["table","td","th"]);function fa(e){return pa.has(ra(e))}const ga=[":popover-open",":modal"];function ha(e){return ga.some(t=>{try{return e.matches(t)}catch(n){return!1}})}const ma=["transform","translate","scale","rotate","perspective"],va=["transform","translate","scale","rotate","perspective","filter"],ba=["paint","layout","strict","content"];function ya(e){const t=xa(),n=aa(e)?Ea(e):e;return ma.some(e=>!!n[e]&&"none"!==n[e])||!!n.containerType&&"normal"!==n.containerType||!t&&!!n.backdropFilter&&"none"!==n.backdropFilter||!t&&!!n.filter&&"none"!==n.filter||va.some(e=>(n.willChange||"").includes(e))||ba.some(e=>(n.contain||"").includes(e))}function xa(){return!("undefined"==typeof CSS||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}const wa=new Set(["html","body","#document"]);function ka(e){return wa.has(ra(e))}function Ea(e){return oa(e).getComputedStyle(e)}function Sa(e){return aa(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Ca(e){if("html"===ra(e))return e;const t=e.assignedSlot||e.parentNode||ca(e)&&e.host||sa(e);return ca(t)?t.host:t}function Ia(e){const t=Ca(e);return ka(t)?e.ownerDocument?e.ownerDocument.body:e.body:la(t)&&ua(t)?t:Ia(t)}function ja(e,t,n){var r;void 0===t&&(t=[]),void 0===n&&(n=!0);const o=Ia(e),s=o===(null==(r=e.ownerDocument)?void 0:r.body),i=oa(o);if(s){const e=Ra(i);return t.concat(i,i.visualViewport||[],ua(o)?o:[],e&&n?ja(e):[])}return t.concat(o,ja(o,[],n))}function Ra(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}const Na=d.createContext(void 0);function Pa(e=!1){const t=d.useContext(Na);if(void 0===t&&!e)throw new Error($s(16));return t}function Oa(e={}){const{disabled:t=!1,focusableWhenDisabled:n,tabIndex:r=0,native:o=!0}=e,s=d.useRef(null),i=void 0!==Pa(!0),a=zs(()=>{const e=s.current;return Boolean("A"===(null==e?void 0:e.tagName)&&(null==e?void 0:e.href))}),{props:l}=function(e){const{focusableWhenDisabled:t,disabled:n,composite:r=!1,tabIndex:o=0,isNativeButton:s}=e,i=r&&!1!==t,a=r&&!1===t;return{props:d.useMemo(()=>{const e={onKeyDown(e){n&&t&&"Tab"!==e.key&&e.preventDefault()}};return r||(e.tabIndex=o,!s&&n&&(e.tabIndex=t?o:-1)),(s&&(t||i)||!s&&n)&&(e["aria-disabled"]=n),!s||t&&!a||(e.disabled=n),e},[r,n,t,i,a,s,o])}}({focusableWhenDisabled:n,disabled:t,composite:i,tabIndex:r,isNativeButton:o}),c=d.useCallback(()=>{const e=s.current;var n;la(n=e)&&"BUTTON"===n.tagName&&(i&&t&&void 0===l.disabled&&e.disabled&&(e.disabled=!1))},[t,l.disabled,i]);fi(c,[c]);return{getButtonProps:d.useCallback((e={})=>{const{onClick:n,onMouseDown:r,onKeyUp:s,onKeyDown:i,onPointerDown:c,...d}=e;return Ys({type:o?"button":void 0,onClick(e){t?e.preventDefault():null==n||n(e)},onMouseDown(e){t||null==r||r(e)},onKeyDown(e){if(t||(ti(e),null==i||i(e)),e.baseUIHandlerPrevented)return;const r=e.target===e.currentTarget&&!o&&!a()&&!t,s="Enter"===e.key,l=" "===e.key;r&&((l||s)&&e.preventDefault(),s&&(null==n||n(e)))},onKeyUp(e){t||(ti(e),null==s||s(e)),e.baseUIHandlerPrevented||e.target!==e.currentTarget||o||t||" "!==e.key||null==n||n(e)},onPointerDown(e){t?e.preventDefault():null==c||c(e)}},o?void 0:{role:"button"},l,d)},[t,l,o,a]),buttonRef:zs(e=>{s.current=e,c()})}}let Ta=function(e){return e.disabled="data-disabled",e.orientation="data-orientation",e}({});let Ma=function(e){return e.collapsiblePanelHeight="--collapsible-panel-height",e.collapsiblePanelWidth="--collapsible-panel-width",e}({});function Da(e){const t=Ds(Aa,e).current;return t.next=e,fi(t.effect),t}function Aa(e){const t={current:e,next:e,effect:()=>{t.current=t.next}};return t}function La(e){const{enabled:t=!0,open:n,ref:r,onComplete:o}=e,s=Da(n),i=zs(o),a=Vi(r,n);d.useEffect(()=>{t&&a(()=>{n===s.current&&i()})},[t,n,i,a,s])}const za=d.forwardRef(function(e,t){const{className:n,hiddenUntilFound:r,keepMounted:o,render:s,id:i,...a}=e,{abortControllerRef:l,animationTypeRef:c,height:u,mounted:p,onOpenChange:f,open:g,panelId:h,panelRef:m,runOnceAnimationsFinish:v,setDimensions:b,setHiddenUntilFound:y,setKeepMounted:x,setMounted:w,setPanelIdState:k,setOpen:E,setVisible:S,state:C,transitionDimensionRef:I,visible:j,width:R,transitionStatus:N}=function(){const e=d.useContext(Wi);if(void 0===e)throw new Error($s(15));return e}(),P=r??!1,O=o??!1;fi(()=>{if(i)return k(i),()=>{k(void 0)}},[i,k]),fi(()=>{y(P)},[y,P]),fi(()=>{x(O)},[x,O]);const{props:T}=function(e){const{abortControllerRef:t,animationTypeRef:n,externalRef:r,height:o,hiddenUntilFound:s,keepMounted:i,id:a,mounted:l,onOpenChange:c,open:u,panelRef:p,runOnceAnimationsFinish:f,setDimensions:g,setMounted:h,setOpen:m,setVisible:v,transitionDimensionRef:b,visible:y,width:x}=e,w=d.useRef(!1),k=d.useRef(null),E=d.useRef(u),S=d.useRef(u),C=_i(),I=d.useMemo(()=>"css-animation"===n.current?!y:!u&&!l,[u,l,y,n]),j=zs(e=>{if(!e)return;if(null==n.current||null==b.current){const t=getComputedStyle(e),r="none"!==t.animationName&&""!==t.animationName,o="0s"!==t.transitionDuration&&""!==t.transitionDuration;r&&o||("none"===t.animationName&&"0s"!==t.transitionDuration?n.current="css-transition":"none"!==t.animationName&&"0s"===t.transitionDuration?n.current="css-animation":n.current="none"),"horizontal"===e.getAttribute(Ta.orientation)||t.transitionProperty.indexOf("width")>-1?b.current="width":b.current="height"}if("css-transition"!==n.current)return;void 0!==o&&void 0!==x||(g({height:e.scrollHeight,width:e.scrollWidth}),S.current&&e.style.setProperty("transition-duration","0s"));let t=-1,r=-1;return t=$i.request(()=>{S.current=!1,r=$i.request(()=>{setTimeout(()=>{e.style.removeProperty("transition-duration")})})}),()=>{$i.cancel(t),$i.cancel(r)}}),R=_s(r,p,j);return fi(()=>{if("css-transition"!==n.current)return;const e=p.current;if(!e)return;let r=-1;if(null!=t.current&&(t.current.abort(),t.current=null),!u){if(0===e.scrollHeight&&0===e.scrollWidth)return;g({height:e.scrollHeight,width:e.scrollWidth});const n=new AbortController;t.current=n;const r=n.signal;let o=null;const s=Xi.endingStyle;return o=new MutationObserver(i=>{i.some(e=>"attributes"===e.type&&e.attributeName===s)&&(null==o||o.disconnect(),o=null,f(()=>{g({height:0,width:0}),e.style.removeProperty("content-visibility"),h(!1),t.current===n&&(t.current=null)},r))}),o.observe(e,{attributes:!0,attributeFilter:[s]}),()=>{null==o||o.disconnect(),C.cancel(),t.current===n&&(n.abort(),t.current=null)}}{const t={"justify-content":e.style.justifyContent,"align-items":e.style.alignItems,"align-content":e.style.alignContent,"justify-items":e.style.justifyItems};Object.keys(t).forEach(t=>{e.style.setProperty(t,"initial","important")}),S.current||i||e.setAttribute(Xi.startingStyle,""),g({height:e.scrollHeight,width:e.scrollWidth}),r=$i.request(()=>{Object.entries(t).forEach(([t,n])=>{""===n?e.style.removeProperty(t):e.style.setProperty(t,n)})})}return()=>{$i.cancel(r)}},[t,n,C,s,i,l,u,p,f,g,h]),fi(()=>{if("css-animation"!==n.current)return;const e=p.current;e&&(k.current=e.style.animationName||k.current,e.style.setProperty("animation-name","none"),g({height:e.scrollHeight,width:e.scrollWidth}),E.current||w.current||e.style.removeProperty("animation-name"),u?(null!=t.current&&(t.current.abort(),t.current=null),h(!0),v(!0)):(t.current=new AbortController,f(()=>{h(!1),v(!1),t.current=null},t.current.signal)))},[t,n,u,p,f,g,h,v,y]),zi(()=>{const e=$i.request(()=>{E.current=!1});return()=>$i.cancel(e)}),fi(()=>{if(!s)return;const e=p.current;if(!e)return;let t=-1,n=-1;return u&&w.current&&(e.style.transitionDuration="0s",g({height:e.scrollHeight,width:e.scrollWidth}),t=$i.request(()=>{w.current=!1,n=$i.request(()=>{setTimeout(()=>{e.style.removeProperty("transition-duration")})})})),()=>{$i.cancel(t),$i.cancel(n)}},[s,u,p,g]),fi(()=>{const e=p.current;e&&s&&I&&(e.setAttribute("hidden","until-found"),"css-transition"===n.current&&e.setAttribute(Xi.startingStyle,""))},[s,I,n,p]),d.useEffect(function(){const e=p.current;if(e)return e.addEventListener("beforematch",t),()=>{e.removeEventListener("beforematch",t)};function t(e){w.current=!0,m(!0),c(!0,Di(yi,e))}},[c,p,m]),d.useMemo(()=>({props:{hidden:I,id:a,ref:R}}),[I,a,R])}({abortControllerRef:l,animationTypeRef:c,externalRef:t,height:u,hiddenUntilFound:P,id:h,keepMounted:O,mounted:p,onOpenChange:f,open:g,panelRef:m,runOnceAnimationsFinish:v,setDimensions:b,setMounted:w,setOpen:E,setVisible:S,transitionDimensionRef:I,visible:j,width:R});La({open:g&&"idle"===N,ref:m,onComplete(){g&&b({height:void 0,width:void 0})}});const M=ui("div",e,{state:d.useMemo(()=>({...C,transitionStatus:N}),[C,N]),ref:[t,m],props:[T,{style:{[Ma.collapsiblePanelHeight]:void 0===u?"auto":`${u}px`,[Ma.collapsiblePanelWidth]:void 0===R?"auto":`${R}px`}},a],stateAttributesMapping:ea});return O||P||!O&&p?M:null});class Fa{constructor(){t(this,"currentId",0),t(this,"clear",()=>{0!==this.currentId&&(clearTimeout(this.currentId),this.currentId=0)}),t(this,"disposeEffect",()=>this.clear)}static create(){return new Fa}start(e,t){this.clear(),this.currentId=setTimeout(()=>{this.currentId=0,t()},e)}isStarted(){return 0!==this.currentId}}function Ba(){const e=Ds(Fa.create).current;return zi(e.disposeEffect),e}const $a=d.createContext(void 0);function _a(){const e=d.useContext($a);if(void 0===e)throw new Error($s(53));return e}let Ha=function(e){return e.scrollAreaCornerHeight="--scroll-area-corner-height",e.scrollAreaCornerWidth="--scroll-area-corner-width",e}({});const Va=500;function Ua(e,t,n){if(!e)return 0;const r=getComputedStyle(e),o="x"===n?"Inline":"Block";return"x"===n&&"margin"===t?2*parseFloat(r[`${t}InlineStart`]):parseFloat(r[`${t}${o}Start`])+parseFloat(r[`${t}${o}End`])}let Wa=function(e){return e.orientation="data-orientation",e.hovering="data-hovering",e.scrolling="data-scrolling",e.hasOverflowX="data-has-overflow-x",e.hasOverflowY="data-has-overflow-y",e.overflowXStart="data-overflow-x-start",e.overflowXEnd="data-overflow-x-end",e.overflowYStart="data-overflow-y-start",e.overflowYEnd="data-overflow-y-end",e}({});const Ga="base-ui-disable-scrollbar",qa={className:Ga,element:n.jsx("style",{href:Ga,precedence:"base-ui:low",children:`.${Ga}{scrollbar-width:none}.${Ga}::-webkit-scrollbar{display:none}`})};let Ka=function(e){return e.hasOverflowX="data-has-overflow-x",e.hasOverflowY="data-has-overflow-y",e.overflowXStart="data-overflow-x-start",e.overflowXEnd="data-overflow-x-end",e.overflowYStart="data-overflow-y-start",e.overflowYEnd="data-overflow-y-end",e}({});const Ya={hasOverflowX:e=>e?{[Ka.hasOverflowX]:""}:null,hasOverflowY:e=>e?{[Ka.hasOverflowY]:""}:null,overflowXStart:e=>e?{[Ka.overflowXStart]:""}:null,overflowXEnd:e=>e?{[Ka.overflowXEnd]:""}:null,overflowYStart:e=>e?{[Ka.overflowYStart]:""}:null,overflowYEnd:e=>e?{[Ka.overflowYEnd]:""}:null,cornerHidden:()=>null},Xa="undefined"!=typeof navigator,Ja=function(){if(!Xa)return{platform:"",maxTouchPoints:-1};const e=navigator.userAgentData;if(null==e?void 0:e.platform)return{platform:e.platform,maxTouchPoints:navigator.maxTouchPoints};return{platform:navigator.platform??"",maxTouchPoints:navigator.maxTouchPoints??-1}}(),Za=function(){if(!Xa)return"";const e=navigator.userAgentData;if(null==e?void 0:e.platform)return e.platform;return navigator.platform??""}(),Qa=function(){if(!Xa)return"";const e=navigator.userAgentData;if(e&&Array.isArray(e.brands))return e.brands.map(({brand:e,version:t})=>`${e}/${t}`).join(" ");return navigator.userAgent}(),el=!("undefined"==typeof CSS||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter:none"),tl="MacIntel"===Ja.platform&&Ja.maxTouchPoints>1||/iP(hone|ad|od)|iOS/.test(Ja.platform),nl=Xa&&/firefox/i.test(Qa),rl=Xa&&/apple/i.test(navigator.vendor),ol=Xa&&/android/i.test(Za)||/android/i.test(Qa),sl=Xa&&Za.toLowerCase().startsWith("mac")&&!navigator.maxTouchPoints,il=Qa.includes("jsdom/");const al="data-base-ui-focusable",ll="active",cl="selected",dl="input:not([type='hidden']):not([disabled]),[contenteditable]:not([contenteditable='false']),textarea:not([disabled])",ul="ArrowLeft",pl="ArrowRight",fl="ArrowUp",gl="ArrowDown";function hl(e){var t;let n=e.activeElement;for(;null!=(null==(t=null==n?void 0:n.shadowRoot)?void 0:t.activeElement);)n=n.shadowRoot.activeElement;return n}function ml(e,t){var n;if(!e||!t)return!1;const r=null==(n=t.getRootNode)?void 0:n.call(t);if(e.contains(t))return!0;if(r&&ca(r)){let n=t;for(;n;){if(e===n)return!0;n=n.parentNode||n.host}}return!1}function vl(e){return"composedPath"in e?e.composedPath()[0]:e.target}function bl(e,t){if(null==t)return!1;if("composedPath"in e)return e.composedPath().includes(t);const n=e;return null!=n.target&&t.contains(n.target)}function yl(e){return(null==e?void 0:e.ownerDocument)||document}function xl(e){return la(e)&&e.matches(dl)}function wl(e){return!!e&&("combobox"===e.getAttribute("role")&&xl(e))}function kl(e){return e?e.hasAttribute(al)?e:e.querySelector(`[${al}]`)||e:null}function El(e,t,n=!0){return e.filter(e=>{var r;return e.parentId===t&&(!n||(null==(r=e.context)?void 0:r.open))}).flatMap(t=>[t,...El(e,t.id,n)])}function Sl(e,t){var n;let r=[],o=null==(n=e.find(e=>e.id===t))?void 0:n.parentId;for(;o;){const t=e.find(e=>e.id===o);o=null==t?void 0:t.parentId,t&&(r=r.concat(t))}return r}function Cl(e){e.preventDefault(),e.stopPropagation()}function Il(e){return!(0!==e.mozInputSource||!e.isTrusted)||(ol&&e.pointerType?"click"===e.type&&1===e.buttons:0===e.detail&&!e.pointerType)}function jl(e){return!il&&(!ol&&0===e.width&&0===e.height||ol&&1===e.width&&1===e.height&&0===e.pressure&&0===e.detail&&"mouse"===e.pointerType||e.width<1&&e.height<1&&0===e.pressure&&0===e.detail&&"touch"===e.pointerType)}function Rl(e,t){const n=["mouse","pen"];return t||n.push("",void 0),n.includes(e)}function Nl(e){const t=e.type;return"click"===t||"mousedown"===t||"keydown"===t||"keyup"===t}const Pl=["top","right","bottom","left"],Ol=Math.min,Tl=Math.max,Ml=Math.round,Dl=Math.floor,Al=e=>({x:e,y:e}),Ll={left:"right",right:"left",bottom:"top",top:"bottom"},zl={start:"end",end:"start"};function Fl(e,t,n){return Tl(e,Ol(t,n))}function Bl(e,t){return"function"==typeof e?e(t):e}function $l(e){return e.split("-")[0]}function _l(e){return e.split("-")[1]}function Hl(e){return"x"===e?"y":"x"}function Vl(e){return"y"===e?"height":"width"}const Ul=new Set(["top","bottom"]);function Wl(e){return Ul.has($l(e))?"y":"x"}function Gl(e){return Hl(Wl(e))}function ql(e){return e.replace(/start|end/g,e=>zl[e])}const Kl=["left","right"],Yl=["right","left"],Xl=["top","bottom"],Jl=["bottom","top"];function Zl(e,t,n,r){const o=_l(e);let s=function(e,t,n){switch(e){case"top":case"bottom":return n?t?Yl:Kl:t?Kl:Yl;case"left":case"right":return t?Xl:Jl;default:return[]}}($l(e),"start"===n,r);return o&&(s=s.map(e=>e+"-"+o),t&&(s=s.concat(s.map(ql)))),s}function Ql(e){return e.replace(/left|right|bottom|top/g,e=>Ll[e])}function ec(e){return"number"!=typeof e?function(e){return{top:0,right:0,bottom:0,left:0,...e}}(e):{top:e,right:e,bottom:e,left:e}}function tc(e){const{x:t,y:n,width:r,height:o}=e;return{width:r,height:o,top:n,left:t,right:t+r,bottom:n+o,x:t,y:n}}function nc(e,t,n){return Math.floor(e/t)!==n}function rc(e,t){return t<0||t>=e.current.length}function oc(e,t){return ic(e,{disabledIndices:t})}function sc(e,t){return ic(e,{decrement:!0,startingIndex:e.current.length,disabledIndices:t})}function ic(e,{startingIndex:t=-1,decrement:n=!1,disabledIndices:r,amount:o=1}={}){let s=t;do{s+=n?-o:o}while(s>=0&&s<=e.current.length-1&&cc(e,s,r));return s}function ac(e,t,n,r,o){if(-1===e)return-1;const s=n.indexOf(e),i=t[e];switch(o){case"tl":return s;case"tr":return i?s+i.width-1:s;case"bl":return i?s+(i.height-1)*r:s;case"br":return n.lastIndexOf(e);default:return-1}}function lc(e,t){return t.flatMap((t,n)=>e.includes(t)?[n]:[])}function cc(e,t,n){if("function"==typeof n)return n(t);if(n)return n.includes(t);const r=e.current[t];return!!r&&(r.hasAttribute("disabled")||"true"===r.getAttribute("aria-disabled"))}
/*!
* tabbable 6.3.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var dc=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"].join(","),uc="undefined"==typeof Element,pc=uc?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,fc=!uc&&Element.prototype.getRootNode?function(e){var t;return null==e||null===(t=e.getRootNode)||void 0===t?void 0:t.call(e)}:function(e){return null==e?void 0:e.ownerDocument},gc=function(e,t){var n;void 0===t&&(t=!0);var r=null==e||null===(n=e.getAttribute)||void 0===n?void 0:n.call(e,"inert");return""===r||"true"===r||t&&e&&gc(e.parentNode)},hc=function(e,t,n){if(gc(e))return[];var r=Array.prototype.slice.apply(e.querySelectorAll(dc));return t&&pc.call(e,dc)&&r.unshift(e),r=r.filter(n)},mc=function(e,t,n){for(var r=[],o=Array.from(e);o.length;){var s=o.shift();if(!gc(s,!1))if("SLOT"===s.tagName){var i=s.assignedElements(),a=i.length?i:s.children,l=mc(a,!0,n);n.flatten?r.push.apply(r,l):r.push({scopeParent:s,candidates:l})}else{pc.call(s,dc)&&n.filter(s)&&(t||!e.includes(s))&&r.push(s);var c=s.shadowRoot||"function"==typeof n.getShadowRoot&&n.getShadowRoot(s),d=!gc(c,!1)&&(!n.shadowRootFilter||n.shadowRootFilter(s));if(c&&d){var u=mc(!0===c?s.children:c.children,!0,n);n.flatten?r.push.apply(r,u):r.push({scopeParent:s,candidates:u})}else o.unshift.apply(o,s.children)}}return r},vc=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},bc=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||function(e){var t,n=null==e||null===(t=e.getAttribute)||void 0===t?void 0:t.call(e,"contenteditable");return""===n||"true"===n}(e))&&!vc(e)?0:e.tabIndex},yc=function(e,t){return e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex},xc=function(e){return"INPUT"===e.tagName},wc=function(e){return function(e){return xc(e)&&"radio"===e.type}(e)&&!function(e){if(!e.name)return!0;var t,n=e.form||fc(e),r=function(e){return n.querySelectorAll('input[type="radio"][name="'+e+'"]')};if("undefined"!=typeof window&&void 0!==window.CSS&&"function"==typeof window.CSS.escape)t=r(window.CSS.escape(e.name));else try{t=r(e.name)}catch(s){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",s.message),!1}var o=function(e,t){for(var n=0;n<e.length;n++)if(e[n].checked&&e[n].form===t)return e[n]}(t,e.form);return!o||o===e}(e)},kc=function(e){var t=e.getBoundingClientRect(),n=t.width,r=t.height;return 0===n&&0===r},Ec=function(e,t){var n=t.displayCheck,r=t.getShadowRoot;if("full-native"===n&&"checkVisibility"in e)return!e.checkVisibility({checkOpacity:!1,opacityProperty:!1,contentVisibilityAuto:!0,visibilityProperty:!0,checkVisibilityCSS:!0});if("hidden"===getComputedStyle(e).visibility)return!0;var o=pc.call(e,"details>summary:first-of-type")?e.parentElement:e;if(pc.call(o,"details:not([open]) *"))return!0;if(n&&"full"!==n&&"full-native"!==n&&"legacy-full"!==n){if("non-zero-area"===n)return kc(e)}else{if("function"==typeof r){for(var s=e;e;){var i=e.parentElement,a=fc(e);if(i&&!i.shadowRoot&&!0===r(i))return kc(e);e=e.assignedSlot?e.assignedSlot:i||a===e.ownerDocument?i:a.host}e=s}if(function(e){var t,n,r,o,s=e&&fc(e),i=null===(t=s)||void 0===t?void 0:t.host,a=!1;if(s&&s!==e)for(a=!!(null!==(n=i)&&void 0!==n&&null!==(r=n.ownerDocument)&&void 0!==r&&r.contains(i)||null!=e&&null!==(o=e.ownerDocument)&&void 0!==o&&o.contains(e));!a&&i;){var l,c,d;a=!(null===(c=i=null===(l=s=fc(i))||void 0===l?void 0:l.host)||void 0===c||null===(d=c.ownerDocument)||void 0===d||!d.contains(i))}return a}(e))return!e.getClientRects().length;if("legacy-full"!==n)return!0}return!1},Sc=function(e,t){return!(t.disabled||gc(t)||function(e){return xc(e)&&"hidden"===e.type}(t)||Ec(t,e)||function(e){return"DETAILS"===e.tagName&&Array.prototype.slice.apply(e.children).some(function(e){return"SUMMARY"===e.tagName})}(t)||function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var t=e.parentElement;t;){if("FIELDSET"===t.tagName&&t.disabled){for(var n=0;n<t.children.length;n++){var r=t.children.item(n);if("LEGEND"===r.tagName)return!!pc.call(t,"fieldset[disabled] *")||!r.contains(e)}return!0}t=t.parentElement}return!1}(t))},Cc=function(e,t){return!(wc(t)||bc(t)<0||!Sc(e,t))},Ic=function(e){var t=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(t)||t>=0)},jc=function(e){var t=[],n=[];return e.forEach(function(e,r){var o=!!e.scopeParent,s=o?e.scopeParent:e,i=function(e,t){var n=bc(e);return n<0&&t&&!vc(e)?0:n}(s,o),a=o?jc(e.candidates):s;0===i?o?t.push.apply(t,a):t.push(s):n.push({documentOrder:r,tabIndex:i,item:e,isScope:o,content:a})}),n.sort(yc).reduce(function(e,t){return t.isScope?e.push.apply(e,t.content):e.push(t.content),e},[]).concat(t)},Rc=function(e,t){var n;return n=(t=t||{}).getShadowRoot?mc([e],t.includeContainer,{filter:Cc.bind(null,t),flatten:!1,getShadowRoot:t.getShadowRoot,shadowRootFilter:Ic}):hc(e,t.includeContainer,Cc.bind(null,t)),jc(n)},Nc=function(e,t){if(t=t||{},!e)throw new Error("No node provided");return!1!==pc.call(e,dc)&&Cc(t,e)};const Pc=()=>({getShadowRoot:!0,displayCheck:"function"==typeof ResizeObserver&&ResizeObserver.toString().includes("[native code]")?"full":"none"});function Oc(e,t){const n=Rc(e,Pc()),r=n.length;if(0===r)return;const o=hl(yl(e)),s=n.indexOf(o);return n[-1===s?1===t?0:r-1:s+t]}function Tc(e){return Oc(yl(e).body,1)||e}function Mc(e){return Oc(yl(e).body,-1)||e}function Dc(e,t){if(!e)return null;const n=Rc(yl(e).body,Pc()),r=n.length;if(0===r)return null;const o=n.indexOf(e);if(-1===o)return null;return n[(o+t+r)%r]}function Ac(e){return Dc(e,1)}function Lc(e){return Dc(e,-1)}function zc(e,t){const n=t||e.currentTarget,r=e.relatedTarget;return!r||!ml(n,r)}function Fc(e){Rc(e,Pc()).forEach(e=>{e.dataset.tabindex=e.getAttribute("tabindex")||"",e.setAttribute("tabindex","-1")})}function Bc(e){e.querySelectorAll("[data-tabindex]").forEach(e=>{const t=e.dataset.tabindex;delete e.dataset.tabindex,t?e.setAttribute("tabindex",t):e.removeAttribute("tabindex")})}const $c={width:0,height:0},_c={xStart:!1,xEnd:!1,yStart:!1,yEnd:!1},Hc=d.forwardRef(function(e,t){const{render:r,className:o,overflowEdgeThreshold:s,...i}=e,[a,l]=d.useState(!1),[c,u]=d.useState(!1),[p,f]=d.useState(!1),[g,h]=d.useState($c),[m,v]=d.useState($c),[b,y]=d.useState(!1),[x,w]=d.useState(_c),k=bi(),E=d.useRef(null),S=d.useRef(null),C=d.useRef(null),I=d.useRef(null),j=d.useRef(null),R=d.useRef(null),N=d.useRef(null),P=d.useRef(!1),O=d.useRef(0),T=d.useRef(0),M=d.useRef(0),D=d.useRef(0),A=d.useRef("vertical"),L=Ba(),z=Ba(),F=d.useRef({x:0,y:0}),[B,$]=d.useState({scrollbarYHidden:!1,scrollbarXHidden:!1,cornerHidden:!1}),_=function(e){if("number"==typeof e){const t=Math.max(0,e);return{xStart:t,xEnd:t,yStart:t,yEnd:t}}return{xStart:Math.max(0,(null==e?void 0:e.xStart)||0),xEnd:Math.max(0,(null==e?void 0:e.xEnd)||0),yStart:Math.max(0,(null==e?void 0:e.yStart)||0),yEnd:Math.max(0,(null==e?void 0:e.yEnd)||0)}}(s),H=zs(e=>{const t=e.x-F.current.x,n=e.y-F.current.y;F.current=e,0!==n&&(f(!0),L.start(Va,()=>{f(!1)})),0!==t&&(u(!0),z.start(Va,()=>{u(!1)}))}),V=zs(e=>{0===e.button&&(P.current=!0,O.current=e.clientY,T.current=e.clientX,A.current=e.currentTarget.getAttribute(Wa.orientation),S.current&&(M.current=S.current.scrollTop,D.current=S.current.scrollLeft),j.current&&"vertical"===A.current&&j.current.setPointerCapture(e.pointerId),R.current&&"horizontal"===A.current&&R.current.setPointerCapture(e.pointerId))}),U=zs(e=>{if(!P.current)return;const t=e.clientY-O.current,n=e.clientX-T.current;if(S.current){const r=S.current.scrollHeight,o=S.current.clientHeight,s=S.current.scrollWidth,i=S.current.clientWidth;if(j.current&&C.current&&"vertical"===A.current){const n=Ua(C.current,"padding","y"),s=Ua(j.current,"margin","y"),i=j.current.offsetHeight,a=t/(C.current.offsetHeight-i-n-s);S.current.scrollTop=M.current+a*(r-o),e.preventDefault(),f(!0),L.start(Va,()=>{f(!1)})}if(R.current&&I.current&&"horizontal"===A.current){const t=Ua(I.current,"padding","x"),r=Ua(R.current,"margin","x"),o=R.current.offsetWidth,a=n/(I.current.offsetWidth-o-t-r);S.current.scrollLeft=D.current+a*(s-i),e.preventDefault(),u(!0),z.start(Va,()=>{u(!1)})}}}),W=zs(e=>{P.current=!1,j.current&&"vertical"===A.current&&j.current.releasePointerCapture(e.pointerId),R.current&&"horizontal"===A.current&&R.current.releasePointerCapture(e.pointerId)});function G(e){const t="touch"===e.pointerType;if(y(t),!t){const t=ml(E.current,e.target);l(t)}}const q=d.useMemo(()=>({hasOverflowX:!B.scrollbarXHidden,hasOverflowY:!B.scrollbarYHidden,overflowXStart:x.xStart,overflowXEnd:x.xEnd,overflowYStart:x.yStart,overflowYEnd:x.yEnd,cornerHidden:B.cornerHidden}),[B.scrollbarXHidden,B.scrollbarYHidden,B.cornerHidden,x]),K={role:"presentation",onPointerEnter:G,onPointerMove:G,onPointerDown({pointerType:e}){y("touch"===e)},onPointerLeave(){l(!1)},style:{position:"relative",[Ha.scrollAreaCornerHeight]:`${g.height}px`,[Ha.scrollAreaCornerWidth]:`${g.width}px`}},Y=ui("div",e,{state:q,ref:[t,E],props:[K,i],stateAttributesMapping:Ya}),X=d.useMemo(()=>({handlePointerDown:V,handlePointerMove:U,handlePointerUp:W,handleScroll:H,cornerSize:g,setCornerSize:h,thumbSize:m,setThumbSize:v,touchModality:b,cornerRef:N,scrollingX:c,setScrollingX:u,scrollingY:p,setScrollingY:f,hovering:a,setHovering:l,viewportRef:S,rootRef:E,scrollbarYRef:C,scrollbarXRef:I,thumbYRef:j,thumbXRef:R,rootId:k,hiddenState:B,setHiddenState:$,overflowEdges:x,setOverflowEdges:w,viewportState:q,overflowEdgeThreshold:_}),[V,U,W,H,g,m,b,N,c,u,p,f,a,l,S,E,C,I,j,R,k,B,x,q,_]);return n.jsxs($a.Provider,{value:X,children:[qa.element,Y]})});const Vc=d.createContext(void 0),Uc=d.createContext(void 0);function Wc(){const e=d.useContext(Uc);return(null==e?void 0:e.direction)??"ltr"}function Gc(e,t=Number.MIN_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER){return Math.max(t,Math.min(e,n))}let qc=function(e){return e.scrollAreaOverflowXStart="--scroll-area-overflow-x-start",e.scrollAreaOverflowXEnd="--scroll-area-overflow-x-end",e.scrollAreaOverflowYStart="--scroll-area-overflow-y-start",e.scrollAreaOverflowYEnd="--scroll-area-overflow-y-end",e}({}),Kc=!1;const Yc=d.forwardRef(function(e,t){const{render:r,className:o,...s}=e,{viewportRef:i,scrollbarYRef:a,scrollbarXRef:l,thumbYRef:u,thumbXRef:p,cornerRef:f,setCornerSize:g,setThumbSize:h,rootId:m,setHiddenState:v,hiddenState:b,handleScroll:y,setHovering:x,setOverflowEdges:w,overflowEdges:k,overflowEdgeThreshold:E}=_a(),S=Wc(),C=d.useRef(!0),I=Ba(),j=Ba();function R(){const e=i.current,t=a.current,n=l.current,r=u.current,o=p.current,s=f.current;if(!e)return;const c=e.scrollHeight,d=e.scrollWidth,m=e.clientHeight,b=e.clientWidth,y=e.scrollTop,x=e.scrollLeft;if(0===c||0===d)return;const k=m>=c,C=b>=d,I=b/d,j=m/c,R=Math.max(0,d-b),N=Math.max(0,c-m);let P=0,O=0;C||(P=Gc("rtl"===S?-x:x,0,R),O=R-P);const T=k?0:Gc(y,0,N),M=k?0:N-T,D=C?0:b,A=k?0:m,L=Ua(n,"padding","x"),z=Ua(t,"padding","y"),F=Ua(o,"margin","x"),B=Ua(r,"margin","y"),$=D-L-F,_=A-z-B,H=n?Math.min(n.offsetWidth,$):$,V=t?Math.min(t.offsetHeight,_):_,U=Math.max(16,H*I),W=Math.max(16,V*j);if(h(e=>e.height===W&&e.width===U?e:{width:U,height:W}),t&&r){const e=t.offsetHeight-W-z-B,n=c-m,o=0===n?0:y/n,s=Math.min(e,Math.max(0,o*e));r.style.transform=`translate3d(0,${s}px,0)`}if(n&&o){const e=n.offsetWidth-U-L-F,t=d-b,r=0===t?0:x/t,s="rtl"===S?Gc(r*e,-e,0):Gc(r*e,0,e);o.style.transform=`translate3d(${s}px,0,0)`}const G=Gc(P,0,R),q=Gc(O,0,R),K=Gc(T,0,N),Y=Gc(M,0,N),X=[[qc.scrollAreaOverflowXStart,G],[qc.scrollAreaOverflowXEnd,q],[qc.scrollAreaOverflowYStart,K],[qc.scrollAreaOverflowYEnd,Y]];for(const[i,a]of X)e.style.setProperty(i,`${a}px`);if(s)if(C||k)g({width:0,height:0});else if(!C&&!k){const e=(null==t?void 0:t.offsetWidth)||0,r=(null==n?void 0:n.offsetHeight)||0;g({width:e,height:r})}v(e=>{const t=k||C;return e.scrollbarYHidden===k&&e.scrollbarXHidden===C&&e.cornerHidden===t?e:{scrollbarYHidden:k,scrollbarXHidden:C,cornerHidden:t}});const J={xStart:!C&&G>E.xStart,xEnd:!C&&q>E.xEnd,yStart:!k&&K>E.yStart,yEnd:!k&&Y>E.yEnd};w(e=>e.xStart===J.xStart&&e.xEnd===J.xEnd&&e.yStart===J.yStart&&e.yEnd===J.yEnd?e:J)}const N=zs(()=>{c.flushSync(R)});function P(){C.current=!1}fi(()=>{if(!i.current)return;Kc||el||("undefined"!=typeof CSS&&"registerProperty"in CSS&&[qc.scrollAreaOverflowXStart,qc.scrollAreaOverflowXEnd,qc.scrollAreaOverflowYStart,qc.scrollAreaOverflowYEnd].forEach(e=>{try{CSS.registerProperty({name:e,syntax:"<length>",inherits:!1,initialValue:"0px"})}catch{}}),Kc=!0);const e=function(e,t){if("undefined"==typeof IntersectionObserver)return()=>{};const n=new IntersectionObserver(e=>{e.forEach(e=>{e.intersectionRatio>0&&(t(),n.disconnect())})});return n.observe(e),()=>{n.disconnect()}}(i.current,N);return e},[N,i]),fi(()=>{queueMicrotask(N)},[N,b,S]),fi(()=>{var e;(null==(e=i.current)?void 0:e.matches(":hover"))&&x(!0)},[i,x]),d.useEffect(()=>{const e=i.current;if("undefined"==typeof ResizeObserver||!e)return;const t=new ResizeObserver(N);return t.observe(e),j.start(0,()=>{Promise.all(e.getAnimations({subtree:!0}).map(e=>e.finished)).then(N).catch(()=>{})}),()=>{t.disconnect(),j.clear()}},[N,i,j]);const O={role:"presentation",...m&&{"data-id":`${m}-viewport`},...(!b.scrollbarXHidden||!b.scrollbarYHidden)&&{tabIndex:0},className:qa.className,style:{overflow:"scroll"},onScroll(){i.current&&(N(),C.current||y({x:i.current.scrollLeft,y:i.current.scrollTop}),I.start(100,()=>{C.current=!0}))},onWheel:P,onTouchMove:P,onPointerMove:P,onPointerEnter:P,onKeyDown:P},T=d.useMemo(()=>({hasOverflowX:!b.scrollbarXHidden,hasOverflowY:!b.scrollbarYHidden,overflowXStart:k.xStart,overflowXEnd:k.xEnd,overflowYStart:k.yStart,overflowYEnd:k.yEnd,cornerHidden:b.cornerHidden}),[b.scrollbarXHidden,b.scrollbarYHidden,b.cornerHidden,k]),M=ui("div",e,{ref:[t,i],state:T,props:[O,s],stateAttributesMapping:Ya}),D=d.useMemo(()=>({computeThumbPosition:N}),[N]);return n.jsx(Vc.Provider,{value:D,children:M})}),Xc=d.createContext(void 0);let Jc=function(e){return e.scrollAreaThumbHeight="--scroll-area-thumb-height",e.scrollAreaThumbWidth="--scroll-area-thumb-width",e}({});const Zc=d.forwardRef(function(e,t){const{render:r,className:o,orientation:s="vertical",keepMounted:i=!1,...a}=e,{hovering:l,scrollingX:c,scrollingY:u,hiddenState:p,overflowEdges:f,scrollbarYRef:g,scrollbarXRef:h,viewportRef:m,thumbYRef:v,thumbXRef:b,handlePointerDown:y,handlePointerUp:x,rootId:w,thumbSize:k}=_a(),E=d.useMemo(()=>({hovering:l,scrolling:{horizontal:c,vertical:u}[s],orientation:s,hasOverflowX:!p.scrollbarXHidden,hasOverflowY:!p.scrollbarYHidden,overflowXStart:f.xStart,overflowXEnd:f.xEnd,overflowYStart:f.yStart,overflowYEnd:f.yEnd,cornerHidden:p.cornerHidden}),[l,c,u,s,p,f]),S=Wc();d.useEffect(()=>{const e=m.current,t="vertical"===s?g.current:h.current;if(t)return t.addEventListener("wheel",n,{passive:!1}),()=>{t.removeEventListener("wheel",n)};function n(n){if(e&&t&&!n.ctrlKey){if(n.preventDefault(),"vertical"===s){if(0===e.scrollTop&&n.deltaY<0)return}else if(0===e.scrollLeft&&n.deltaX<0)return;if("vertical"===s){if(e.scrollTop===e.scrollHeight-e.clientHeight&&n.deltaY>0)return}else if(e.scrollLeft===e.scrollWidth-e.clientWidth&&n.deltaX>0)return;"vertical"===s?e.scrollTop+=n.deltaY:e.scrollLeft+=n.deltaX}}},[s,h,g,m]);const C={...w&&{"data-id":`${w}-scrollbar`},onPointerDown(e){if(0===e.button&&e.currentTarget===e.target&&m.current){if(v.current&&g.current&&"vertical"===s){const t=Ua(v.current,"margin","y"),n=Ua(g.current,"padding","y"),r=v.current.offsetHeight,o=g.current.getBoundingClientRect(),s=e.clientY-o.top-r/2-n+t/2,i=m.current.scrollHeight,a=m.current.clientHeight,l=s/(g.current.offsetHeight-r-n-t)*(i-a);m.current.scrollTop=l}if(b.current&&h.current&&"horizontal"===s){const t=Ua(b.current,"margin","x"),n=Ua(h.current,"padding","x"),r=b.current.offsetWidth,o=h.current.getBoundingClientRect(),s=e.clientX-o.left-r/2-n+t/2,i=m.current.scrollWidth,a=m.current.clientWidth,l=s/(h.current.offsetWidth-r-n-t);let c;"rtl"===S?(c=(1-l)*(i-a),m.current.scrollLeft<=0&&(c=-c)):c=l*(i-a),m.current.scrollLeft=c}y(e)}},onPointerUp:x,style:{position:"absolute",touchAction:"none",WebkitUserSelect:"none",userSelect:"none",..."vertical"===s&&{top:0,bottom:`var(${Ha.scrollAreaCornerHeight})`,insetInlineEnd:0,[Jc.scrollAreaThumbHeight]:`${k.height}px`},..."horizontal"===s&&{insetInlineStart:0,insetInlineEnd:`var(${Ha.scrollAreaCornerWidth})`,bottom:0,[Jc.scrollAreaThumbWidth]:`${k.width}px`}}},I=ui("div",e,{ref:[t,"vertical"===s?g:h],state:E,props:[C,a],stateAttributesMapping:Ya}),j=d.useMemo(()=>({orientation:s}),[s]),R="vertical"===s?p.scrollbarYHidden:p.scrollbarXHidden;return i||!R?n.jsx(Xc.Provider,{value:j,children:I}):null}),Qc=d.forwardRef(function(e,t){const{render:n,className:r,...o}=e,{thumbYRef:s,thumbXRef:i,handlePointerDown:a,handlePointerMove:l,handlePointerUp:c,setScrollingX:u,setScrollingY:p}=_a(),{orientation:f}=function(){const e=d.useContext(Xc);if(void 0===e)throw new Error($s(54));return e}(),g=d.useMemo(()=>({orientation:f}),[f]);return ui("div",e,{ref:[t,"vertical"===f?s:i],state:g,props:[{onPointerDown:a,onPointerMove:l,onPointerUp(e){"vertical"===f&&p(!1),"horizontal"===f&&u(!1),c(e)},style:{..."vertical"===f&&{height:`var(${Jc.scrollAreaThumbHeight})`},..."horizontal"===f&&{width:`var(${Jc.scrollAreaThumbWidth})`}}},o]})});var ed={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const td=(e,t)=>{const n=d.forwardRef(({color:n="currentColor",size:r=24,strokeWidth:o=2,absoluteStrokeWidth:s,children:i,...a},l)=>{return d.createElement("svg",{ref:l,...ed,width:r,height:r,stroke:n,strokeWidth:s?24*Number(o)/Number(r):o,className:`lucide lucide-${c=e,c.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,...a},[...t.map(([e,t])=>d.createElement(e,t)),...(Array.isArray(i)?i:[i])||[]]);var c});return n.displayName=`${e}`,n},nd=td("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),rd=td("ArrowDownWideNarrow",[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["path",{d:"M11 4h10",key:"1w87gc"}],["path",{d:"M11 8h7",key:"djye34"}],["path",{d:"M11 12h4",key:"q8tih4"}]]),od=td("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]),sd=td("ArrowUpNarrowWide",[["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}],["path",{d:"M11 12h4",key:"q8tih4"}],["path",{d:"M11 16h7",key:"uosisv"}],["path",{d:"M11 20h10",key:"jvxblo"}]]),id=td("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]),ad=td("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),ld=td("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),cd=td("CheckSquare",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]),dd=td("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),ud=td("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),pd=td("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),fd=td("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),gd=td("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),hd=td("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),md=td("CornerLeftUp",[["polyline",{points:"14 9 9 4 4 9",key:"m9oyvo"}],["path",{d:"M20 20h-7a4 4 0 0 1-4-4V4",key:"1blwi3"}]]),vd=td("Disc",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),bd=td("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),yd=td("FileImage",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["circle",{cx:"10",cy:"13",r:"2",key:"6v46hv"}],["path",{d:"m20 17-1.09-1.09a2 2 0 0 0-2.82 0L10 22",key:"17vly1"}]]),xd=td("FilePlus",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"12",x2:"12",y1:"18",y2:"12",key:"1tsf04"}],["line",{x1:"9",x2:"15",y1:"15",y2:"15",key:"110plj"}]]),wd=td("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),kd=td("Film",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M7 3v18",key:"bbkbws"}],["path",{d:"M3 7.5h4",key:"zfgn84"}],["path",{d:"M3 12h18",key:"1i2n21"}],["path",{d:"M3 16.5h4",key:"1230mu"}],["path",{d:"M17 3v18",key:"in4fa5"}],["path",{d:"M17 7.5h4",key:"myr1c1"}],["path",{d:"M17 16.5h4",key:"go4c1d"}]]),Ed=td("FlipHorizontal",[["path",{d:"M8 3H5a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h3",key:"1i73f7"}],["path",{d:"M16 3h3a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-3",key:"saxlbk"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"M12 14v2",key:"8jcxud"}],["path",{d:"M12 8v2",key:"1woqiv"}],["path",{d:"M12 2v2",key:"tus03m"}]]),Sd=td("FlipVertical",[["path",{d:"M21 8V5a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v3",key:"14bfxa"}],["path",{d:"M21 16v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-3",key:"14rx03"}],["path",{d:"M4 12H2",key:"rhcxmi"}],["path",{d:"M10 12H8",key:"s88cx1"}],["path",{d:"M16 12h-2",key:"10asgb"}],["path",{d:"M22 12h-2",key:"14jgyd"}]]),Cd=td("FolderClosed",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}],["path",{d:"M2 10h20",key:"1ir3d8"}]]),Id=td("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]),jd=td("FolderPlus",[["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]),Rd=td("FolderTree",[["path",{d:"M20 10a1 1 0 0 0 1-1V6a1 1 0 0 0-1-1h-2.5a1 1 0 0 1-.8-.4l-.9-1.2A1 1 0 0 0 15 3h-2a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1Z",key:"hod4my"}],["path",{d:"M20 21a1 1 0 0 0 1-1v-3a1 1 0 0 0-1-1h-2.9a1 1 0 0 1-.88-.55l-.42-.85a1 1 0 0 0-.92-.6H13a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1Z",key:"w4yl2u"}],["path",{d:"M3 5a2 2 0 0 0 2 2h3",key:"f2jnh7"}],["path",{d:"M3 3v13a2 2 0 0 0 2 2h3",key:"k8epm1"}]]),Nd=td("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]),Pd=td("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]),Od=td("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]),Td=td("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]),Md=td("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),Dd=td("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),Ad=td("Languages",[["path",{d:"m5 8 6 6",key:"1wu5hv"}],["path",{d:"m4 14 6-6 2-3",key:"1k1g8d"}],["path",{d:"M2 5h12",key:"or177f"}],["path",{d:"M7 2h1",key:"1t2jsx"}],["path",{d:"m22 22-5-10-5 10",key:"don7ne"}],["path",{d:"M14 18h6",key:"1m8k6r"}]]),Ld=td("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),zd=td("Maximize",[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]]),Fd=td("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]),Bd=td("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]),$d=td("Network",[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]]),_d=td("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]),Hd=td("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]),Vd=td("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),Ud=td("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),Wd=td("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]),Gd=td("RotateCw",[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]]),qd=td("Scissors",[["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M8.12 8.12 12 12",key:"1alkpv"}],["path",{d:"M20 4 8.12 15.88",key:"xgtan2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M14.8 14.8 20 20",key:"ptml3r"}]]),Kd=td("SearchX",[["path",{d:"m13.5 8.5-5 5",key:"1cs55j"}],["path",{d:"m8.5 8.5 5 5",key:"a8mexj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),Yd=td("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),Xd=td("Settings2",[["path",{d:"M20 7h-9",key:"3s1dr2"}],["path",{d:"M14 17H5",key:"gfn3mx"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]]),Jd=td("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Zd=td("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]),Qd=td("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]),eu=td("Tag",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]]),tu=td("Tags",[["path",{d:"M9 5H2v7l6.29 6.29c.94.94 2.48.94 3.42 0l3.58-3.58c.94-.94.94-2.48 0-3.42L9 5Z",key:"gt587u"}],["path",{d:"M6 9.01V9",key:"1flxpt"}],["path",{d:"m15 5 6.3 6.3a2.4 2.4 0 0 1 0 3.4L17 19",key:"1cbfv1"}]]),nu=td("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),ru=td("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),ou=td("Usb",[["circle",{cx:"10",cy:"7",r:"1",key:"dypaad"}],["circle",{cx:"4",cy:"20",r:"1",key:"22iqad"}],["path",{d:"M4.7 19.3 19 5",key:"1enqfc"}],["path",{d:"m21 3-3 1 2 2Z",key:"d3ov82"}],["path",{d:"M9.26 7.68 5 12l2 5",key:"1esawj"}],["path",{d:"m10 14 5 2 3.5-3.5",key:"v8oal5"}],["path",{d:"m18 12 1-1 1 1-1 1Z",key:"1bh22v"}]]),su=td("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),iu=td("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),au=td("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),lu=td("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),cu=td("ZoomOut",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),du={},uu=e=>{let t;const n=new Set,r=(e,r)=>{const o="function"==typeof e?e(t):e;if(!Object.is(o,t)){const e=t;t=(null!=r?r:"object"!=typeof o||null===o)?o:Object.assign({},t,o),n.forEach(n=>n(t,e))}},o=()=>t,s={setState:r,getState:o,getInitialState:()=>i,subscribe:e=>(n.add(e),()=>n.delete(e)),destroy:()=>{"production"!==(du?"production":void 0)&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},i=t=e(r,o,s);return s};var pu={exports:{}},fu={},gu=d,hu=Ts;var mu="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},vu=hu.useSyncExternalStore,bu=gu.useRef,yu=gu.useEffect,xu=gu.useMemo,wu=gu.useDebugValue;fu.useSyncExternalStoreWithSelector=function(e,t,n,r,o){var s=bu(null);if(null===s.current){var i={hasValue:!1,value:null};s.current=i}else i=s.current;s=xu(function(){function e(e){if(!l){if(l=!0,s=e,e=r(e),void 0!==o&&i.hasValue){var t=i.value;if(o(t,e))return a=t}return a=e}if(t=a,mu(s,e))return t;var n=r(e);return void 0!==o&&o(t,n)?(s=e,t):(s=e,a=n)}var s,a,l=!1,c=void 0===n?null:n;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]},[t,n,r,o]);var a=vu(e,s[0],s[1]);return yu(function(){i.hasValue=!0,i.value=a},[a]),wu(a),a},pu.exports=fu;var ku=pu.exports;const Eu=g(ku),Su={},{useDebugValue:Cu}=u,{useSyncExternalStoreWithSelector:Iu}=Eu;let ju=!1;const Ru=e=>e;const Nu=e=>{"production"!==(Su?"production":void 0)&&"function"!=typeof e&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t="function"==typeof e?(e=>e?uu(e):uu)(e):e,n=(e,n)=>function(e,t=Ru,n){"production"!==(Su?"production":void 0)&&n&&!ju&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),ju=!0);const r=Iu(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return Cu(r),r}(t,e,n);return Object.assign(n,t),n},Pu=e=>e?Nu(e):Nu;const Ou=new class{constructor(){var e;t(this,"pendingRequests",new Map),t(this,"eventListeners",new Map),t(this,"isWebView"),this.isWebView="undefined"!=typeof window&&!!(null==(e=window.chrome)?void 0:e.webview),console.log("[Bridge] isWebView:",this.isWebView),this.isWebView&&window.chrome.webview.addEventListener("message",e=>{console.log("[Bridge] Received message:",e.data),this.handleMessage(e.data)})}generateId(){return`${Date.now()}-${Math.random().toString(36).substr(2,9)}`}handleMessage(e){try{const t="string"==typeof e?JSON.parse(e):e;if(console.log("[Bridge] Parsed message:",JSON.stringify(t,null,2)),console.log("[Bridge] Message id:",t.id,"Pending IDs:",Array.from(this.pendingRequests.keys())),t.id&&this.pendingRequests.has(t.id)){const{resolve:e,reject:n}=this.pendingRequests.get(t.id);this.pendingRequests.delete(t.id);const r=t;console.log("[Bridge] Response for id:",t.id,"success:",r.success),r.success?e(r.data):n(new Error(r.error||"Unknown error"))}else if(t.event){const e=t,n=this.eventListeners.get(e.event);n&&n.forEach(t=>t(e.data))}else console.log("[Bridge] Unhandled - id not in pending:",t.id)}catch(t){console.error("Failed to parse bridge message:",t)}}async send(e,t){const n=this.generateId(),r={id:n,action:e,payload:t};return console.log("[Bridge] Sending:",e,"id:",n),new Promise((o,s)=>{if(!this.isWebView)return console.log("[Bridge] Using mock response for:",e),void setTimeout(()=>{o(this.getMockResponse(e,t))},100);this.pendingRequests.set(n,{resolve:o,reject:s});const i=JSON.stringify(r);console.log("[Bridge] Posting to WebView:",i),window.chrome.webview.postMessage(i),setTimeout(()=>{this.pendingRequests.has(n)&&(this.pendingRequests.delete(n),console.error("[Bridge] Timeout for:",e,"id:",n),s(new Error("Request timeout")))},12e4)})}on(e,t){return this.eventListeners.has(e)||this.eventListeners.set(e,new Set),this.eventListeners.get(e).add(t),()=>{var n;null==(n=this.eventListeners.get(e))||n.delete(t)}}async getDrives(){return this.send("getDrives")}async getFolders(e){return this.send("getFolders",{path:e})}async getImages(e){return this.send("getImages",{folderPath:e})}async getFolderContents(e){return this.send("getFolderContents",{folderPath:e})}async selectFolder(){return this.send("selectFolder")}async readTags(e){return this.send("readTags",{imagePath:e})}async writeTags(e,t){return this.send("writeTags",{imagePath:e,tags:t})}async getThumbnail(e){return this.send("getThumbnail",{imagePath:e})}async getFullImage(e,t=1920){return this.send("getFullImage",{imagePath:e,maxSize:t})}async getThumbnailsBatch(e){return this.send("getThumbnailsBatch",{imagePaths:e})}async getRating(e){return this.send("getRating",{imagePath:e})}async setRating(e,t){return this.send("setRating",{imagePath:e,rating:t})}async getAllTags(){return this.send("getAllTags")}async getTagLibrary(){return this.send("getTagLibrary")}async saveTagLibrary(e){return this.send("saveTagLibrary",{library:e})}async rotateImages(e,t){return this.send("rotateImages",{paths:e,angle:t})}async flipImages(e,t){return this.send("flipImages",{paths:e,horizontal:t})}async copyFiles(e,t){return this.send("copyFiles",{paths:e,targetFolder:t})}async moveFiles(e,t){return this.send("moveFiles",{paths:e,targetFolder:t})}async deleteFiles(e){return this.send("deleteFiles",{paths:e})}async rename(e,t){return this.send("renameFile",{path:e,newName:t})}async openInExplorer(e){return this.send("openInExplorer",{path:e})}async getProperties(e){return this.send("getProperties",{path:e})}getMockResponse(e,t){switch(e){case"getDrives":return[{name:"Lokaler Datentrger (C:)",path:"C:\\",type:"Drive",hasSubfolders:!0,totalSize:500*1024**3,freeSpace:200*1024**3,driveFormat:"NTFS",driveType:"Fixed"},{name:"Daten (D:)",path:"D:\\",type:"Drive",hasSubfolders:!0,totalSize:2e3*1024**3,freeSpace:1500*1024**3,driveFormat:"NTFS",driveType:"Fixed"},{name:"Backup (E:)",path:"E:\\",type:"Drive",hasSubfolders:!0,totalSize:4e3*1024**3,freeSpace:500*1024**3,driveFormat:"NTFS",driveType:"Fixed"}];case"getFolders":return[{name:"Pictures",path:"C:\\Pictures",type:"Folder",hasSubfolders:!0},{name:"Documents",path:"C:\\Documents",type:"Folder",hasSubfolders:!1}];case"getImages":return[];case"selectFolder":return"C:\\Pictures";case"readTags":return["landscape","nature","sunset"];case"getAllTags":return[{name:"landscape",usageCount:42,isFavorite:!0},{name:"nature",usageCount:38,isFavorite:!1}];default:return null}}},Tu=()=>{try{const e=localStorage.getItem("tagfusion-favorites");return e?JSON.parse(e):[]}catch{return[]}},Mu=e=>{localStorage.setItem("tagfusion-favorites",JSON.stringify(e))},Du=(e,t)=>({currentFolder:null,folders:[],drives:[],favorites:Tu(),expandedPaths:new Set,folderCache:new Map,loadingPaths:new Set,isLoadingDrives:!1,setCurrentFolder:t=>e({currentFolder:t}),loadDrives:async()=>{try{e({isLoadingDrives:!0});const t=await Ou.getDrives();e({drives:t,isLoadingDrives:!1})}catch(n){e({isLoadingDrives:!1}),t().setError(n.message)}},loadFolders:async n=>{try{const t=await Ou.getFolders(n);e({folders:t})}catch(r){t().setError(r.message)}},toggleFolder:async n=>{const{expandedPaths:r,folderCache:o,loadingPaths:s}=t(),i=new Set(r);if(i.has(n))i.delete(n),e({expandedPaths:i});else if(i.add(n),e({expandedPaths:i}),!o.has(n)){const r=new Set(s);r.add(n),e({loadingPaths:r});try{const r=await Ou.getFolders(n),o=new Map(t().folderCache);o.set(n,r);const s=new Set(t().loadingPaths);s.delete(n),e({folderCache:o,loadingPaths:s})}catch(a){const r=new Set(t().loadingPaths);r.delete(n),e({loadingPaths:r}),t().setError(a.message)}}},expandToPath:async n=>{const{expandedPaths:r,folderCache:o}=t(),s=new Set(r),i=new Map(o),a=n.replace(/\\/g,"/").replace(/\/$/,"").split("/").filter(Boolean),l=[];for(let e=0;e<a.length;e++){let t;t=0===e?a[e]+"\\":a[0]+"\\"+a.slice(1,e+1).join("\\"),l.push(t)}for(const e of l)if(s.add(e),!i.has(e))try{const t=await Ou.getFolders(e);i.set(e,t)}catch(c){console.error("expandToPath error for",e,c)}e({expandedPaths:s,folderCache:i})},navigateToFolder:async e=>{await t().expandToPath(e),await t().loadImages(e)},navigateUp:async()=>{const{currentFolder:e}=t();if(!e)return;const n=e.replace(/\\/g,"/").split("/").filter(Boolean);if(n.length<=1)return;n.pop();let r=n.join("\\");1===n.length&&r.endsWith(":")&&(r+="\\"),await t().navigateToFolder(r)},addFavorite:(n,r)=>{const{favorites:o}=t();if(!o.some(e=>e.path===n)){const t=[...o,{path:n,name:r}];Mu(t),e({favorites:t})}},removeFavorite:n=>{const{favorites:r}=t(),o=r.filter(e=>e.path!==n);Mu(o),e({favorites:o})},addCurrentFolderToFavorites:()=>{const{currentFolder:e}=t();if(e){const n=e.split("\\").pop()||e;t().addFavorite(e,n)}},openFolderDialog:async()=>{try{const e=await Ou.selectFolder();e&&await t().loadImages(e)}catch(e){t().setError(e.message)}}}),Au=(e,t)=>({gridItems:[],images:[],selectedImages:new Set,lastSelectedImage:null,isLoadingImages:!1,loadImages:async n=>{try{e({isLoadingImages:!0,currentFolder:n}),t().setCurrentFolder(n);const r=await Ou.getFolderContents(n),o=r.filter(e=>!e.isFolder&&e.imageData).map(e=>({...e.imageData,tags:e.imageData.tags||[],rating:e.imageData.rating||0})),s=r.map(e=>{if(e.isFolder)return e;const t=o.find(t=>t.path===e.path);return{...e,imageData:t}});e({gridItems:s,images:o,selectedImages:new Set,lastSelectedImage:null,isLoadingImages:!1})}catch(r){e({isLoadingImages:!1}),t().setError(r.message)}},refreshImages:async()=>{const{currentFolder:n}=t();if(n){const o=t().selectedImages;try{const t=await Ou.getFolderContents(n),r=t.filter(e=>!e.isFolder&&e.imageData).map(e=>({...e.imageData,tags:e.imageData.tags||[],rating:e.imageData.rating||0})),s=t.map(e=>{if(e.isFolder)return e;const t=r.find(t=>t.path===e.path);return{...e,imageData:t}}),i=new Set(Array.from(o).filter(e=>r.some(t=>t.path===e)));e({gridItems:s,images:r,selectedImages:i})}catch(r){console.error("refreshImages error:",r)}}},selectImage:(n,r=!1,o=!1)=>{const{selectedImages:s,lastSelectedImage:i,images:a}=t();if(o&&i){const t=a.findIndex(e=>e.path===i),o=a.findIndex(e=>e.path===n);if(-1!==t&&-1!==o){const n=Math.min(t,o),i=Math.max(t,o),l=new Set(r?s:[]);for(let e=n;e<=i;e++)l.add(a[e].path);return void e({selectedImages:l})}}if(r){const t=new Set(s);return t.has(n)?t.delete(n):t.add(n),void e({selectedImages:t,lastSelectedImage:n})}e({selectedImages:new Set([n]),lastSelectedImage:n})},selectAllImages:()=>{const{images:n}=t(),r=n.length>0?n[0].path:null;e({selectedImages:new Set(n.map(e=>e.path)),lastSelectedImage:r})},clearSelection:()=>e({selectedImages:new Set,lastSelectedImage:null}),updateImageTags:async(n,r)=>{try{await Ou.writeTags(n,r);const{images:o,gridItems:s}=t(),i=o.map(e=>e.path===n?{...e,tags:r}:e),a=s.map(e=>{if(e.isFolder)return e;const t=i.find(t=>t.path===e.path);return t?{...e,imageData:t}:e});e({images:i,gridItems:a})}catch(o){t().setError(o.message)}},updateImageRating:async(n,r)=>{try{await Ou.setRating(n,r);const{images:o,gridItems:s}=t(),i=o.map(e=>e.path===n?{...e,rating:r}:e),a=s.map(e=>{if(e.isFolder)return e;const t=i.find(t=>t.path===e.path);return t?{...e,imageData:t}:e});e({images:i,gridItems:a})}catch(o){t().setError(o.message)}}}),Lu=(e,t)=>({tags:[],error:null,sidebarWidth:280,tagPanelWidth:320,zoomLevel:100,searchQuery:"",sortBy:"name",sortOrder:"asc",filterRating:null,filterTags:[],loadAllTags:async()=>{try{const t=await Ou.getAllTags();e({tags:t})}catch(t){e({error:t.message})}},setSidebarWidth:t=>e({sidebarWidth:t}),setTagPanelWidth:t=>e({tagPanelWidth:t}),setError:t=>e({error:t}),setZoomLevel:t=>e({zoomLevel:Math.min(200,Math.max(50,t))}),zoomIn:()=>e(e=>({zoomLevel:Math.min(200,e.zoomLevel+10)})),zoomOut:()=>e(e=>({zoomLevel:Math.max(50,e.zoomLevel-10)})),setSearchQuery:t=>e({searchQuery:t}),setSortBy:t=>e({sortBy:t}),setSortOrder:t=>e({sortOrder:t}),toggleSortOrder:()=>e(e=>({sortOrder:"asc"===e.sortOrder?"desc":"asc"})),setFilterRating:t=>e({filterRating:t}),setFilterTags:t=>e({filterTags:t}),clearFilters:()=>e({searchQuery:"",filterRating:null,filterTags:[],sortBy:"name",sortOrder:"asc"}),setupSubscriptions:()=>{Ou.on("metadataUpdated",n=>{if(console.log("metadataUpdated received",n),!n||"object"!=typeof n)return;const{images:r,gridItems:o}=t(),s=n;let i=!1;const a=new Map;for(const e in s)Object.prototype.hasOwnProperty.call(s,e)&&a.set(e.toLowerCase(),s[e]);const l=r.map(e=>{let t=s[e.path];return t||(t=a.get(e.path.toLowerCase())),t?(i=!0,{...e,tags:t.tags||[],rating:t.rating||0}):e});if(i){const t=o.map(e=>{if(e.isFolder)return e;const t=l.find(t=>t.path===e.path);return t?{...e,imageData:t}:e});e({images:l,gridItems:t})}})}}),zu=Pu()((...e)=>({...Du(...e),...Au(...e),...Lu(...e)})),Fu={type:"spring",damping:25,stiffness:400,mass:.5},Bu={type:"spring",damping:30,stiffness:200,mass:1},$u={initial:{scale:1,y:0,opacity:1},hover:{scale:1.01,y:-2,transition:Bu},tap:{scale:.99,transition:Fu}},_u={initial:{},animate:{transition:{staggerChildren:.06,delayChildren:.15}}},Hu={initial:{opacity:0,y:20,scale:.95},animate:{opacity:1,y:0,scale:1,transition:{type:"spring",damping:20,stiffness:300,mass:.8,duration:.4}}},Vu={sm:"backdrop-blur-glass-sm",md:"backdrop-blur-glass-md",lg:"backdrop-blur-glass-lg",xl:"backdrop-blur-glass-xl"},Uu={none:"p-0",sm:"p-2",md:"p-4",lg:"p-6"},Wu={md:"rounded-md",lg:"rounded-lg",xl:"rounded-xl","2xl":"rounded-2xl"},Gu={cyan:"hover:shadow-[0_8px_32px_rgba(6,182,212,0.2),0_0_0_1px_rgba(6,182,212,0.15)]",purple:"hover:shadow-[0_8px_32px_rgba(139,92,246,0.2),0_0_0_1px_rgba(139,92,246,0.15)]",pink:"hover:shadow-[0_8px_32px_rgba(236,72,153,0.2),0_0_0_1px_rgba(236,72,153,0.15)]"};d.forwardRef(({children:e,className:t="",blur:r="md",hover:o=!0,glow:s=!1,glowColor:i="cyan",padding:a="md",rounded:c="xl",...d},u)=>n.jsxs(l.div,{ref:u,className:`\n          ${Vu[r]}\n          ${Uu[a]}\n          ${Wu[c]}\n          bg-[var(--glass-bg)]\n          border border-[var(--glass-border)]\n          shadow-glass\n          transition-colors duration-200\n          ${s?Gu[i]:""}\n          ${t}\n        `,variants:o?$u:void 0,initial:"initial",whileHover:o?"hover":void 0,whileTap:o?"tap":void 0,transition:Bu,...d,children:[n.jsx("div",{className:"absolute inset-x-0 top-0 h-px bg-gradient-to-r from-transparent via-[var(--glass-specular)] to-transparent opacity-50 pointer-events-none",style:{borderRadius:"inherit"}}),n.jsx("div",{className:"relative z-10",children:e})]})).displayName="GlassCard";const qu={sm:"h-8 px-3 text-sm gap-1.5",md:"h-10 px-4 text-sm gap-2",lg:"h-12 px-6 text-base gap-2.5"},Ku={sm:"h-8 w-8",md:"h-10 w-10",lg:"h-12 w-12"},Yu={default:"\n    bg-[var(--glass-bg)]\n    hover:bg-[var(--glass-bg-hover)]\n    active:bg-[var(--glass-bg-active)]\n    border-[var(--glass-border)]\n    hover:border-[var(--glass-border-hover)]\n    text-slate-100\n  ",accent:"\n    bg-cyan-500/20\n    hover:bg-cyan-500/30\n    active:bg-cyan-500/40\n    border-cyan-500/30\n    hover:border-cyan-500/50\n    text-cyan-300\n  ",danger:"\n    bg-red-500/20\n    hover:bg-red-500/30\n    active:bg-red-500/40\n    border-red-500/30\n    hover:border-red-500/50\n    text-red-300\n  ",ghost:"\n    bg-transparent\n    hover:bg-[var(--glass-bg)]\n    active:bg-[var(--glass-bg-hover)]\n    border-transparent\n    hover:border-[var(--glass-border)]\n    text-slate-300\n    hover:text-slate-100\n  "},Xu=d.forwardRef(({children:e,className:t="",variant:r="default",size:o="md",fullWidth:s=!1,disabled:i=!1,iconOnly:a=!1,...c},d)=>n.jsxs(l.button,{ref:d,className:`\n          relative inline-flex items-center justify-center\n          ${a?Ku[o]:qu[o]}\n          ${s?"w-full":""}\n          rounded-lg\n          backdrop-blur-glass-sm\n          border\n          font-medium\n          transition-all duration-150\n          ${Yu[r]}\n          ${i?"opacity-50 cursor-not-allowed pointer-events-none":"cursor-pointer"}\n          focus:outline-none focus-visible:ring-2 focus-visible:ring-cyan-400/50 focus-visible:ring-offset-2 focus-visible:ring-offset-slate-900\n          hover:brightness-110 hover:shadow-lg\n          ${t}\n        `,initial:{scale:1},whileTap:i?void 0:{scale:.97},transition:Fu,disabled:i,...c,children:[n.jsx(l.div,{className:"absolute inset-0 rounded-lg bg-white/0 pointer-events-none",whileTap:{backgroundColor:"rgba(255, 255, 255, 0.1)"},transition:{duration:.1}}),n.jsx("div",{className:"absolute inset-x-0 top-0 h-px bg-gradient-to-r from-transparent via-white/20 to-transparent pointer-events-none rounded-t-lg"}),n.jsx("span",{className:"relative z-10 flex items-center gap-inherit",children:e})]}));Xu.displayName="GlassButton";const Ju={xs:"h-6 w-6 text-xs",sm:"h-8 w-8 text-sm",md:"h-9 w-9 text-base",lg:"h-11 w-11 text-lg"},Zu={default:"\n    bg-[var(--glass-bg)]\n    hover:bg-[var(--glass-bg-hover)]\n    active:bg-[var(--glass-bg-active)]\n    border-[var(--glass-border)]\n    hover:border-[var(--glass-border-hover)]\n    text-slate-300\n    hover:text-slate-100\n  ",accent:"\n    bg-cyan-500/15\n    hover:bg-cyan-500/25\n    active:bg-cyan-500/35\n    border-cyan-500/25\n    hover:border-cyan-500/40\n    text-cyan-400\n    hover:text-cyan-300\n  ",danger:"\n    bg-red-500/15\n    hover:bg-red-500/25\n    active:bg-red-500/35\n    border-red-500/25\n    hover:border-red-500/40\n    text-red-400\n    hover:text-red-300\n  ",ghost:"\n    bg-transparent\n    hover:bg-[var(--glass-bg)]\n    active:bg-[var(--glass-bg-hover)]\n    border-transparent\n    hover:border-[var(--glass-border)]\n    text-slate-400\n    hover:text-slate-200\n  "},Qu={default:"bg-[var(--glass-bg-active)] border-[var(--glass-border-hover)] text-slate-100",accent:"bg-cyan-500/30 border-cyan-500/50 text-cyan-300",danger:"bg-red-500/30 border-red-500/50 text-red-300",ghost:"bg-[var(--glass-bg-hover)] border-[var(--glass-border)] text-slate-100"},ep=d.forwardRef(({children:e,className:t="",size:r="md",variant:o="default",disabled:s=!1,active:i=!1,title:a,...c},d)=>n.jsxs(l.button,{ref:d,className:`\n          relative inline-flex items-center justify-center\n          ${Ju[r]}\n          rounded-lg\n          backdrop-blur-glass-xs\n          border\n          transition-all duration-150\n          ${i?Qu[o]:Zu[o]}\n          ${s?"opacity-50 cursor-not-allowed pointer-events-none":"cursor-pointer"}\n          focus:outline-none focus-visible:ring-2 focus-visible:ring-cyan-400/50 focus-visible:ring-offset-2 focus-visible:ring-offset-slate-900\n          hover:brightness-110 hover:shadow-md\n          ${t}\n        `,initial:{scale:1},whileTap:s?void 0:{scale:.95},transition:Fu,disabled:s,title:a,...c,children:[n.jsx(l.div,{className:"absolute inset-0 rounded-lg bg-white/0 pointer-events-none",whileTap:{backgroundColor:"rgba(255, 255, 255, 0.15)"},transition:{duration:.08}}),n.jsx("span",{className:"relative z-10 flex items-center justify-center",children:e})]}));ep.displayName="GlassIconButton";const tp={sm:"h-8 text-sm px-3",md:"h-10 text-sm px-4",lg:"h-12 text-base px-5"},np={sm:{left:"pl-8",right:"pr-8"},md:{left:"pl-10",right:"pr-10"},lg:{left:"pl-12",right:"pr-12"}},rp={sm:"w-8",md:"w-10",lg:"w-12"},op=d.forwardRef(({className:e="",size:t="md",leftIcon:r,rightIcon:o,error:s=!1,fullWidth:i=!1,disabled:a,...c},d)=>n.jsxs(l.div,{className:"relative "+(i?"w-full":"inline-flex"),initial:{scale:1},whileFocus:{scale:1.01},transition:Fu,children:[r&&n.jsx("div",{className:`\n              absolute left-0 top-0 bottom-0 ${rp[t]}\n              flex items-center justify-center\n              text-slate-400 pointer-events-none\n            `,children:r}),n.jsx("input",{ref:d,className:`\n            w-full\n            ${tp[t]}\n            ${r?np[t].left:""}\n            ${o?np[t].right:""}\n            rounded-lg\n            backdrop-blur-glass-sm\n            bg-[var(--glass-bg)]\n            border\n            ${s?"border-red-500/50 focus-visible:border-red-500/70 focus-visible:ring-red-500/20":"border-[var(--glass-border)] focus-visible:border-cyan-500/50 focus-visible:ring-cyan-500/20"}\n            text-slate-100\n            placeholder:text-slate-500\n            outline-none\n            focus-visible:ring-2\n            transition-all duration-150\n            ${a?"opacity-50 cursor-not-allowed":""}\n            ${e}\n          `,disabled:a,...c}),o&&n.jsx("div",{className:`\n              absolute right-0 top-0 bottom-0 ${rp[t]}\n              flex items-center justify-center\n              text-slate-400\n            `,children:o}),n.jsx("div",{className:`\n            absolute inset-0 rounded-lg pointer-events-none\n            opacity-0 focus-within:opacity-100\n            transition-opacity duration-200\n            ${s?"shadow-[0_0_0_2px_rgba(239,68,68,0.15)]":"shadow-[0_0_0_2px_rgba(6,182,212,0.15)]"}\n          `})]}));op.displayName="GlassInput";const sp=d.createContext(void 0);function ip(e){const t=d.useContext(sp);if(void 0===t&&!e)throw new Error($s(33));return t}const ap=d.createContext(void 0);function lp(e){const t=d.useContext(ap);if(void 0===t&&!e)throw new Error($s(36));return t}let cp=((dp={}).open="data-open",dp.closed="data-closed",dp[dp.startingStyle=Gi.startingStyle]="startingStyle",dp[dp.endingStyle=Gi.endingStyle]="endingStyle",dp.anchorHidden="data-anchor-hidden",dp);var dp;let up=function(e){return e.popupOpen="data-popup-open",e.pressed="data-pressed",e}({});const pp={[up.popupOpen]:""},fp={[up.popupOpen]:"",[up.pressed]:""},gp={[cp.open]:""},hp={[cp.closed]:""},mp={[cp.anchorHidden]:""},vp={open:e=>e?pp:null},bp={open:e=>e?fp:null},yp={open:e=>e?gp:hp,anchorHidden:e=>e?mp:null},xp=d.createContext(void 0);function wp(e=!0){const t=d.useContext(xp);if(void 0===t&&!e)throw new Error($s(25));return t}const kp={type:"regular-item"};const Ep=d.createContext({register:()=>{},unregister:()=>{},subscribeMapChange:()=>()=>{},elementsRef:{current:[]},nextIndexRef:{current:0}});let Sp=function(e){return e[e.None=0]="None",e[e.GuessFromOrder=1]="GuessFromOrder",e}({});function Cp(e={}){const{label:t,metadata:n,textRef:r,indexGuessBehavior:o,index:s}=e,{register:i,unregister:a,subscribeMapChange:l,elementsRef:c,labelsRef:u,nextIndexRef:p}=d.useContext(Ep),f=d.useRef(-1),[g,h]=d.useState(s??(o===Sp.GuessFromOrder?()=>{if(-1===f.current){const e=p.current;p.current+=1,f.current=e}return f.current}:-1)),m=d.useRef(null),v=d.useCallback(e=>{var n;if(m.current=e,-1!==g&&null!==e&&(c.current[g]=e,u)){const o=void 0!==t;u.current[g]=o?t:(null==(n=null==r?void 0:r.current)?void 0:n.textContent)??e.textContent}},[g,c,u,t,r]);return fi(()=>{if(null!=s)return;const e=m.current;return e?(i(e,n),()=>{a(e)}):void 0},[s,i,a,n]),fi(()=>{if(null==s)return l(e=>{var t;const n=m.current?null==(t=e.get(m.current))?void 0:t.index:null;null!=n&&h(n)})},[s,l,h]),d.useMemo(()=>({ref:v,index:g}),[g,v])}const Ip=d.forwardRef(function(e,t){const{render:n,className:r,id:o,label:s,nativeButton:i=!1,disabled:a=!1,closeOnClick:l=!0,...c}=e,u=Cp({label:s}),p=ip(!0),f=bi(o),{store:g}=lp(),h=g.useState("isActive",u.index),m=g.useState("itemProps"),{getItemProps:v,itemRef:b}=function(e){const{closeOnClick:t,disabled:n=!1,highlighted:r,id:o,store:s,nativeButton:i,itemMetadata:a,nodeId:l}=e,c=d.useRef(null),u=wp(!0),p=void 0!==u,{events:f}=s.useState("floatingTreeRoot"),{getButtonProps:g,buttonRef:h}=Oa({disabled:n,focusableWhenDisabled:!0,native:i}),m=d.useCallback(e=>Ys({id:o,role:"menuitem",tabIndex:r?0:-1,onMouseMove(e){l&&f.emit("itemhover",{nodeId:l,target:e.currentTarget})},onMouseEnter(){"submenu-trigger"===a.type&&a.setActive()},onKeyUp(e){" "===e.key&&s.context.typingRef.current&&e.preventBaseUIHandler()},onClick(e){t&&f.emit("close",{domEvent:e,reason:Si})},onMouseUp(e){if(u){const t=u.initialCursorPointRef.current;if(u.initialCursorPointRef.current=null,p&&t&&Math.abs(e.clientX-t.x)<=1&&Math.abs(e.clientY-t.y)<=1)return}!c.current||!s.context.allowMouseUpTriggerRef.current||p&&2!==e.button||"regular-item"===a.type&&c.current.click()}},e,g),[o,r,g,t,f,s,p,u,a,l]),v=_s(c,h);return d.useMemo(()=>({getItemProps:m,itemRef:v}),[m,v])}({closeOnClick:l,disabled:a,highlighted:h,id:f,store:g,nativeButton:i,nodeId:null==p?void 0:p.nodeId,itemMetadata:kp});return ui("div",e,{state:d.useMemo(()=>({disabled:a,highlighted:h}),[a,h]),props:[m,c,v],ref:[b,t,u.ref]})});function jp(){const e=new Map;return{emit(t,n){var r;null==(r=e.get(t))||r.forEach(e=>e(n))},on(t,n){e.has(t)||e.set(t,new Set),e.get(t).add(n)},off(t,n){var r;null==(r=e.get(t))||r.delete(n)}}}class Rp{constructor(){t(this,"nodesRef",{current:[]}),t(this,"events",jp())}addNode(e){this.nodesRef.current.push(e)}removeNode(e){const t=this.nodesRef.current.findIndex(t=>t===e);-1!==t&&this.nodesRef.current.splice(t,1)}}const Np=d.createContext(null),Pp=d.createContext(null),Op=()=>{var e;return(null==(e=d.useContext(Np))?void 0:e.id)||null},Tp=e=>{const t=d.useContext(Pp);return e??t};function Mp(e){const t=vi(),n=Tp(e),r=Op();return fi(()=>{if(!t)return;const e={id:t,parentId:r};return null==n||n.addNode(e),()=>{null==n||n.removeNode(e)}},[n,t,r]),t}function Dp(e){const{children:t,id:r}=e,o=Op();return n.jsx(Np.Provider,{value:d.useMemo(()=>({id:r,parentId:o}),[r,o]),children:t})}function Ap(e){const{children:t,externalTree:r}=e,o=Ds(()=>r??new Rp).current;return n.jsx(Pp.Provider,{value:o,children:t})}function Lp(e){return`data-base-ui-${e}`}function zp(e,t,n){if(n&&!Rl(n))return 0;if("number"==typeof e)return e;if("function"==typeof e){const n=e();return"number"==typeof n?n:null==n?void 0:n[t]}return null==e?void 0:e[t]}const Fp={clip:"rect(0 0 0 0)",overflow:"hidden",whiteSpace:"nowrap",position:"fixed",top:0,left:0,border:0,padding:0,width:1,height:1,margin:-1};function Bp(e){return(null==e?void 0:e.ownerDocument)||document}const $p=d.forwardRef(function(e,t){const[r,o]=d.useState();fi(()=>{rl&&o("button")},[]);const s={tabIndex:0,role:r};return n.jsx("span",{...e,ref:t,style:Fp,"aria-hidden":!r||void 0,...s,"data-base-ui-focus-guard":""})});let _p=0;function Hp(e,t={}){const{preventScroll:n=!1,cancelPrevious:r=!0,sync:o=!1}=t;r&&cancelAnimationFrame(_p);const s=()=>null==e?void 0:e.focus({preventScroll:n});o?s():_p=requestAnimationFrame(s)}const Vp={inert:new WeakMap,"aria-hidden":new WeakMap,none:new WeakMap};function Up(e){return"inert"===e?Vp.inert:"aria-hidden"===e?Vp["aria-hidden"]:Vp.none}let Wp=new WeakSet,Gp={},qp=0;const Kp=e=>e&&(e.host||Kp(e.parentNode));function Yp(e,t,n,r){const o="data-base-ui-inert",s=r?"inert":n?"aria-hidden":null,i=(a=t,e.map(e=>{if(a.contains(e))return e;const t=Kp(e);return a.contains(t)?t:null}).filter(e=>null!=e));var a;const l=new Set,c=new Set(i),d=[];Gp[o]||(Gp[o]=new WeakMap);const u=Gp[o];return i.forEach(function e(t){if(!t||l.has(t))return;l.add(t),t.parentNode&&e(t.parentNode)}),function e(t){if(!t||c.has(t))return;[].forEach.call(t.children,t=>{if("script"!==ra(t))if(l.has(t))e(t);else{const e=s?t.getAttribute(s):null,n=null!==e&&"false"!==e,r=Up(s),i=(r.get(t)||0)+1,a=(u.get(t)||0)+1;r.set(t,i),u.set(t,a),d.push(t),1===i&&n&&Wp.add(t),1===a&&t.setAttribute(o,""),!n&&s&&t.setAttribute(s,"inert"===s?"":"true")}})}(t),l.clear(),qp+=1,()=>{d.forEach(e=>{const t=Up(s),n=(t.get(e)||0)-1,r=(u.get(e)||0)-1;t.set(e,n),u.set(e,r),n||(!Wp.has(e)&&s&&e.removeAttribute(s),Wp.delete(e)),r||e.removeAttribute(o)}),qp-=1,qp||(Vp.inert=new WeakMap,Vp["aria-hidden"]=new WeakMap,Vp.none=new WeakMap,Wp=new WeakSet,Gp={})}}const Xp=d.createContext(null),Jp=()=>d.useContext(Xp),Zp=Lp("portal");const Qp=d.forwardRef(function(e,t){const{children:r,container:o,className:s,render:i,renderGuards:a,...l}=e,{portalNode:u,portalSubtree:p}=function(e={}){const{ref:t,container:n,componentProps:r=si,elementProps:o,elementState:s}=e,i=vi(),a=Jp(),l=null==a?void 0:a.portalNode,[u,p]=d.useState(null),[f,g]=d.useState(null),h=d.useRef(null);fi(()=>{if(null===n)return void(h.current&&(h.current=null,g(null),p(null)));if(null==i)return;const e=(n&&(ia(n)?n:n.current))??l??document.body;null!=e?h.current!==e&&(h.current=e,g(null),p(e)):h.current&&(h.current=null,g(null),p(null))},[n,l,i]);const m=ui("div",r,{ref:[t,g],state:s,props:[{id:i,[Zp]:""},o]});return{portalNode:f,portalSubtree:u&&m?c.createPortal(m,u):null}}({container:o,ref:t,componentProps:e,elementProps:l}),f=d.useRef(null),g=d.useRef(null),h=d.useRef(null),m=d.useRef(null),[v,b]=d.useState(null),y=null==v?void 0:v.modal,x=null==v?void 0:v.open,w="boolean"==typeof a?a:!!v&&!v.modal&&v.open&&!!u;d.useEffect(()=>{if(u&&!y)return u.addEventListener("focusin",e,!0),u.addEventListener("focusout",e,!0),()=>{u.removeEventListener("focusin",e,!0),u.removeEventListener("focusout",e,!0)};function e(e){if(u&&zc(e)){("focusin"===e.type?Bc:Fc)(u)}}},[u,y]),d.useEffect(()=>{u&&!x&&Bc(u)},[x,u]);const k=d.useMemo(()=>({beforeOutsideRef:f,afterOutsideRef:g,beforeInsideRef:h,afterInsideRef:m,portalNode:u,setFocusManagerState:b}),[u]);return n.jsxs(d.Fragment,{children:[p,n.jsxs(Xp.Provider,{value:k,children:[w&&u&&n.jsx($p,{"data-type":"outside",ref:f,onFocus:e=>{var t;if(zc(e,u))null==(t=h.current)||t.focus();else{const e=Mc(v?v.domReference:null);null==e||e.focus()}}}),w&&u&&n.jsx("span",{"aria-owns":u.id,style:di}),u&&c.createPortal(r,u),w&&u&&n.jsx($p,{"data-type":"outside",ref:g,onFocus:e=>{var t;if(zc(e,u))null==(t=m.current)||t.focus();else{const t=Tc(v?v.domReference:null);null==t||t.focus(),(null==v?void 0:v.closeOnFocusOut)&&(null==v||v.onOpenChange(!1,Di(Ni,e.nativeEvent)))}}})]})]})});let ef=[];function tf(){ef=ef.filter(e=>e.isConnected)}function nf(){return tf(),ef[ef.length-1]}function rf(e,t){var n;if(!t.current.includes("floating")&&!(null==(n=e.getAttribute("role"))?void 0:n.includes("dialog")))return;const r=Pc(),o=function(e,t){return(t=t||{}).getShadowRoot?mc([e],t.includeContainer,{filter:Sc.bind(null,t),flatten:!0,getShadowRoot:t.getShadowRoot}):hc(e,t.includeContainer,Sc.bind(null,t))}(e,r),s=o.filter(e=>{const t=e.getAttribute("data-tabindex")||"";return Nc(e,r)||e.hasAttribute("data-tabindex")&&!t.startsWith("-")}),i=e.getAttribute("tabindex");t.current.includes("floating")||0===s.length?"0"!==i&&e.setAttribute("tabindex","0"):("-1"!==i||e.hasAttribute("data-tabindex")&&"-1"!==e.getAttribute("data-tabindex"))&&(e.setAttribute("tabindex","-1"),e.setAttribute("data-tabindex","-1"))}function of(e){const{context:t,children:r,disabled:o=!1,order:s=["content"],initialFocus:i=!0,returnFocus:a=!0,restoreFocus:l=!1,modal:c=!0,closeOnFocusOut:u=!0,openInteractionType:p="",getInsideElements:f=()=>[],nextFocusableElement:g,previousFocusableElement:h,beforeContentFocusGuardRef:m,externalTree:v}=e,b="rootStore"in t?t.rootStore:t,y=b.useState("open"),x=b.useState("domReferenceElement"),w=b.useState("floatingElement"),{events:k,dataRef:E}=b.context,S=zs(()=>{var e;return null==(e=E.current.floatingContext)?void 0:e.nodeId}),C=zs(f),I=!1===i,j=wl(x)&&I,R=Da(s),N=Da(i),P=Da(a),O=Da(p),T=Tp(v),M=Jp(),D=d.useRef(null),A=d.useRef(null),L=d.useRef(!1),z=d.useRef(!1),F=d.useRef(!1),B=d.useRef(-1),$=d.useRef(""),_=d.useRef(""),H=Ba(),V=Ba(),U=_i(),W=null!=M,G=kl(w),q=zs((e=G)=>e?Rc(e,Pc()):[]),K=zs(e=>{const t=q(e);return R.current.map(()=>t).filter(Boolean).flat()});d.useEffect(()=>{if(o)return;if(!c)return;function e(e){"Tab"===e.key&&ml(G,hl(yl(G)))&&0===q().length&&!j&&Cl(e)}const t=yl(G);return t.addEventListener("keydown",e),()=>{t.removeEventListener("keydown",e)}},[o,x,G,c,R,j,q,K]),d.useEffect(()=>{if(!o&&w)return w.addEventListener("focusin",e),()=>{w.removeEventListener("focusin",e)};function e(e){const t=vl(e),n=q().indexOf(t);-1!==n&&(B.current=n)}},[o,w,q]),d.useEffect(()=>{if(o||!y)return;const e=yl(G);function t(){F.current=!1}function n(e){const t=vl(e),n=ml(w,t)||ml(x,t)||ml(null==M?void 0:M.portalNode,t);F.current=!n,_.current=e.pointerType||"keyboard"}function r(){_.current="keyboard"}return e.addEventListener("pointerdown",n,!0),e.addEventListener("pointerup",t,!0),e.addEventListener("pointercancel",t,!0),e.addEventListener("keydown",r,!0),()=>{e.removeEventListener("pointerdown",n,!0),e.removeEventListener("pointerup",t,!0),e.removeEventListener("pointercancel",t,!0),e.removeEventListener("keydown",r,!0)}},[o,w,x,G,y,M]),d.useEffect(()=>{if(o)return;if(!u)return;function e(){z.current=!0,V.start(0,()=>{z.current=!1})}function t(e){const t=e.relatedTarget,n=e.currentTarget,r=vl(e);queueMicrotask(()=>{const o=S(),s=b.context.triggerElements,i=!(ml(x,t)||ml(w,t)||ml(t,w)||ml(null==M?void 0:M.portalNode,t)||null!=t&&s.hasElement(t)||s.hasMatchingElement(e=>ml(e,t))||(null==t?void 0:t.hasAttribute(Lp("focus-guard")))||T&&(El(T.nodesRef.current,o).find(e=>{var n,r;return ml(null==(n=e.context)?void 0:n.elements.floating,t)||ml(null==(r=e.context)?void 0:r.elements.domReference,t)})||Sl(T.nodesRef.current,o).find(e=>{var n,r,o;return[null==(n=e.context)?void 0:n.elements.floating,kl(null==(r=e.context)?void 0:r.elements.floating)].includes(t)||(null==(o=e.context)?void 0:o.elements.domReference)===t})));if(n===x&&G&&rf(G,R),l&&n!==x&&!((a=r)&&a.isConnected&&("function"==typeof a.checkVisibility?a.checkVisibility():"none"!==Ea(a).display))&&hl(yl(G))===yl(G).body){if(la(G)&&(G.focus(),"popup"===l))return void U.request(()=>{G.focus()});const e=B.current,t=q(),n=t[e]||t[t.length-1]||G;la(n)&&n.focus()}var a;E.current.insideReactTree?E.current.insideReactTree=!1:!j&&c||!t||!i||z.current||!j&&t===nf()||(L.current=!0,b.setOpen(!1,Di(Ni,e)))})}function n(){F.current||(E.current.insideReactTree=!0,H.start(0,()=>{E.current.insideReactTree=!1}))}const r=la(x)?x:null,s=[];return w||r?(r&&(r.addEventListener("focusout",t),r.addEventListener("pointerdown",e),s.push(()=>{r.removeEventListener("focusout",t),r.removeEventListener("pointerdown",e)})),w&&(w.addEventListener("focusout",t),M&&(w.addEventListener("focusout",n,!0),s.push(()=>{w.removeEventListener("focusout",n,!0)})),s.push(()=>{w.removeEventListener("focusout",t)})),()=>{s.forEach(e=>{e()})}):void 0},[o,x,w,G,c,T,M,b,u,l,q,j,S,R,E,H,V,U]);const Y=d.useRef(null),X=d.useRef(null),J=_s(Y,m,null==M?void 0:M.beforeInsideRef),Z=_s(X,null==M?void 0:M.afterInsideRef);d.useEffect(()=>{var e,t,n;if(o||!w||!y)return;const r=Array.from((null==(e=null==M?void 0:M.portalNode)?void 0:e.querySelectorAll(`[${Lp("portal")}]`))||[]),s=null==(n=null==(t=(T?Sl(T.nodesRef.current,S()):[]).find(e=>{var t;return wl((null==(t=e.context)?void 0:t.elements.domReference)||null)}))?void 0:t.context)?void 0:n.elements.domReference,i=function(e,t=!1,n=!1){const r=yl(e[0]).body;return Yp(e.concat(Array.from(r.querySelectorAll("[aria-live]"))),r,t,n)}([w,s,...r,...C(),D.current,A.current,Y.current,X.current,null==M?void 0:M.beforeOutsideRef.current,null==M?void 0:M.afterOutsideRef.current,Hi(h),Hi(g),j?x:null].filter(e=>null!=e),c||j);return()=>{i()}},[y,o,x,w,c,R,M,j,T,S,C,g,h]),fi(()=>{if(!y||o||!la(G))return;const e=hl(yl(G));queueMicrotask(()=>{const t=K(G),n=N.current,r="function"==typeof n?n(O.current||""):n;if(void 0===r||!1===r)return;let o;o=!0===r||null===r?t[0]||G:Hi(r),o=o||t[0]||G;ml(G,e)||Hp(o,{preventScroll:o===G})})},[o,y,G,I,K,N,O]),fi(()=>{if(o||!G)return;const e=yl(G),t=hl(e);var n;function r(e){if(e.open||($.current=function(e,t){const n=oa(e.target);return e instanceof n.KeyboardEvent?"keyboard":e instanceof n.FocusEvent?t||"keyboard":"pointerType"in e?e.pointerType||"keyboard":"touches"in e?"touch":e instanceof n.MouseEvent?t||(0===e.detail?"keyboard":"mouse"):""}(e.nativeEvent,_.current)),e.reason===wi&&"mouseleave"===e.nativeEvent.type&&(L.current=!0),e.reason===Ei)if(e.nested)L.current=!1;else if(Il(e.nativeEvent)||jl(e.nativeEvent))L.current=!1;else{let e=!1;document.createElement("div").focus({get preventScroll(){return e=!0,!1}}),L.current=!e}}n=t,tf(),n&&"body"!==ra(n)&&(ef.push(n),ef.length>20&&(ef=ef.slice(-20))),k.on("openchange",r);const s=e.createElement("span");return s.setAttribute("tabindex","-1"),s.setAttribute("aria-hidden","true"),Object.assign(s.style,Fp),W&&x&&x.insertAdjacentElement("afterend",s),()=>{k.off("openchange",r);const t=hl(e),n=ml(w,t)||T&&El(T.nodesRef.current,S(),!1).some(e=>{var n;return ml(null==(n=e.context)?void 0:n.elements.floating,t)}),o=function(){const e=P.current;let t="function"==typeof e?e($.current):e;if(void 0===t||!1===t)return null;if(null===t&&(t=!0),"boolean"==typeof t){const e=x||nf();return e&&e.isConnected?e:s}const n=x||nf()||s;return Hi(t)||n}();queueMicrotask(()=>{const r=function(e){if(!e)return null;const t=Pc();return Nc(e,t)?e:Rc(e,t)[0]||e}(o),i="boolean"!=typeof P.current;P.current&&!L.current&&la(r)&&(i||r===t||t===e.body||n)&&r.focus({preventScroll:!0}),s.remove()})}},[o,w,G,P,E,k,T,W,x,S]),d.useEffect(()=>{queueMicrotask(()=>{L.current=!1})},[o]),d.useEffect(()=>{if(o||!y)return;function e(e){const t=vl(e);(null==t?void 0:t.closest(`[${ai}]`))&&(z.current=!0)}const t=yl(G);return t.addEventListener("pointerdown",e,!0),()=>{t.removeEventListener("pointerdown",e,!0)}},[o,y,G]),fi(()=>{if(!o&&M)return M.setFocusManagerState({modal:c,closeOnFocusOut:u,open:y,onOpenChange:b.setOpen,domReference:x}),()=>{M.setFocusManagerState(null)}},[o,M,c,y,b,u,x]),fi(()=>{if(!o&&G)return rf(G,R),()=>{queueMicrotask(tf)}},[o,G,R]);const Q=!o&&(!c||!j)&&(W||c);return n.jsxs(d.Fragment,{children:[Q&&n.jsx($p,{"data-type":"inside",ref:J,onFocus:e=>{var t;if(c){const e=K();Hp(e[e.length-1])}else if(null==M?void 0:M.portalNode)if(L.current=!1,zc(e,M.portalNode)){const e=Tc(x);null==e||e.focus()}else null==(t=Hi(h??M.beforeOutsideRef))||t.focus()}}),r,Q&&n.jsx($p,{"data-type":"inside",ref:Z,onFocus:e=>{var t;if(c)Hp(K()[0]);else if(null==M?void 0:M.portalNode)if(u&&(L.current=!0),zc(e,M.portalNode)){const e=Mc(x);null==e||e.focus()}else null==(t=Hi(g??M.afterOutsideRef))||t.focus()}})]})}function sf(e,t={}){const n="rootStore"in e?e.rootStore:e,r=n.context.dataRef,{enabled:o=!0,event:s="click",toggle:i=!0,ignoreMouse:a=!1,stickIfOpen:l=!0,touchOpenDelay:c=0}=t,u=d.useRef(void 0),p=_i(),f=Ba(),g=d.useMemo(()=>({onPointerDown(e){u.current=e.pointerType},onMouseDown(e){const t=u.current,o=e.nativeEvent,d=n.select("open");if(0!==e.button||"click"===s||Rl(t,!0)&&a)return;const g=r.current.openEvent,h=null==g?void 0:g.type,m=n.select("domReferenceElement")!==e.currentTarget,v=d&&m||!(d&&i&&(!g||!l||("click"===h||"mousedown"===h)));if(xl(o.target)){const e=Di(xi,o,o.target);return void(v&&"touch"===t&&c>0?f.start(c,()=>{n.setOpen(!0,e)}):n.setOpen(v,e))}const b=e.currentTarget;p.request(()=>{const e=Di(xi,o,b);v&&"touch"===t&&c>0?f.start(c,()=>{n.setOpen(!0,e)}):n.setOpen(v,e)})},onClick(e){if("mousedown-only"===s)return;const t=u.current;if("mousedown"===s&&t)return void(u.current=void 0);if(Rl(t,!0)&&a)return;const o=n.select("open"),d=r.current.openEvent,p=n.select("domReferenceElement")!==e.currentTarget,g=o&&p||!(o&&i&&(!d||!l||Nl(d))),h=Di(xi,e.nativeEvent,e.currentTarget);g&&"touch"===t&&c>0?f.start(c,()=>{n.setOpen(!0,h)}):n.setOpen(g,h)},onKeyDown(){u.current=void 0}}),[r,s,a,n,l,i,p,f,c]);return d.useMemo(()=>o?{reference:g}:si,[o,g])}function af(e,t,n){let{reference:r,floating:o}=e;const s=Wl(t),i=Gl(t),a=Vl(i),l=$l(t),c="y"===s,d=r.x+r.width/2-o.width/2,u=r.y+r.height/2-o.height/2,p=r[a]/2-o[a]/2;let f;switch(l){case"top":f={x:d,y:r.y-o.height};break;case"bottom":f={x:d,y:r.y+r.height};break;case"right":f={x:r.x+r.width,y:u};break;case"left":f={x:r.x-o.width,y:u};break;default:f={x:r.x,y:r.y}}switch(_l(t)){case"start":f[i]-=p*(n&&c?-1:1);break;case"end":f[i]+=p*(n&&c?-1:1)}return f}async function lf(e,t){var n;void 0===t&&(t={});const{x:r,y:o,platform:s,rects:i,elements:a,strategy:l}=e,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:u="floating",altBoundary:p=!1,padding:f=0}=Bl(t,e),g=ec(f),h=a[p?"floating"===u?"reference":"floating":u],m=tc(await s.getClippingRect({element:null==(n=await(null==s.isElement?void 0:s.isElement(h)))||n?h:h.contextElement||await(null==s.getDocumentElement?void 0:s.getDocumentElement(a.floating)),boundary:c,rootBoundary:d,strategy:l})),v="floating"===u?{x:r,y:o,width:i.floating.width,height:i.floating.height}:i.reference,b=await(null==s.getOffsetParent?void 0:s.getOffsetParent(a.floating)),y=await(null==s.isElement?void 0:s.isElement(b))&&await(null==s.getScale?void 0:s.getScale(b))||{x:1,y:1},x=tc(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:v,offsetParent:b,strategy:l}):v);return{top:(m.top-x.top+g.top)/y.y,bottom:(x.bottom-m.bottom+g.bottom)/y.y,left:(m.left-x.left+g.left)/y.x,right:(x.right-m.right+g.right)/y.x}}function cf(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function df(e){return Pl.some(t=>e[t]>=0)}const uf=new Set(["left","top"]);function pf(e){const t=Ea(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const o=la(e),s=o?e.offsetWidth:n,i=o?e.offsetHeight:r,a=Ml(n)!==s||Ml(r)!==i;return a&&(n=s,r=i),{width:n,height:r,$:a}}function ff(e){return aa(e)?e:e.contextElement}function gf(e){const t=ff(e);if(!la(t))return Al(1);const n=t.getBoundingClientRect(),{width:r,height:o,$:s}=pf(t);let i=(s?Ml(n.width):n.width)/r,a=(s?Ml(n.height):n.height)/o;return i&&Number.isFinite(i)||(i=1),a&&Number.isFinite(a)||(a=1),{x:i,y:a}}const hf=Al(0);function mf(e){const t=oa(e);return xa()&&t.visualViewport?{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}:hf}function vf(e,t,n,r){void 0===t&&(t=!1),void 0===n&&(n=!1);const o=e.getBoundingClientRect(),s=ff(e);let i=Al(1);t&&(r?aa(r)&&(i=gf(r)):i=gf(e));const a=function(e,t,n){return void 0===t&&(t=!1),!(!n||t&&n!==oa(e))&&t}(s,n,r)?mf(s):Al(0);let l=(o.left+a.x)/i.x,c=(o.top+a.y)/i.y,d=o.width/i.x,u=o.height/i.y;if(s){const e=oa(s),t=r&&aa(r)?oa(r):r;let n=e,o=Ra(n);for(;o&&r&&t!==n;){const e=gf(o),t=o.getBoundingClientRect(),r=Ea(o),s=t.left+(o.clientLeft+parseFloat(r.paddingLeft))*e.x,i=t.top+(o.clientTop+parseFloat(r.paddingTop))*e.y;l*=e.x,c*=e.y,d*=e.x,u*=e.y,l+=s,c+=i,n=oa(o),o=Ra(n)}}return tc({width:d,height:u,x:l,y:c})}function bf(e,t){const n=Sa(e).scrollLeft;return t?t.left+n:vf(sa(e)).left+n}function yf(e,t){const n=e.getBoundingClientRect();return{x:n.left+t.scrollLeft-bf(e,n),y:n.top+t.scrollTop}}const xf=new Set(["absolute","fixed"]);function wf(e,t,n){let r;if("viewport"===t)r=function(e,t){const n=oa(e),r=sa(e),o=n.visualViewport;let s=r.clientWidth,i=r.clientHeight,a=0,l=0;if(o){s=o.width,i=o.height;const e=xa();(!e||e&&"fixed"===t)&&(a=o.offsetLeft,l=o.offsetTop)}const c=bf(r);if(c<=0){const e=r.ownerDocument,t=e.body,n=getComputedStyle(t),o="CSS1Compat"===e.compatMode&&parseFloat(n.marginLeft)+parseFloat(n.marginRight)||0,i=Math.abs(r.clientWidth-t.clientWidth-o);i<=25&&(s-=i)}else c<=25&&(s+=c);return{width:s,height:i,x:a,y:l}}(e,n);else if("document"===t)r=function(e){const t=sa(e),n=Sa(e),r=e.ownerDocument.body,o=Tl(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),s=Tl(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let i=-n.scrollLeft+bf(e);const a=-n.scrollTop;return"rtl"===Ea(r).direction&&(i+=Tl(t.clientWidth,r.clientWidth)-o),{width:o,height:s,x:i,y:a}}(sa(e));else if(aa(t))r=function(e,t){const n=vf(e,!0,"fixed"===t),r=n.top+e.clientTop,o=n.left+e.clientLeft,s=la(e)?gf(e):Al(1);return{width:e.clientWidth*s.x,height:e.clientHeight*s.y,x:o*s.x,y:r*s.y}}(t,n);else{const n=mf(e);r={x:t.x-n.x,y:t.y-n.y,width:t.width,height:t.height}}return tc(r)}function kf(e,t){const n=Ca(e);return!(n===t||!aa(n)||ka(n))&&("fixed"===Ea(n).position||kf(n,t))}function Ef(e,t,n){const r=la(t),o=sa(t),s="fixed"===n,i=vf(e,!0,s,t);let a={scrollLeft:0,scrollTop:0};const l=Al(0);function c(){l.x=bf(o)}if(r||!r&&!s)if(("body"!==ra(t)||ua(o))&&(a=Sa(t)),r){const e=vf(t,!0,s,t);l.x=e.x+t.clientLeft,l.y=e.y+t.clientTop}else o&&c();s&&!r&&o&&c();const d=!o||r||s?Al(0):yf(o,a);return{x:i.left+a.scrollLeft-l.x-d.x,y:i.top+a.scrollTop-l.y-d.y,width:i.width,height:i.height}}function Sf(e){return"static"===Ea(e).position}function Cf(e,t){if(!la(e)||"fixed"===Ea(e).position)return null;if(t)return t(e);let n=e.offsetParent;return sa(e)===n&&(n=n.ownerDocument.body),n}function If(e,t){const n=oa(e);if(ha(e))return n;if(!la(e)){let t=Ca(e);for(;t&&!ka(t);){if(aa(t)&&!Sf(t))return t;t=Ca(t)}return n}let r=Cf(e,t);for(;r&&fa(r)&&Sf(r);)r=Cf(r,t);return r&&ka(r)&&Sf(r)&&!ya(r)?n:r||function(e){let t=Ca(e);for(;la(t)&&!ka(t);){if(ya(t))return t;if(ha(t))return null;t=Ca(t)}return null}(e)||n}const jf={convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{elements:t,rect:n,offsetParent:r,strategy:o}=e;const s="fixed"===o,i=sa(r),a=!!t&&ha(t.floating);if(r===i||a&&s)return n;let l={scrollLeft:0,scrollTop:0},c=Al(1);const d=Al(0),u=la(r);if((u||!u&&!s)&&(("body"!==ra(r)||ua(i))&&(l=Sa(r)),la(r))){const e=vf(r);c=gf(r),d.x=e.x+r.clientLeft,d.y=e.y+r.clientTop}const p=!i||u||s?Al(0):yf(i,l);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+d.x+p.x,y:n.y*c.y-l.scrollTop*c.y+d.y+p.y}},getDocumentElement:sa,getClippingRect:function(e){let{element:t,boundary:n,rootBoundary:r,strategy:o}=e;const s=[..."clippingAncestors"===n?ha(t)?[]:function(e,t){const n=t.get(e);if(n)return n;let r=ja(e,[],!1).filter(e=>aa(e)&&"body"!==ra(e)),o=null;const s="fixed"===Ea(e).position;let i=s?Ca(e):e;for(;aa(i)&&!ka(i);){const t=Ea(i),n=ya(i);n||"fixed"!==t.position||(o=null),(s?!n&&!o:!n&&"static"===t.position&&o&&xf.has(o.position)||ua(i)&&!n&&kf(e,i))?r=r.filter(e=>e!==i):o=t,i=Ca(i)}return t.set(e,r),r}(t,this._c):[].concat(n),r],i=s[0],a=s.reduce((e,n)=>{const r=wf(t,n,o);return e.top=Tl(r.top,e.top),e.right=Ol(r.right,e.right),e.bottom=Ol(r.bottom,e.bottom),e.left=Tl(r.left,e.left),e},wf(t,i,o));return{width:a.right-a.left,height:a.bottom-a.top,x:a.left,y:a.top}},getOffsetParent:If,getElementRects:async function(e){const t=this.getOffsetParent||If,n=this.getDimensions,r=await n(e.floating);return{reference:Ef(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}},getClientRects:function(e){return Array.from(e.getClientRects())},getDimensions:function(e){const{width:t,height:n}=pf(e);return{width:t,height:n}},getScale:gf,isElement:aa,isRTL:function(e){return"rtl"===Ea(e).direction}};function Rf(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function Nf(e,t,n,r){void 0===r&&(r={});const{ancestorScroll:o=!0,ancestorResize:s=!0,elementResize:i="function"==typeof ResizeObserver,layoutShift:a="function"==typeof IntersectionObserver,animationFrame:l=!1}=r,c=ff(e),d=o||s?[...c?ja(c):[],...ja(t)]:[];d.forEach(e=>{o&&e.addEventListener("scroll",n,{passive:!0}),s&&e.addEventListener("resize",n)});const u=c&&a?function(e,t){let n,r=null;const o=sa(e);function s(){var e;clearTimeout(n),null==(e=r)||e.disconnect(),r=null}return function i(a,l){void 0===a&&(a=!1),void 0===l&&(l=1),s();const c=e.getBoundingClientRect(),{left:d,top:u,width:p,height:f}=c;if(a||t(),!p||!f)return;const g={rootMargin:-Dl(u)+"px "+-Dl(o.clientWidth-(d+p))+"px "+-Dl(o.clientHeight-(u+f))+"px "+-Dl(d)+"px",threshold:Tl(0,Ol(1,l))||1};let h=!0;function m(t){const r=t[0].intersectionRatio;if(r!==l){if(!h)return i();r?i(!1,r):n=setTimeout(()=>{i(!1,1e-7)},1e3)}1!==r||Rf(c,e.getBoundingClientRect())||i(),h=!1}try{r=new IntersectionObserver(m,{...g,root:o.ownerDocument})}catch(v){r=new IntersectionObserver(m,g)}r.observe(e)}(!0),s}(c,n):null;let p,f=-1,g=null;i&&(g=new ResizeObserver(e=>{let[r]=e;r&&r.target===c&&g&&(g.unobserve(t),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var e;null==(e=g)||e.observe(t)})),n()}),c&&!l&&g.observe(c),g.observe(t));let h=l?vf(e):null;return l&&function t(){const r=vf(e);h&&!Rf(h,r)&&n();h=r,p=requestAnimationFrame(t)}(),n(),()=>{var e;d.forEach(e=>{o&&e.removeEventListener("scroll",n),s&&e.removeEventListener("resize",n)}),null==u||u(),null==(e=g)||e.disconnect(),g=null,l&&cancelAnimationFrame(p)}}const Pf=function(e){return void 0===e&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:o,y:s,placement:i,middlewareData:a}=t,l=await async function(e,t){const{placement:n,platform:r,elements:o}=e,s=await(null==r.isRTL?void 0:r.isRTL(o.floating)),i=$l(n),a=_l(n),l="y"===Wl(n),c=uf.has(i)?-1:1,d=s&&l?-1:1,u=Bl(t,e);let{mainAxis:p,crossAxis:f,alignmentAxis:g}="number"==typeof u?{mainAxis:u,crossAxis:0,alignmentAxis:null}:{mainAxis:u.mainAxis||0,crossAxis:u.crossAxis||0,alignmentAxis:u.alignmentAxis};return a&&"number"==typeof g&&(f="end"===a?-1*g:g),l?{x:f*d,y:p*c}:{x:p*c,y:f*d}}(t,e);return i===(null==(n=a.offset)?void 0:n.placement)&&null!=(r=a.arrow)&&r.alignmentOffset?{}:{x:o+l.x,y:s+l.y,data:{...l,placement:i}}}}},Of=function(e){return void 0===e&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:o}=t,{mainAxis:s=!0,crossAxis:i=!1,limiter:a={fn:e=>{let{x:t,y:n}=e;return{x:t,y:n}}},...l}=Bl(e,t),c={x:n,y:r},d=await lf(t,l),u=Wl($l(o)),p=Hl(u);let f=c[p],g=c[u];if(s){const e="y"===p?"bottom":"right";f=Fl(f+d["y"===p?"top":"left"],f,f-d[e])}if(i){const e="y"===u?"bottom":"right";g=Fl(g+d["y"===u?"top":"left"],g,g-d[e])}const h=a.fn({...t,[p]:f,[u]:g});return{...h,data:{x:h.x-n,y:h.y-r,enabled:{[p]:s,[u]:i}}}}}},Tf=function(e){return void 0===e&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:o,middlewareData:s,rects:i,initialPlacement:a,platform:l,elements:c}=t,{mainAxis:d=!0,crossAxis:u=!0,fallbackPlacements:p,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:h=!0,...m}=Bl(e,t);if(null!=(n=s.arrow)&&n.alignmentOffset)return{};const v=$l(o),b=Wl(a),y=$l(a)===a,x=await(null==l.isRTL?void 0:l.isRTL(c.floating)),w=p||(y||!h?[Ql(a)]:function(e){const t=Ql(e);return[ql(e),t,ql(t)]}(a)),k="none"!==g;!p&&k&&w.push(...Zl(a,h,g,x));const E=[a,...w],S=await lf(t,m),C=[];let I=(null==(r=s.flip)?void 0:r.overflows)||[];if(d&&C.push(S[v]),u){const e=function(e,t,n){void 0===n&&(n=!1);const r=_l(e),o=Gl(e),s=Vl(o);let i="x"===o?r===(n?"end":"start")?"right":"left":"start"===r?"bottom":"top";return t.reference[s]>t.floating[s]&&(i=Ql(i)),[i,Ql(i)]}(o,i,x);C.push(S[e[0]],S[e[1]])}if(I=[...I,{placement:o,overflows:C}],!C.every(e=>e<=0)){var j,R;const e=((null==(j=s.flip)?void 0:j.index)||0)+1,t=E[e];if(t){if(!("alignment"===u&&b!==Wl(t))||I.every(e=>Wl(e.placement)!==b||e.overflows[0]>0))return{data:{index:e,overflows:I},reset:{placement:t}}}let n=null==(R=I.filter(e=>e.overflows[0]<=0).sort((e,t)=>e.overflows[1]-t.overflows[1])[0])?void 0:R.placement;if(!n)switch(f){case"bestFit":{var N;const e=null==(N=I.filter(e=>{if(k){const t=Wl(e.placement);return t===b||"y"===t}return!0}).map(e=>[e.placement,e.overflows.filter(e=>e>0).reduce((e,t)=>e+t,0)]).sort((e,t)=>e[1]-t[1])[0])?void 0:N[0];e&&(n=e);break}case"initialPlacement":n=a}if(o!==n)return{reset:{placement:n}}}return{}}}},Mf=function(e){return void 0===e&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:o,rects:s,platform:i,elements:a}=t,{apply:l=()=>{},...c}=Bl(e,t),d=await lf(t,c),u=$l(o),p=_l(o),f="y"===Wl(o),{width:g,height:h}=s.floating;let m,v;"top"===u||"bottom"===u?(m=u,v=p===(await(null==i.isRTL?void 0:i.isRTL(a.floating))?"start":"end")?"left":"right"):(v=u,m="end"===p?"top":"bottom");const b=h-d.top-d.bottom,y=g-d.left-d.right,x=Ol(h-d[m],b),w=Ol(g-d[v],y),k=!t.middlewareData.shift;let E=x,S=w;if(null!=(n=t.middlewareData.shift)&&n.enabled.x&&(S=y),null!=(r=t.middlewareData.shift)&&r.enabled.y&&(E=b),k&&!p){const e=Tl(d.left,0),t=Tl(d.right,0),n=Tl(d.top,0),r=Tl(d.bottom,0);f?S=g-2*(0!==e||0!==t?e+t:Tl(d.left,d.right)):E=h-2*(0!==n||0!==r?n+r:Tl(d.top,d.bottom))}await l({...t,availableWidth:S,availableHeight:E});const C=await i.getDimensions(a.floating);return g!==C.width||h!==C.height?{reset:{rects:!0}}:{}}}},Df=function(e){return void 0===e&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...o}=Bl(e,t);switch(r){case"referenceHidden":{const e=cf(await lf(t,{...o,elementContext:"reference"}),n.reference);return{data:{referenceHiddenOffsets:e,referenceHidden:df(e)}}}case"escaped":{const e=cf(await lf(t,{...o,altBoundary:!0}),n.floating);return{data:{escapedOffsets:e,escaped:df(e)}}}default:return{}}}}},Af=function(e){return void 0===e&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:o,rects:s,middlewareData:i}=t,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=Bl(e,t),d={x:n,y:r},u=Wl(o),p=Hl(u);let f=d[p],g=d[u];const h=Bl(a,t),m="number"==typeof h?{mainAxis:h,crossAxis:0}:{mainAxis:0,crossAxis:0,...h};if(l){const e="y"===p?"height":"width",t=s.reference[p]-s.floating[e]+m.mainAxis,n=s.reference[p]+s.reference[e]-m.mainAxis;f<t?f=t:f>n&&(f=n)}if(c){var v,b;const e="y"===p?"width":"height",t=uf.has($l(o)),n=s.reference[u]-s.floating[e]+(t&&(null==(v=i.offset)?void 0:v[u])||0)+(t?0:m.crossAxis),r=s.reference[u]+s.reference[e]+(t?0:(null==(b=i.offset)?void 0:b[u])||0)-(t?m.crossAxis:0);g<n?g=n:g>r&&(g=r)}return{[p]:f,[u]:g}}}},Lf=(e,t,n)=>{const r=new Map,o={platform:jf,...n},s={...o.platform,_c:r};return(async(e,t,n)=>{const{placement:r="bottom",strategy:o="absolute",middleware:s=[],platform:i}=n,a=s.filter(Boolean),l=await(null==i.isRTL?void 0:i.isRTL(t));let c=await i.getElementRects({reference:e,floating:t,strategy:o}),{x:d,y:u}=af(c,r,l),p=r,f={},g=0;for(let h=0;h<a.length;h++){const{name:n,fn:s}=a[h],{x:m,y:v,data:b,reset:y}=await s({x:d,y:u,initialPlacement:r,placement:p,strategy:o,middlewareData:f,rects:c,platform:i,elements:{reference:e,floating:t}});d=null!=m?m:d,u=null!=v?v:u,f={...f,[n]:{...f[n],...b}},y&&g<=50&&(g++,"object"==typeof y&&(y.placement&&(p=y.placement),y.rects&&(c=!0===y.rects?await i.getElementRects({reference:e,floating:t,strategy:o}):y.rects),({x:d,y:u}=af(c,p,l))),h=-1)}return{x:d,y:u,placement:p,strategy:o,middlewareData:f}})(e,t,{...o,platform:s})};var zf="undefined"!=typeof document?d.useLayoutEffect:function(){};function Ff(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if("function"==typeof e&&e.toString()===t.toString())return!0;let n,r,o;if(e&&t&&"object"==typeof e){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;0!==r--;)if(!Ff(e[r],t[r]))return!1;return!0}if(o=Object.keys(e),n=o.length,n!==Object.keys(t).length)return!1;for(r=n;0!==r--;)if(!{}.hasOwnProperty.call(t,o[r]))return!1;for(r=n;0!==r--;){const n=o[r];if(("_owner"!==n||!e.$$typeof)&&!Ff(e[n],t[n]))return!1}return!0}return e!=e&&t!=t}function Bf(e){if("undefined"==typeof window)return 1;return(e.ownerDocument.defaultView||window).devicePixelRatio||1}function $f(e,t){const n=Bf(e);return Math.round(t*n)/n}function _f(e){const t=d.useRef(e);return zf(()=>{t.current=e}),t}const Hf=(e,t)=>({...Af(e),options:[e,t]}),Vf={intentional:"onClick",sloppy:"onPointerDown"};function Uf(e,t={}){const n="rootStore"in e?e.rootStore:e,r=n.useState("open"),o=n.useState("floatingElement"),s=n.useState("referenceElement"),i=n.useState("domReferenceElement"),{onOpenChange:a,dataRef:l}=n.context,{enabled:c=!0,escapeKey:u=!0,outsidePress:p=!0,outsidePressEvent:f="sloppy",referencePress:g=!1,referencePressEvent:h="sloppy",ancestorScroll:m=!1,bubbles:v,externalTree:b}=t,y=Tp(b),x=zs("function"==typeof p?p:()=>!1),w="function"==typeof p?x:p,k=d.useRef(!1),{escapeKey:E,outsidePress:S}={escapeKey:"boolean"==typeof(C=v)?C:(null==C?void 0:C.escapeKey)??!1,outsidePress:"boolean"==typeof C?C:(null==C?void 0:C.outsidePress)??!0};var C;const I=d.useRef(null),j=Ba(),R=Ba(),N=zs(()=>{R.clear(),l.current.insideReactTree=!1}),P=d.useRef(!1),O=d.useRef(""),T=zs(e=>{O.current=e.pointerType}),M=zs(()=>{const e=O.current,t="pen"!==e&&e?e:"mouse",n="function"==typeof f?f():f;return"string"==typeof n?n:n[t]}),D=zs(e=>{var t;if(!r||!c||!u||"Escape"!==e.key)return;if(P.current)return;const o=null==(t=l.current.floatingContext)?void 0:t.nodeId,s=y?El(y.nodesRef.current,o):[];if(!E&&s.length>0){let e=!0;if(s.forEach(t=>{var n;(null==(n=t.context)?void 0:n.open)&&!t.context.dataRef.current.__escapeKeyBubbles&&(e=!1)}),!e)return}const i=function(e){return"nativeEvent"in e}(e)?e.nativeEvent:e,a=Di(Pi,i);n.setOpen(!1,a),E||a.isPropagationAllowed||e.stopPropagation()}),A=zs(e=>{const t=M();return"intentional"===t&&"click"!==e.type||"sloppy"===t&&"click"===e.type}),L=zs(()=>{l.current.insideReactTree=!0,R.start(0,N)}),z=zs((e,t=!1)=>{var r;if(A(e))return void N();if(l.current.insideReactTree)return void N();if("intentional"===M()&&t)return;if("function"==typeof w&&!w(e))return;const o=vl(e),s=`[${Lp("inert")}]`,i=yl(n.select("floatingElement")).querySelectorAll(s),a=n.context.triggerElements;if(o&&(a.hasElement(o)||a.hasMatchingElement(e=>ml(e,o))))return;let c=aa(o)?o:null;for(;c&&!ka(c);){const e=Ca(c);if(ka(e)||!aa(e))break;c=e}if(i.length&&aa(o)&&!o.matches("html,body")&&!ml(o,n.select("floatingElement"))&&Array.from(i).every(e=>!ml(c,e)))return;if(la(o)&&!("touches"in e)){const t=ka(o),n=Ea(o),r=/auto|scroll/,s=t||r.test(n.overflowX),i=t||r.test(n.overflowY),a=s&&o.clientWidth>0&&o.scrollWidth>o.clientWidth,l=i&&o.clientHeight>0&&o.scrollHeight>o.clientHeight,c="rtl"===n.direction,d=l&&(c?e.offsetX<=o.offsetWidth-o.clientWidth:e.offsetX>o.clientWidth),u=a&&e.offsetY>o.clientHeight;if(d||u)return}const d=null==(r=l.current.floatingContext)?void 0:r.nodeId,u=y&&El(y.nodesRef.current,d).some(t=>{var n;return bl(e,null==(n=t.context)?void 0:n.elements.floating)});if(bl(e,n.select("floatingElement"))||bl(e,n.select("domReferenceElement"))||u)return;const p=y?El(y.nodesRef.current,d):[];if(p.length>0){let e=!0;if(p.forEach(t=>{var n;(null==(n=t.context)?void 0:n.open)&&!t.context.dataRef.current.__outsidePressBubbles&&(e=!1)}),!e)return}n.setOpen(!1,Di(Ei,e)),N()}),F=zs(e=>{"sloppy"===M()&&"touch"!==e.pointerType&&n.select("open")&&c&&!bl(e,n.select("floatingElement"))&&!bl(e,n.select("domReferenceElement"))&&z(e)}),B=zs(e=>{if("sloppy"!==M()||!n.select("open")||!c||bl(e,n.select("floatingElement"))||bl(e,n.select("domReferenceElement")))return;const t=e.touches[0];t&&(I.current={startTime:Date.now(),startX:t.clientX,startY:t.clientY,dismissOnTouchEnd:!1,dismissOnMouseDown:!0},j.start(1e3,()=>{I.current&&(I.current.dismissOnTouchEnd=!1,I.current.dismissOnMouseDown=!1)}))}),$=zs(e=>{const t=vl(e);null==t||t.addEventListener(e.type,function n(){B(e),null==t||t.removeEventListener(e.type,n)})}),_=zs(e=>{const t=k.current;if(k.current=!1,j.clear(),"mousedown"===e.type&&I.current&&!I.current.dismissOnMouseDown)return;const n=vl(e);null==n||n.addEventListener(e.type,function r(){"pointerdown"===e.type?F(e):z(e,t),null==n||n.removeEventListener(e.type,r)})}),H=zs(e=>{if("sloppy"!==M()||!I.current||bl(e,n.select("floatingElement"))||bl(e,n.select("domReferenceElement")))return;const t=e.touches[0];if(!t)return;const r=Math.abs(t.clientX-I.current.startX),o=Math.abs(t.clientY-I.current.startY),s=Math.sqrt(r*r+o*o);s>5&&(I.current.dismissOnTouchEnd=!0),s>10&&(z(e),j.clear(),I.current=null)}),V=zs(e=>{const t=vl(e);null==t||t.addEventListener(e.type,function n(){H(e),null==t||t.removeEventListener(e.type,n)})}),U=zs(e=>{"sloppy"!==M()||!I.current||bl(e,n.select("floatingElement"))||bl(e,n.select("domReferenceElement"))||(I.current.dismissOnTouchEnd&&z(e),j.clear(),I.current=null)}),W=zs(e=>{const t=vl(e);null==t||t.addEventListener(e.type,function n(){U(e),null==t||t.removeEventListener(e.type,n)})});d.useEffect(()=>{if(!r||!c)return;l.current.__escapeKeyBubbles=E,l.current.__outsidePressBubbles=S;const e=new Fa;function t(e){n.setOpen(!1,Di(yi,e))}function a(){e.clear(),P.current=!0}function d(){e.start(xa()?5:0,()=>{P.current=!1})}const p=yl(o);p.addEventListener("pointerdown",T,!0),u&&(p.addEventListener("keydown",D),p.addEventListener("compositionstart",a),p.addEventListener("compositionend",d)),w&&(p.addEventListener("click",_,!0),p.addEventListener("pointerdown",_,!0),p.addEventListener("touchstart",$,!0),p.addEventListener("touchmove",V,!0),p.addEventListener("touchend",W,!0),p.addEventListener("mousedown",_,!0));let f=[];return m&&(aa(i)&&(f=ja(i)),aa(o)&&(f=f.concat(ja(o))),!aa(s)&&s&&s.contextElement&&(f=f.concat(ja(s.contextElement)))),f=f.filter(e=>{var t;return e!==(null==(t=p.defaultView)?void 0:t.visualViewport)}),f.forEach(e=>{e.addEventListener("scroll",t,{passive:!0})}),()=>{p.removeEventListener("pointerdown",T,!0),u&&(p.removeEventListener("keydown",D),p.removeEventListener("compositionstart",a),p.removeEventListener("compositionend",d)),w&&(p.removeEventListener("click",_,!0),p.removeEventListener("pointerdown",_,!0),p.removeEventListener("touchstart",$,!0),p.removeEventListener("touchmove",V,!0),p.removeEventListener("touchend",W,!0),p.removeEventListener("mousedown",_,!0)),f.forEach(e=>{e.removeEventListener("scroll",t)}),e.clear()}},[l,o,s,i,u,w,r,a,m,c,E,S,D,z,_,F,$,V,W,T,n]),d.useEffect(N,[w,N]);const G=d.useMemo(()=>({onKeyDown:D,...g&&{[Vf[h]]:e=>{n.setOpen(!1,Di(xi,e.nativeEvent))},..."intentional"!==h&&{onClick(e){n.setOpen(!1,Di(xi,e.nativeEvent))}}}}),[D,n,g,h]),q=zs(e=>{const t=vl(e.nativeEvent);ml(n.select("floatingElement"),t)&&0===e.button&&(k.current=!0)}),K=d.useMemo(()=>({onKeyDown:D,onPointerDown:q,onMouseDown:q,onMouseUp:q,onClickCapture:L,onMouseDownCapture:L,onPointerDownCapture:L,onMouseUpCapture:L,onTouchEndCapture:L,onTouchMoveCapture:L}),[D,q,L]);return d.useMemo(()=>c?{reference:G,floating:K,trigger:G}:{},[c,G,K])}var Wf=Symbol("NOT_FOUND");var Gf=e=>Array.isArray(e)?e:[e];function qf(e){const t=Array.isArray(e[0])?e[0]:e;return function(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(e=>"function"==typeof e)){const n=e.map(e=>"function"==typeof e?`function ${e.name||"unnamed"}()`:typeof e).join(", ");throw new TypeError(`${t}[${n}]`)}}(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}var Kf=(e,t)=>e===t;var Yf="undefined"!=typeof WeakRef?WeakRef:class{constructor(e){this.value=e}deref(){return this.value}};function Xf(){return{s:0,v:void 0,o:null,p:null}}function Jf(e,t={}){let n={s:0,v:void 0,o:null,p:null};const{resultEqualityCheck:r}=t;let o,s=0;function i(){var t;let i=n;const{length:a}=arguments;for(let e=0,n=a;e<n;e++){const t=arguments[e];if("function"==typeof t||"object"==typeof t&&null!==t){let e=i.o;null===e&&(i.o=e=new WeakMap);const n=e.get(t);void 0===n?(i=Xf(),e.set(t,i)):i=n}else{let e=i.p;null===e&&(i.p=e=new Map);const n=e.get(t);void 0===n?(i=Xf(),e.set(t,i)):i=n}}const l=i;let c;if(1===i.s)c=i.v;else if(c=e.apply(null,arguments),s++,r){const e=(null==(t=null==o?void 0:o.deref)?void 0:t.call(o))??o;null!=e&&r(e,c)&&(c=e,0!==s&&s--);o="object"==typeof c&&null!==c||"function"==typeof c?new Yf(c):c}return l.s=1,l.v=c,c}return i.clearCache=()=>{n={s:0,v:void 0,o:null,p:null},i.resetResultsCount()},i.resultsCount=()=>s,i.resetResultsCount=()=>{s=0},i}function Zf(e,...t){const n="function"==typeof e?{memoize:e,memoizeOptions:t}:e,r=(...e)=>{let t,r=0,o=0,s={},i=e.pop();"object"==typeof i&&(s=i,i=e.pop()),function(e,t="expected a function, instead received "+typeof e){if("function"!=typeof e)throw new TypeError(t)}(i,`createSelector expects an output function after the inputs, but received: [${typeof i}]`);const a={...n,...s},{memoize:l,memoizeOptions:c=[],argsMemoize:d=Jf,argsMemoizeOptions:u=[]}=a,p=Gf(c),f=Gf(u),g=qf(e),h=l(function(){return r++,i.apply(null,arguments)},...p),m=d(function(){o++;const e=function(e,t){const n=[],{length:r}=e;for(let o=0;o<r;o++)n.push(e[o].apply(null,t));return n}(g,arguments);return t=h.apply(null,e),t},...f);return Object.assign(m,{resultFunc:i,memoizedResultFunc:h,dependencies:g,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>t,recomputations:()=>r,resetRecomputations:()=>{r=0},memoize:l,argsMemoize:d})};return Object.assign(r,{withTypes:()=>r}),r}var Qf=Zf(Jf),eg=Object.assign((e,t=Qf)=>{!function(e,t="expected an object, instead received "+typeof e){if("object"!=typeof e)throw new TypeError(t)}(e,"createStructuredSelector expects first argument to be an object where each property is a selector, instead received a "+typeof e);const n=Object.keys(e);return t(n.map(t=>e[t]),(...e)=>e.reduce((e,t,r)=>(e[n[r]]=t,e),{}))},{withTypes:()=>eg});Zf({memoize:function(e,t){const n="object"==typeof t?t:{equalityCheck:t},{equalityCheck:r=Kf,maxSize:o=1,resultEqualityCheck:s}=n,i=function(e){return function(t,n){if(null===t||null===n||t.length!==n.length)return!1;const{length:r}=t;for(let o=0;o<r;o++)if(!e(t[o],n[o]))return!1;return!0}}(r);let a=0;const l=o<=1?function(e){let t;return{get:n=>t&&e(t.key,n)?t.value:Wf,put(e,n){t={key:e,value:n}},getEntries:()=>t?[t]:[],clear(){t=void 0}}}(i):function(e,t){let n=[];function r(e){const r=n.findIndex(n=>t(e,n.key));if(r>-1){const e=n[r];return r>0&&(n.splice(r,1),n.unshift(e)),e.value}return Wf}return{get:r,put:function(t,o){r(t)===Wf&&(n.unshift({key:t,value:o}),n.length>e&&n.pop())},getEntries:function(){return n},clear:function(){n=[]}}}(o,i);function c(){let t=l.get(arguments);if(t===Wf){if(t=e.apply(null,arguments),a++,s){const e=l.getEntries().find(e=>s(e.value,t));e&&(t=e.value,0!==a&&a--)}l.put(arguments,t)}return t}return c.clearCache=()=>{l.clear(),c.resetResultsCount()},c.resultsCount=()=>a,c.resetResultsCount=()=>{a=0},c},memoizeOptions:{maxSize:1,equalityCheck:Object.is}});const tg=(e,t,n,r,o,s,...i)=>{if(i.length>0)throw new Error($s(1));let a;if(!e)throw new Error("Missing arguments");return a=e,a},ng=Ws(19)?function(e,t,n,r,o){const s=d.useCallback(()=>t(e.getSnapshot(),n,r,o),[e,t,n,r,o]);return Ts.useSyncExternalStore(e.subscribe,s,s)}:function(e,t,n,r,o){return ku.useSyncExternalStoreWithSelector(e.subscribe,e.getSnapshot,e.getSnapshot,e=>t(e,n,r,o))};function rg(e,t,n,r,o){return ng(e,t,n,r,o)}class og{constructor(e){t(this,"subscribe",e=>(this.listeners.add(e),()=>{this.listeners.delete(e)})),t(this,"getSnapshot",()=>this.state),this.state=e,this.listeners=new Set,this.updateTick=0}setState(e){if(this.state===e)return;this.state=e,this.updateTick+=1;const t=this.updateTick;for(const n of this.listeners){if(t!==this.updateTick)return;n(e)}}update(e){for(const t in e)if(!Object.is(this.state[t],e[t]))return void og.prototype.setState.call(this,{...this.state,...e})}set(e,t){Object.is(this.state[e],t)||og.prototype.setState.call(this,{...this.state,[e]:t})}notifyAll(){const e={...this.state};og.prototype.setState.call(this,e)}}class sg extends og{constructor(e,n={},r){super(e),t(this,"controlledValues",new Map),t(this,"select",(e,t,n,r)=>(0,this.selectors[e])(this.state,t,n,r)),t(this,"useState",(e,t,n,r)=>{d.useDebugValue(e);return rg(this,this.selectors[e],t,n,r)}),this.context=n,this.selectors=r}useSyncedValue(e,t){d.useDebugValue(e),fi(()=>{this.state[e]!==t&&this.set(e,t)},[e,t])}useSyncedValueWithCleanup(e,t){fi(()=>(this.state[e]!==t&&this.set(e,t),()=>{this.set(e,void 0)}),[e,t])}useSyncedValues(e){const t=Object.values(e);fi(()=>{this.update(e)},t)}useControlledProp(e,t,n){d.useDebugValue(e);const r=void 0!==t;this.controlledValues.has(e)||(this.controlledValues.set(e,r),r||Object.is(this.state[e],n)||super.setState({...this.state,[e]:n})),fi(()=>{r&&!Object.is(this.state[e],t)&&super.setState({...this.state,[e]:t})},[e,t,n,r])}set(e,t){!0!==this.controlledValues.get(e)&&super.set(e,t)}update(e){const t={...e};for(const n in t)Object.hasOwn(t,n)&&(!0!==this.controlledValues.get(n)||delete t[n]);super.update(t)}setState(e){const t={...e};for(const n in t)Object.hasOwn(t,n)&&(!0!==this.controlledValues.get(n)||delete t[n]);super.setState({...this.state,...t})}useContextCallback(e,t){d.useDebugValue(e);const n=zs(t??ri);this.context[e]=n}useStateSetter(e){const t=d.useRef(void 0);return void 0===t.current&&(t.current=t=>{this.set(e,t)}),t.current}observe(e,t){let n;n="function"==typeof e?e:this.selectors[e];let r=n(this.state);return t(r,r,this),this.subscribe(e=>{const o=n(e);if(!Object.is(r,o)){const e=r;r=o,t(o,e,this)}})}}const ig={open:tg(e=>e.open),domReferenceElement:tg(e=>e.domReferenceElement),referenceElement:tg(e=>e.positionReference??e.referenceElement),floatingElement:tg(e=>e.floatingElement),floatingId:tg(e=>e.floatingId)};class ag extends sg{constructor(e){const{nested:n,noEmit:r,onOpenChange:o,triggerElements:s,...i}=e;super({...i,positionReference:i.referenceElement,domReferenceElement:i.referenceElement},{onOpenChange:o,dataRef:{current:{}},events:jp(),nested:n,noEmit:r,triggerElements:s},ig),t(this,"setOpen",(e,t)=>{var n,r;if(e&&this.state.open&&!Nl(t.event)||(this.context.dataRef.current.openEvent=e?t.event:void 0),!this.context.noEmit){const n={open:e,reason:t.reason,nativeEvent:t.event,nested:this.context.nested,triggerElement:t.trigger};this.context.events.emit("openchange",n)}null==(r=(n=this.context).onOpenChange)||r.call(n,e,t)})}}function lg(e,t,n,r){const o=n.useState("isMountedByTrigger",e),s=function(e,t){const n=d.useRef(null);return d.useCallback(r=>{if(void 0!==e)return null!==n.current&&(t.context.triggerElements.delete(n.current),n.current=null),null!==r?(n.current=e,t.context.triggerElements.add(e,r),()=>{null!==n.current&&(t.context.triggerElements.delete(n.current),n.current=null)}):void 0},[t,e])}(e,n),i=zs(t=>{const o=s(t);return null!==t&&n.select("open")&&null==n.select("activeTriggerId")&&n.update({activeTriggerId:e,activeTriggerElement:t,...r}),o});return fi(()=>{o&&n.update({activeTriggerElement:t.current,...r})},[o,n,t,...Object.values(r)]),{registerTrigger:i,isMountedByThisTrigger:o}}function cg(e){const t=e.useState("open");fi(()=>{if(t&&!e.select("activeTriggerId")&&1===e.context.triggerElements.size){const t=e.context.triggerElements.entries().next();if(!t.done){const[n,r]=t.value;e.update({activeTriggerId:n,activeTriggerElement:r})}}},[t,e])}function dg(e,t,n){const{mounted:r,setMounted:o,transitionStatus:s}=Ui(e);t.useSyncedValues({mounted:r,transitionStatus:s});const i=zs(()=>{var e,r;o(!1),t.update({activeTriggerId:null,activeTriggerElement:null,mounted:!1}),null==n||n(),null==(r=(e=t.context).onOpenChangeComplete)||r.call(e,!1)});return La({enabled:!t.useState("preventUnmountingOnClose"),open:e,ref:t.context.popupRef,onComplete(){e||i()}}),{forceUnmount:i,transitionStatus:s}}class ug{constructor(){this.elements=new Set,this.idMap=new Map}add(e,t){const n=this.idMap.get(e);n!==t&&(void 0!==n&&this.elements.delete(n),this.elements.add(t),this.idMap.set(e,t))}delete(e){const t=this.idMap.get(e);t&&(this.elements.delete(t),this.idMap.delete(e))}hasElement(e){return this.elements.has(e)}hasMatchingElement(e){for(const t of this.elements)if(e(t))return!0;return!1}getById(e){return this.idMap.get(e)}entries(){return this.idMap.entries()}get size(){return this.idMap.size}}function pg(){return{open:!1,mounted:!1,transitionStatus:"idle",floatingRootContext:new ag({open:!1,floatingElement:null,referenceElement:null,triggerElements:new ug,floatingId:"",nested:!1,noEmit:!1,onOpenChange:void 0}),preventUnmountingOnClose:!1,payload:void 0,activeTriggerId:null,activeTriggerElement:null,popupElement:null,positionerElement:null,activeTriggerProps:si,inactiveTriggerProps:si,popupProps:si}}const fg={open:tg(e=>e.open),mounted:tg(e=>e.mounted),transitionStatus:tg(e=>e.transitionStatus),floatingRootContext:tg(e=>e.floatingRootContext),preventUnmountingOnClose:tg(e=>e.preventUnmountingOnClose),payload:tg(e=>e.payload),activeTriggerId:tg(e=>e.activeTriggerId),activeTriggerElement:tg(e=>e.mounted?e.activeTriggerElement:null),isTriggerActive:tg((e,t)=>void 0!==t&&e.activeTriggerId===t),isOpenedByTrigger:tg((e,t)=>void 0!==t&&e.activeTriggerId===t&&e.open),isMountedByTrigger:tg((e,t)=>void 0!==t&&e.activeTriggerId===t&&e.mounted),triggerProps:tg((e,t)=>t?e.activeTriggerProps:e.inactiveTriggerProps),popupProps:tg(e=>e.popupProps),popupElement:tg(e=>e.popupElement),positionerElement:tg(e=>e.positionerElement)};function gg(e){const{open:t=!1,onOpenChange:n,elements:r={}}=e,o=vi(),s=null!=Op(),i=Ds(()=>new ag({open:t,onOpenChange:n,referenceElement:r.reference??null,floatingElement:r.floating??null,triggerElements:r.triggers??new ug,floatingId:o,nested:s,noEmit:e.noEmit||!1})).current;return fi(()=>{const e={open:t,floatingId:o};void 0!==r.reference&&(e.referenceElement=r.reference,e.domReferenceElement=aa(r.reference)?r.reference:null),void 0!==r.floating&&(e.floatingElement=r.floating),i.update(e)},[t,o,r.reference,r.floating,i]),i.context.onOpenChange=n,i.context.nested=s,i.context.noEmit=e.noEmit||!1,i}function hg(e={}){const{nodeId:t,externalTree:n}=e,r=gg(e),o=e.rootContext||r,s={reference:o.useState("referenceElement"),floating:o.useState("floatingElement"),domReference:o.useState("domReferenceElement")},[i,a]=d.useState(null),l=d.useRef(null),u=Tp(n);fi(()=>{s.domReference&&(l.current=s.domReference)},[s.domReference]);const p=function(e){void 0===e&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:o,elements:{reference:s,floating:i}={},transform:a=!0,whileElementsMounted:l,open:u}=e,[p,f]=d.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[g,h]=d.useState(r);Ff(g,r)||h(r);const[m,v]=d.useState(null),[b,y]=d.useState(null),x=d.useCallback(e=>{e!==S.current&&(S.current=e,v(e))},[]),w=d.useCallback(e=>{e!==C.current&&(C.current=e,y(e))},[]),k=s||m,E=i||b,S=d.useRef(null),C=d.useRef(null),I=d.useRef(p),j=null!=l,R=_f(l),N=_f(o),P=_f(u),O=d.useCallback(()=>{if(!S.current||!C.current)return;const e={placement:t,strategy:n,middleware:g};N.current&&(e.platform=N.current),Lf(S.current,C.current,e).then(e=>{const t={...e,isPositioned:!1!==P.current};T.current&&!Ff(I.current,t)&&(I.current=t,c.flushSync(()=>{f(t)}))})},[g,t,n,N,P]);zf(()=>{!1===u&&I.current.isPositioned&&(I.current.isPositioned=!1,f(e=>({...e,isPositioned:!1})))},[u]);const T=d.useRef(!1);zf(()=>(T.current=!0,()=>{T.current=!1}),[]),zf(()=>{if(k&&(S.current=k),E&&(C.current=E),k&&E){if(R.current)return R.current(k,E,O);O()}},[k,E,O,R,j]);const M=d.useMemo(()=>({reference:S,floating:C,setReference:x,setFloating:w}),[x,w]),D=d.useMemo(()=>({reference:k,floating:E}),[k,E]),A=d.useMemo(()=>{const e={position:n,left:0,top:0};if(!D.floating)return e;const t=$f(D.floating,p.x),r=$f(D.floating,p.y);return a?{...e,transform:"translate("+t+"px, "+r+"px)",...Bf(D.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:t,top:r}},[n,a,D.floating,p.x,p.y]);return d.useMemo(()=>({...p,update:O,refs:M,elements:D,floatingStyles:A}),[p,O,M,D,A])}({...e,elements:{...s,...i&&{reference:i}}}),f=d.useCallback(e=>{const t=aa(e)?{getBoundingClientRect:()=>e.getBoundingClientRect(),getClientRects:()=>e.getClientRects(),contextElement:e}:e;a(t),p.refs.setReference(t)},[p.refs]),[g,h]=d.useState(null),[m,v]=d.useState(null);o.useSyncedValue("referenceElement",g),o.useSyncedValue("domReferenceElement",aa(g)?g:null),o.useSyncedValue("floatingElement",m);const b=d.useCallback(e=>{(aa(e)||null===e)&&(l.current=e,h(e)),(aa(p.refs.reference.current)||null===p.refs.reference.current||null!==e&&!aa(e))&&p.refs.setReference(e)},[p.refs,h]),y=d.useCallback(e=>{v(e),p.refs.setFloating(e)},[p.refs]),x=d.useMemo(()=>({...p.refs,setReference:b,setFloating:y,setPositionReference:f,domReference:l}),[p.refs,b,y,f]),w=d.useMemo(()=>({...p.elements,domReference:s.domReference}),[p.elements,s.domReference]),k=o.useState("open"),E=o.useState("floatingId"),S=d.useMemo(()=>({...p,dataRef:o.context.dataRef,open:k,onOpenChange:o.setOpen,events:o.context.events,floatingId:E,refs:x,elements:w,nodeId:t,rootStore:o}),[p,x,w,t,o,k,E]);return fi(()=>{o.context.dataRef.current.floatingContext=S;const e=null==u?void 0:u.nodesRef.current.find(e=>e.id===t);e&&(e.context=S)}),d.useMemo(()=>({...p,context:S,refs:x,elements:w,rootStore:o}),[p,x,w,S,o])}function mg(e){const{popupStore:t,noEmit:n=!1,treatPopupAsFloatingElement:r=!1,onOpenChange:o}=e,s=vi(),i=null!=Op(),a=t.useState("open"),l=t.useState("activeTriggerElement"),c=t.useState(r?"popupElement":"positionerElement"),d=t.context.triggerElements,u=Ds(()=>new ag({open:a,referenceElement:l,floatingElement:c,triggerElements:d,onOpenChange:o,floatingId:s,nested:i,noEmit:n})).current;return fi(()=>{const e={open:a,floatingId:s,referenceElement:l,floatingElement:c};aa(l)&&(e.domReferenceElement=l),u.update(e)},[a,s,l,c,u]),u.context.onOpenChange=o,u.context.nested=i,u.context.noEmit=n,u}const vg=sl&&rl;function bg(e,t={}){const n="rootStore"in e?e.rootStore:e,{events:r,dataRef:o}=n.context,{enabled:s=!0,visibleOnly:i=!0}=t,a=d.useRef(!1),l=Ba(),c=d.useRef(!0);d.useEffect(()=>{const e=n.select("domReferenceElement");if(!s)return;const t=oa(e);function r(){!n.select("open")&&la(e)&&e===hl(yl(e))&&(a.current=!0)}function o(){c.current=!0}function i(){c.current=!1}return t.addEventListener("blur",r),vg&&(t.addEventListener("keydown",o,!0),t.addEventListener("pointerdown",i,!0)),()=>{t.removeEventListener("blur",r),vg&&(t.removeEventListener("keydown",o,!0),t.removeEventListener("pointerdown",i,!0))}},[n,s]),d.useEffect(()=>{if(s)return r.on("openchange",e),()=>{r.off("openchange",e)};function e(e){e.reason!==xi&&e.reason!==Pi||(a.current=!0)}},[r,s]);const u=d.useMemo(()=>({onMouseLeave(){a.current=!1},onFocus(e){if(a.current)return;const t=vl(e.nativeEvent);if(i&&aa(t))if(vg&&!e.relatedTarget){if(!c.current&&!xl(t))return}else if(!function(e){if(!e||il)return!0;try{return e.matches(":focus-visible")}catch(t){return!0}}(t))return;n.setOpen(!0,Di(ki,e.nativeEvent,e.currentTarget))},onBlur(e){a.current=!1;const t=e.relatedTarget,r=e.nativeEvent,s=aa(t)&&t.hasAttribute(Lp("focus-guard"))&&"outside"===t.getAttribute("data-type");l.start(0,()=>{var i;const a=n.select("domReferenceElement"),l=hl(a?a.ownerDocument:document);(t||l!==a)&&(ml(null==(i=o.current.floatingContext)?void 0:i.refs.floating.current,l)||ml(a,l)||s||n.context.triggerElements.hasElement(e.relatedTarget)||n.setOpen(!1,Di(ki,r)))})}}),[o,n,i,l]);return d.useMemo(()=>s?{reference:u,trigger:u}:{},[s,u])}const yg=Lp("safe-polygon"),xg=`button,a,[role="button"],select,[tabindex]:not([tabindex="-1"]),${dl}`;function wg(e){const t=d.useRef(void 0),n=d.useRef(!1),r=d.useRef(void 0),o=d.useRef(!0),s=d.useRef(!1),i=d.useRef(()=>{}),a=d.useRef(!1),l=Ba(),c=Ba(),u=d.useRef(void 0);return d.useMemo(()=>{const d=e.context.dataRef.current;return d.hoverInteractionState||(d.hoverInteractionState={pointerTypeRef:t,interactedInsideRef:n,handlerRef:r,blockMouseMoveRef:o,performedPointerEventsMutationRef:s,unbindMouseMoveRef:i,restTimeoutPendingRef:a,openChangeTimeout:l,restTimeout:c,handleCloseOptionsRef:u}),d.hoverInteractionState},[e,t,n,r,o,s,i,a,l,c,u])}const kg=new Set(["click","mousedown"]);function Eg(e,t={}){const n="rootStore"in e?e.rootStore:e,r=n.useState("open"),o=n.useState("floatingElement"),s=n.useState("domReferenceElement"),{dataRef:i}=n.context,{enabled:a=!0,closeDelay:l=0,externalTree:c}=t,{pointerTypeRef:u,interactedInsideRef:p,handlerRef:f,performedPointerEventsMutationRef:g,unbindMouseMoveRef:h,restTimeoutPendingRef:m,openChangeTimeout:v,handleCloseOptionsRef:b}=wg(n),y=Tp(c),x=Op(),w=zs(()=>!!p.current||!!i.current.openEvent&&kg.has(i.current.openEvent.type)),k=zs(()=>{var e;const t=null==(e=i.current.openEvent)?void 0:e.type;return(null==t?void 0:t.includes("mouse"))&&"mousedown"!==t}),E=d.useCallback((e,t=!0)=>{const r=function(e,t){if(t&&!Rl(t))return 0;if("function"==typeof e)return e();return e}(l,u.current);r&&!f.current?v.start(r,()=>n.setOpen(!1,Di(wi,e))):t&&(v.clear(),n.setOpen(!1,Di(wi,e)))},[l,f,n,u,v]),S=zs(()=>{h.current(),f.current=void 0}),C=zs(()=>{if(g.current){const e=yl(o).body;e.style.pointerEvents="",e.removeAttribute(yg),g.current=!1}}),I=zs(e=>{const t=vl(e);var n;(n=t)&&Boolean(n.closest(xg))?p.current=!0:p.current=!1});fi(()=>{r||(u.current=void 0,m.current=!1,p.current=!1,S(),C())},[r,u,m,p,S,C]),d.useEffect(()=>()=>{S()},[S]),d.useEffect(()=>C,[C]),fi(()=>{var e,t,n;if(a&&r&&(null==(e=b.current)?void 0:e.blockPointerEvents)&&k()&&aa(s)&&o){g.current=!0;const e=yl(o).body;e.setAttribute(yg,"");const r=s,i=o,a=null==(n=null==(t=null==y?void 0:y.nodesRef.current.find(e=>e.id===x))?void 0:t.context)?void 0:n.elements.floating;return a&&(a.style.pointerEvents=""),e.style.pointerEvents="none",r.style.pointerEvents="auto",i.style.pointerEvents="auto",()=>{e.style.pointerEvents="",r.style.pointerEvents="",i.style.pointerEvents=""}}},[a,r,s,o,b,k,y,x,g]),d.useEffect(()=>{if(!a)return;function e(e){if(w())return;if(!i.current.floatingContext)return;const t=n.context.triggerElements;e.relatedTarget&&t.hasElement(e.relatedTarget)||(C(),S(),w()||E(e))}function t(e){var t;v.clear(),C(),null==(t=f.current)||t.call(f,e),S()}function r(e){w()||E(e,!1)}const s=o;return s&&(s.addEventListener("mouseleave",e),s.addEventListener("mouseenter",t),s.addEventListener("mouseleave",r),s.addEventListener("pointerdown",I,!0)),()=>{s&&(s.removeEventListener("mouseleave",e),s.removeEventListener("mouseenter",t),s.removeEventListener("mouseleave",r),s.removeEventListener("pointerdown",I,!0))}})}function Sg(e){return"function"==typeof e?e():e}const Cg={current:null};function Ig(e,t={}){var n;const r="rootStore"in e?e.rootStore:e,{dataRef:o,events:s}=r.context,{enabled:i=!0,delay:a=0,handleClose:l=null,mouseOnly:u=!1,restMs:p=0,move:f=!0,triggerElementRef:g=Cg,externalTree:h,isActiveTrigger:m=!0}=t,v=Tp(h),{pointerTypeRef:b,interactedInsideRef:y,handlerRef:x,blockMouseMoveRef:w,performedPointerEventsMutationRef:k,unbindMouseMoveRef:E,restTimeoutPendingRef:S,openChangeTimeout:C,restTimeout:I,handleCloseOptionsRef:j}=wg(r),R=Da(l),N=Da(a),P=Da(p);m&&(j.current=null==(n=R.current)?void 0:n.__options);const O=zs(()=>!!y.current||!!o.current.openEvent&&["click","mousedown"].includes(o.current.openEvent.type)),T=d.useCallback((e,t=!0)=>{const n=zp(N.current,"close",b.current);n&&!x.current?C.start(n,()=>r.setOpen(!1,Di(wi,e))):t&&(C.clear(),r.setOpen(!1,Di(wi,e)))},[N,x,r,b,C]),M=zs(()=>{E.current(),x.current=void 0}),D=zs(()=>{if(k.current){const e=yl(r.select("domReferenceElement")).body;e.style.pointerEvents="",e.removeAttribute(yg),k.current=!1}});d.useEffect(()=>{if(i)return s.on("openchange",e),()=>{s.off("openchange",e)};function e(e){e.open||(C.clear(),I.clear(),w.current=!0,S.current=!1)}},[i,s,C,I,w,S]);const A=zs(e=>{var t;if(O())return;if(!o.current.floatingContext)return;const n=r.context.triggerElements;e.relatedTarget&&n.hasElement(e.relatedTarget)||null==(t=R.current)||t.call(R,{...o.current.floatingContext,tree:v,x:e.clientX,y:e.clientY,onClose(){D(),M(),O()||T(e)}})(e)});return d.useEffect(()=>{if(!i)return;const e=g.current??(m?r.select("domReferenceElement"):null);if(aa(e))return r.select("open")&&e.addEventListener("mouseleave",s),f&&e.addEventListener("mousemove",t,{once:!0}),e.addEventListener("mouseenter",t),e.addEventListener("mouseleave",n),()=>{e.removeEventListener("mouseleave",s),f&&e.removeEventListener("mousemove",t),e.removeEventListener("mouseenter",t),e.removeEventListener("mouseleave",n)};function t(e){if(C.clear(),w.current=!1,u&&!Rl(b.current))return;if(Sg(P.current)>0&&!zp(N.current,"open"))return;const t=zp(N.current,"open",b.current),n=r.select("domReferenceElement"),o=r.context.triggerElements,s=(o.hasElement(e.target)||o.hasMatchingElement(t=>ml(t,e.target)))&&(!n||!ml(n,e.target)),i=e.currentTarget??null;t?C.start(t,()=>{r.select("open")||r.setOpen(!0,Di(wi,e,i))}):r.select("open")&&!s||r.setOpen(!0,Di(wi,e,i))}function n(e){if(O())return void D();E.current();const t=yl(r.select("domReferenceElement"));I.clear(),S.current=!1;const n=r.context.triggerElements;if(e.relatedTarget&&n.hasElement(e.relatedTarget))return;if(R.current&&o.current.floatingContext){r.select("open")||C.clear(),x.current=R.current({...o.current.floatingContext,tree:v,x:e.clientX,y:e.clientY,onClose(){D(),M(),O()||T(e,!0)}});const n=x.current;return n(e),t.addEventListener("mousemove",n),void(E.current=()=>{t.removeEventListener("mousemove",n)})}("touch"!==b.current||!ml(r.select("floatingElement"),e.relatedTarget))&&T(e)}function s(e){A(e)}},[M,D,w,o,N,T,r,i,R,A,m,O,u,f,b,P,I,S,C,g,v,E,x]),d.useMemo(()=>{function e(e){b.current=e.pointerType}return{onPointerDown:e,onPointerEnter:e,onMouseMove(e){const{nativeEvent:t}=e,n=e.currentTarget,o=r.select("domReferenceElement"),s=r.context.triggerElements,i=r.select("open"),a=(s.hasElement(e.target)||s.hasMatchingElement(t=>ml(t,e.target)))&&(!o||!ml(o,e.target));function l(){w.current||i&&!a||r.setOpen(!0,Di(wi,t,n))}u&&!Rl(b.current)||i&&!a||0===Sg(P.current)||!a&&S.current&&e.movementX**2+e.movementY**2<2||(I.clear(),"touch"===b.current?c.flushSync(()=>{l()}):a&&i?l():(S.current=!0,I.start(Sg(P.current),l)))}}},[w,u,r,b,P,I,S])}function jg(e=[]){const t=e.map(e=>null==e?void 0:e.reference),n=e.map(e=>null==e?void 0:e.floating),r=e.map(e=>null==e?void 0:e.item),o=e.map(e=>null==e?void 0:e.trigger),s=d.useCallback(t=>Rg(t,e,"reference"),t),i=d.useCallback(t=>Rg(t,e,"floating"),n),a=d.useCallback(t=>Rg(t,e,"item"),r),l=d.useCallback(t=>Rg(t,e,"trigger"),o);return d.useMemo(()=>({getReferenceProps:s,getFloatingProps:i,getItemProps:a,getTriggerProps:l}),[s,i,a,l])}function Rg(e,t,n){var r;const o=new Map,s="item"===n,i={};"floating"===n&&(i.tabIndex=-1,i[al]="");for(const a in e)s&&e&&(a===ll||a===cl)||(i[a]=e[a]);for(let a=0;a<t.length;a+=1){let l;const c=null==(r=t[a])?void 0:r[n];l="function"==typeof c?e?c(e):null:c,l&&Ng(i,l,s,o)}return Ng(i,e,s,o),i}function Ng(e,t,n,r){var o;for(const s in t){const i=t[s];(!n||s!==ll&&s!==cl)&&(s.startsWith("on")?(r.has(s)||r.set(s,[]),"function"==typeof i&&(null==(o=r.get(s))||o.push(i),e[s]=(...e)=>{var t;return null==(t=r.get(s))?void 0:t.map(t=>t(...e)).find(e=>void 0!==e)})):e[s]=i)}}function Pg(e,t,n){switch(e){case"vertical":return t;case"horizontal":return n;default:return t||n}}function Og(e,t){return Pg(t,e===fl||e===gl,e===ul||e===pl)}function Tg(e,t,n){return Pg(t,e===gl,n?e===ul:e===pl)||"Enter"===e||" "===e||""===e}function Mg(e,t){const n="rootStore"in e?e.rootStore:e,r=n.useState("open"),o=n.useState("floatingElement"),s=n.useState("domReferenceElement"),i=n.context.dataRef,{listRef:a,activeIndex:l,onNavigate:c=()=>{},enabled:u=!0,selectedIndex:p=null,allowEscape:f=!1,loopFocus:g=!1,nested:h=!1,rtl:m=!1,virtual:v=!1,focusItemOnOpen:b="auto",focusItemOnHover:y=!0,openOnArrowKeyDown:x=!0,disabledIndices:w,orientation:k="vertical",parentOrientation:E,cols:S=1,scrollItemIntoView:C=!0,itemSizes:I,dense:j=!1,id:R,resetOnPointerLeave:N=!0,externalTree:P}=t,O=Da(kl(o)),T=Op(),M=Tp(P);fi(()=>{i.current.orientation=k},[i,k]);const D=wl(s),A=d.useRef(b),L=d.useRef(p??-1),z=d.useRef(null),F=d.useRef(!0),B=zs(e=>{c(-1===L.current?null:L.current,e)}),$=d.useRef(B),_=d.useRef(!!o),H=d.useRef(r),V=d.useRef(!1),U=d.useRef(!1),W=Da(w),G=Da(r),q=Da(C),K=Da(p),Y=Da(N),X=zs(()=>{function e(e){v?null==M||M.events.emit("virtualfocus",e):Hp(e,{sync:V.current,preventScroll:!0})}const t=a.current[L.current],n=U.current;t&&e(t);(V.current?e=>e():requestAnimationFrame)(()=>{var r;const o=a.current[L.current]||t;if(!o)return;t||e(o);const s=q.current;s&&Z&&(n||!F.current)&&(null==(r=o.scrollIntoView)||r.call(o,"boolean"==typeof s?{block:"nearest",inline:"nearest"}:s))})});fi(()=>{u&&(r&&o?(L.current=p??-1,A.current&&null!=p&&(U.current=!0,B())):_.current&&(L.current=-1,$.current()))},[u,r,o,p,B]),fi(()=>{if(u)if(r){if(o)if(null==l){if(V.current=!1,null!=K.current)return;if(_.current&&(L.current=-1,X()),(!H.current||!_.current)&&A.current&&(null!=z.current||!0===A.current&&null==z.current)){let e=0;const t=()=>{if(null==a.current[0]){if(e<2){(e?requestAnimationFrame:queueMicrotask)(t)}e+=1}else L.current=null==z.current||Tg(z.current,k,m)||h?oc(a):sc(a),z.current=null,B()};t()}}else rc(a,l)||(L.current=l,X(),U.current=!1)}else V.current=!1},[u,r,o,l,K,h,a,k,m,B,X,W]),fi(()=>{var e,t;if(!u||o||!M||v||!_.current)return;const n=M.nodesRef.current,r=null==(t=null==(e=n.find(e=>e.id===T))?void 0:e.context)?void 0:t.elements.floating,s=hl(yl(o)),i=n.some(e=>e.context&&ml(e.context.elements.floating,s));r&&!i&&F.current&&r.focus({preventScroll:!0})},[u,o,M,T,v]),fi(()=>{$.current=B,H.current=r,_.current=!!o}),fi(()=>{r||(z.current=null,A.current=b)},[r,b]);const J=null!=l,Z=d.useMemo(()=>{function e(e){if(!G.current)return;const t=a.current.indexOf(e.currentTarget);-1!==t&&L.current!==t&&(L.current=t,B(e))}return{onFocus(t){V.current=!0,e(t)},onClick:({currentTarget:e})=>e.focus({preventScroll:!0}),onMouseMove(t){V.current=!0,U.current=!1,y&&e(t)},onPointerLeave(e){var t;if(!G.current||!F.current||"touch"===e.pointerType)return;V.current=!0;const n=e.relatedTarget;y&&!a.current.includes(n)&&Y.current&&(L.current=-1,B(e),v||null==(t=O.current)||t.focus({preventScroll:!0}))}}},[G,O,y,a,B,Y,v]),Q=d.useCallback(()=>{var e,t,n;return E??(null==(n=null==(t=null==(e=null==M?void 0:M.nodesRef.current.find(e=>e.id===T))?void 0:e.context)?void 0:t.dataRef)?void 0:n.current.orientation)},[T,M,E]),ee=zs(e=>{if(F.current=!1,V.current=!0,229===e.which)return;if(!G.current&&e.currentTarget===O.current)return;if(h&&function(e,t,n,r){return"both"===t||"horizontal"===t&&r&&r>1?"Escape"===e:Pg(t,n?e===pl:e===ul,e===fl)}(e.key,k,m,S))return Og(e.key,Q())||Cl(e),n.setOpen(!1,Di(Oi,e.nativeEvent)),void(la(s)&&(v?null==M||M.events.emit("virtualfocus",s):s.focus()));const t=L.current,o=oc(a,w),i=sc(a,w);if(D||("Home"===e.key&&(Cl(e),L.current=o,B(e)),"End"===e.key&&(Cl(e),L.current=i,B(e))),S>1){const t=I||Array.from({length:a.current.length},()=>({width:1,height:1})),n=function(e,t,n){const r=[];let o=0;return e.forEach(({width:e,height:s},i)=>{let a=!1;for(n&&(o=0);!a;){const n=[];for(let r=0;r<e;r+=1)for(let e=0;e<s;e+=1)n.push(o+r+e*t);o%t+e<=t&&n.every(e=>null==r[e])?(n.forEach(e=>{r[e]=i}),a=!0):o+=1}}),[...r]}(t,S,j),r=n.findIndex(e=>null!=e&&!cc(a,e,w)),s=n.reduce((e,t,n)=>null==t||cc(a,t,w)?e:n,-1),l=n[function(e,{event:t,orientation:n,loopFocus:r,rtl:o,cols:s,disabledIndices:i,minIndex:a,maxIndex:l,prevIndex:c,stopEvent:d=!1}){let u=c;const p=[],f={};let g=!1;{let t=null,n=-1;e.current.forEach((e,r)=>{if(null==e)return;const o=e.closest('[role="row"]');o&&(g=!0),o===t&&-1!==n||(t=o,n+=1,p[n]=[]),p[n].push(r),f[r]=n})}const h=g&&p.length>0&&p.some(e=>e.length!==s);function m(t){if(!h||-1===c)return;const n=f[c];if(null==n)return;const o=p[n].indexOf(c);let s="up"===t?n-1:n+1;r&&(s<0?s=p.length-1:s>=p.length&&(s=0));const a=new Set;for(;s>=0&&s<p.length&&!a.has(s);){a.add(s);const n=p[s];if(0!==n.length){for(let t=Math.min(o,n.length-1);t>=0;t-=1){const r=n[t];if(!cc(e,r,i))return r}s="up"===t?s-1:s+1,r&&(s<0?s=p.length-1:s>=p.length&&(s=0))}else s="up"===t?s-1:s+1}}if(t.key===fl){const n=m("up");if(void 0!==n)d&&Cl(t),u=n;else{if(d&&Cl(t),-1===c)u=l;else if(u=ic(e,{startingIndex:u,amount:s,decrement:!0,disabledIndices:i}),r&&(c-s<a||u<0)){const e=c%s,t=l%s,n=l-(t-e);u=t===e?l:t>e?n:n-s}rc(e,u)&&(u=c)}}if(t.key===gl){const n=m("down");void 0!==n?(d&&Cl(t),u=n):(d&&Cl(t),-1===c?u=a:(u=ic(e,{startingIndex:c,amount:s,disabledIndices:i}),r&&c+s>l&&(u=ic(e,{startingIndex:c%s-s,amount:s,disabledIndices:i}))),rc(e,u)&&(u=c))}if("both"===n){const n=Dl(c/s);t.key===(o?ul:pl)&&(d&&Cl(t),c%s!==s-1?(u=ic(e,{startingIndex:c,disabledIndices:i}),r&&nc(u,s,n)&&(u=ic(e,{startingIndex:c-c%s-1,disabledIndices:i}))):r&&(u=ic(e,{startingIndex:c-c%s-1,disabledIndices:i})),nc(u,s,n)&&(u=c)),t.key===(o?pl:ul)&&(d&&Cl(t),c%s!==0?(u=ic(e,{startingIndex:c,decrement:!0,disabledIndices:i}),r&&nc(u,s,n)&&(u=ic(e,{startingIndex:c+(s-c%s),decrement:!0,disabledIndices:i}))):r&&(u=ic(e,{startingIndex:c+(s-c%s),decrement:!0,disabledIndices:i})),nc(u,s,n)&&(u=c));const a=Dl(l/s)===n;rc(e,u)&&(u=r&&a?t.key===(o?pl:ul)?l:ic(e,{startingIndex:c-c%s-1,disabledIndices:i}):c)}return u}({current:n.map(e=>null!=e?a.current[e]:null)},{event:e,orientation:k,loopFocus:g,rtl:m,cols:S,disabledIndices:lc([...("function"!=typeof w?w:null)||a.current.map((e,t)=>cc(a,t,w)?t:void 0),void 0],n),minIndex:r,maxIndex:s,prevIndex:ac(L.current>i?o:L.current,t,n,S,e.key===gl?"bl":e.key===(m?ul:pl)?"tr":"tl"),stopEvent:!0})];if(null!=l&&(L.current=l,B(e)),"both"===k)return}if(Og(e.key,k)){if(Cl(e),r&&!v&&hl(e.currentTarget.ownerDocument)===e.currentTarget)return L.current=Tg(e.key,k,m)?o:i,void B(e);Tg(e.key,k,m)?g?t>=i?f&&t!==a.current.length?L.current=-1:(V.current=!1,L.current=o):L.current=ic(a,{startingIndex:t,disabledIndices:w}):L.current=Math.min(i,ic(a,{startingIndex:t,disabledIndices:w})):g?t<=o?f&&-1!==t?L.current=a.current.length:(V.current=!1,L.current=i):L.current=ic(a,{startingIndex:t,decrement:!0,disabledIndices:w}):L.current=Math.max(o,ic(a,{startingIndex:t,decrement:!0,disabledIndices:w})),rc(a,L.current)&&(L.current=-1),B(e)}}),te=d.useMemo(()=>v&&r&&J&&{"aria-activedescendant":`${R}-${l}`},[v,r,J,R,l]),ne=d.useMemo(()=>({"aria-orientation":"both"===k?void 0:k,...D?{}:te,onKeyDown(e){if("Tab"===e.key&&e.shiftKey&&r&&!v){const t=vl(e.nativeEvent);if(t&&!ml(O.current,t))return;return Cl(e),n.setOpen(!1,Di(Ni,e.nativeEvent)),void(la(s)&&s.focus())}ee(e)},onPointerMove(){F.current=!0}}),[te,ee,O,k,D,n,r,v,s]),re=d.useMemo(()=>{function e(e){"auto"===b&&Il(e.nativeEvent)&&(A.current=!v)}function t(e){A.current=b,"auto"===b&&jl(e.nativeEvent)&&(A.current=!0)}return{onKeyDown(e){const t=n.select("open");F.current=!1;const r=e.key.startsWith("Arrow"),o=function(e,t,n){return Pg(t,n?e===ul:e===pl,e===gl)}(e.key,Q(),m),s=Og(e.key,k),i=(h?o:s)||"Enter"===e.key||""===e.key.trim();if(v&&t)return ee(e);if(t||x||!r){if(i){const t=Og(e.key,Q());z.current=h&&t?null:e.key}h?o&&(Cl(e),t?(L.current=oc(a,W.current),B(e)):n.setOpen(!0,Di(Oi,e.nativeEvent,e.currentTarget))):s&&(null!=K.current&&(L.current=K.current),Cl(e),!t&&x?n.setOpen(!0,Di(Oi,e.nativeEvent,e.currentTarget)):ee(e),t&&B(e))}},onFocus(e){n.select("open")&&!v&&(L.current=-1,B(e))},onPointerDown:t,onPointerEnter:t,onMouseDown:e,onClick:e}},[ee,W,b,a,h,B,n,x,k,Q,m,K,v]),oe=d.useMemo(()=>({...te,...re}),[te,re]);return d.useMemo(()=>u?{reference:oe,floating:ne,item:Z,trigger:re}:{},[u,oe,ne,re,Z])}const Dg=new Map([["select","listbox"],["combobox","listbox"],["label",!1]]);function Ag(e,t={}){const n="rootStore"in e?e.rootStore:e,r=n.useState("open"),o=n.useState("floatingId"),s=n.useState("domReferenceElement"),i=n.useState("floatingElement"),{enabled:a=!0,role:l="dialog"}=t,c=vi(),u=(null==s?void 0:s.id)||c,p=d.useMemo(()=>{var e;return(null==(e=kl(i))?void 0:e.id)||o},[i,o]),f=Dg.get(l)??l,g=null!=Op(),h=d.useMemo(()=>"tooltip"===f||"label"===l?si:{"aria-haspopup":"alertdialog"===f?"dialog":f,"aria-expanded":"false",..."listbox"===f&&{role:"combobox"},..."menu"===f&&g&&{role:"menuitem"},..."select"===l&&{"aria-autocomplete":"none"},..."combobox"===l&&{"aria-autocomplete":"list"}},[f,g,l]),m=d.useMemo(()=>{if("tooltip"===f||"label"===l)return{["aria-"+("label"===l?"labelledby":"describedby")]:r?p:void 0};return{...h,"aria-expanded":r?"true":"false","aria-controls":r?p:void 0,..."menu"===f&&{id:u}}},[f,p,r,u,l,h]),v=d.useMemo(()=>{const e={id:p,...f&&{role:f}};return"tooltip"===f||"label"===l?e:{...e,..."menu"===f&&{"aria-labelledby":u}}},[f,p,u,l]),b=d.useCallback(({active:e,selected:t})=>{const n={role:"option",...e&&{id:`${p}-fui-option`}};switch(l){case"select":case"combobox":return{...n,"aria-selected":t}}return{}},[p,l]);return d.useMemo(()=>a?{reference:m,floating:v,item:b,trigger:h}:{},[a,m,v,h,b])}function Lg(e,t){const[n,r]=e;let o=!1;const s=t.length;for(let i=0,a=s-1;i<s;a=i++){const[e,s]=t[i]||[0,0],[l,c]=t[a]||[0,0];s>=r!=c>=r&&n<=(l-e)*(r-s)/(c-s)+e&&(o=!o)}return o}function zg(e={}){const{buffer:t=.5,blockPointerEvents:n=!1,requireIntent:r=!0}=e,o=new Fa;let s=!1,i=null,a=null,l="undefined"!=typeof performance?performance.now():0;const c=({x:e,y:n,placement:c,elements:d,onClose:u,nodeId:p,tree:f})=>function(g){function h(){o.clear(),u()}if(o.clear(),!d.domReference||!d.floating||null==c||null==e||null==n)return;const{clientX:m,clientY:v}=g,b=[m,v],y=vl(g),x="mouseleave"===g.type,w=ml(d.floating,y),k=ml(d.domReference,y),E=d.domReference.getBoundingClientRect(),S=d.floating.getBoundingClientRect(),C=c.split("-")[0],I=e>S.right-S.width/2,j=n>S.bottom-S.height/2,R=function(e,t){return e[0]>=t.x&&e[0]<=t.x+t.width&&e[1]>=t.y&&e[1]<=t.y+t.height}(b,E),N=S.width>E.width,P=S.height>E.height,O=(N?E:S).left,T=(N?E:S).right,M=(P?E:S).top,D=(P?E:S).bottom;if(w&&(s=!0,!x))return;if(k&&(s=!1),k&&!x)return void(s=!0);if(x&&aa(g.relatedTarget)&&ml(d.floating,g.relatedTarget))return;if(f&&El(f.nodesRef.current,p).some(({context:e})=>null==e?void 0:e.open))return;if("top"===C&&n>=E.bottom-1||"bottom"===C&&n<=E.top+1||"left"===C&&e>=E.right-1||"right"===C&&e<=E.left+1)return h();let A=[];switch(C){case"top":A=[[O,E.top+1],[O,S.bottom-1],[T,S.bottom-1],[T,E.top+1]];break;case"bottom":A=[[O,S.top+1],[O,E.bottom-1],[T,E.bottom-1],[T,S.top+1]];break;case"left":A=[[S.right-1,D],[S.right-1,M],[E.left+1,M],[E.left+1,D]];break;case"right":A=[[E.right-1,D],[E.right-1,M],[S.left+1,M],[S.left+1,D]]}if(!Lg([m,v],A)){if(s&&!R)return h();if(!x&&r){const e=function(e,t){const n=performance.now(),r=n-l;if(null===i||null===a||0===r)return i=e,a=t,l=n,null;const o=e-i,s=t-a,c=Math.sqrt(o*o+s*s);return i=e,a=t,l=n,c/r}(g.clientX,g.clientY);if(null!==e&&e<.1)return h()}Lg([m,v],function([e,n]){switch(C){case"top":return[[N?e+t/2:I?e+4*t:e-4*t,n+t+1],[N?e-t/2:I?e+4*t:e-4*t,n+t+1],...[[S.left,I||N?S.bottom-t:S.top],[S.right,I?N?S.bottom-t:S.top:S.bottom-t]]];case"bottom":return[[N?e+t/2:I?e+4*t:e-4*t,n-t],[N?e-t/2:I?e+4*t:e-4*t,n-t],...[[S.left,I||N?S.top+t:S.bottom],[S.right,I?N?S.top+t:S.bottom:S.top+t]]];case"left":{const r=[e+t+1,P?n+t/2:j?n+4*t:n-4*t],o=[e+t+1,P?n-t/2:j?n+4*t:n-4*t];return[...[[j||P?S.right-t:S.left,S.top],[j?P?S.right-t:S.left:S.right-t,S.bottom]],r,o]}case"right":return[[e-t,P?n+t/2:j?n+4*t:n-4*t],[e-t,P?n-t/2:j?n+4*t:n-4*t],...[[j||P?S.left+t:S.right,S.top],[j?P?S.left+t:S.right:S.left+t,S.bottom]]];default:return[]}}([e,n]))?!s&&r&&o.start(40,h):h()}};return c.__options={blockPointerEvents:n},c}const Fg=d.createContext(void 0);function Bg(e){return d.useContext(Fg)}const $g="ArrowUp",_g="ArrowDown",Hg="ArrowLeft",Vg="ArrowRight",Ug="Home",Wg=new Set([$g,_g,Hg,Vg,Ug,"End"]);function Gg(e){return"starting"===e?ii:si}const qg={...yp,...Yi},Kg=d.forwardRef(function(e,t){const{render:r,className:o,finalFocus:s,...i}=e,{store:a}=lp(),{side:l,align:c}=ip(),u=null!=Bg(),p=a.useState("open"),f=a.useState("transitionStatus"),g=a.useState("popupProps"),h=a.useState("mounted"),m=a.useState("instantType"),v=a.useState("activeTriggerElement"),b=a.useState("parent"),y=a.useState("lastOpenChangeReason"),x=a.useState("rootId"),w=a.useState("floatingRootContext"),k=a.useState("floatingTreeRoot"),E=a.useState("closeDelay"),S=a.useState("activeTriggerElement");La({open:p,ref:a.context.popupRef,onComplete(){var e,t;p&&(null==(t=(e=a.context).onOpenChangeComplete)||t.call(e,!0))}}),d.useEffect(()=>{function e(e){a.setOpen(!1,Di(e.reason,e.domEvent))}return k.events.on("close",e),()=>{k.events.off("close",e)}},[k.events,a]);const C=a.useState("hoverEnabled"),I=a.useState("disabled");Eg(w,{enabled:C&&!I&&"context-menu"!==b.type&&"menubar"!==b.type,closeDelay:E});const j=ui("div",e,{state:d.useMemo(()=>({transitionStatus:f,side:l,align:c,open:p,nested:"menu"===b.type,instant:m}),[f,l,c,p,b.type,m]),ref:[t,a.context.popupRef],stateAttributesMapping:qg,props:[g,{onKeyDown(e){u&&Wg.has(e.key)&&e.stopPropagation()}},Gg(f),i,{"data-rootownerid":x}]});let R=void 0===b.type||"context-menu"===b.type;return(v||"menubar"===b.type&&y!==Ei)&&(R=!0),n.jsx(of,{context:w,modal:!1,disabled:!h,returnFocus:void 0===s?R:s,initialFocus:"menu"!==b.type,restoreFocus:!0,externalTree:"menubar"!==b.type?k:void 0,previousFocusableElement:S,nextFocusableElement:void 0===b.type?a.context.triggerFocusTargetRef:void 0,beforeContentFocusGuardRef:void 0===b.type?a.context.beforeContentFocusGuardRef:void 0,children:j})}),Yg=d.createContext(void 0);const Xg=d.forwardRef(function(e,t){const{keepMounted:r=!1,...o}=e,{store:s}=lp();return s.useState("mounted")||r?n.jsx(Yg.Provider,{value:r,children:n.jsx(Qp,{ref:t,...o})}):null});function Jg(e){return Ws(19)?e:e?"true":void 0}const Zg=e=>({name:"arrow",options:e,async fn(t){var n,r;const{x:o,y:s,placement:i,rects:a,platform:l,elements:c,middlewareData:d}=t,{element:u,padding:p=0,offsetParent:f="real"}=Bl(e,t)||{};if(null==u)return{};const g=ec(p),h={x:o,y:s},m=Gl(i),v=Vl(m),b=await l.getDimensions(u),y="y"===m,x=y?"top":"left",w=y?"bottom":"right",k=y?"clientHeight":"clientWidth",E=a.reference[v]+a.reference[m]-h[m]-a.floating[v],S=h[m]-a.reference[m],C="real"===f?await(null==(n=l.getOffsetParent)?void 0:n.call(l,u)):c.floating;let I=c.floating[k]||a.floating[v];I&&await(null==(r=l.isElement)?void 0:r.call(l,C))||(I=c.floating[k]||a.floating[v]);const j=E/2-S/2,R=I/2-b[v]/2-1,N=Math.min(g[x],R),P=Math.min(g[w],R),O=N,T=I-b[v]-P,M=I/2-b[v]/2+j,D=Fl(O,M,T),A=!d.arrow&&null!=_l(i)&&M!==D&&a.reference[v]/2-(M<O?N:P)-b[v]/2<0,L=A?M<O?M-O:M-T:0;return{[m]:h[m]+L,data:{[m]:D,centerOffset:M-D-L,...A&&{alignmentOffset:L}},reset:A}}}),Qg={name:"hide",async fn(e){var t;const{width:n,height:r,x:o,y:s}=e.rects.reference,i=0===n&&0===r&&0===o&&0===s;var a,l;return{data:{referenceHidden:(null==(t=(await{...Df(a),options:[a,l]}.fn(e)).data)?void 0:t.referenceHidden)||i}}}},eh={sideX:"left",sideY:"top"},th={name:"adaptiveOrigin",async fn(e){var t,n;const{x:r,y:o,rects:{floating:s},elements:{floating:i},platform:a,strategy:l,placement:c}=e,d=oa(i),u=d.getComputedStyle(i);if(!("0s"!==u.transitionDuration&&""!==u.transitionDuration))return{x:r,y:o,data:eh};const p=await(null==(t=a.getOffsetParent)?void 0:t.call(a,i));let f={width:0,height:0};if("fixed"===l&&(null==d?void 0:d.visualViewport))f={width:d.visualViewport.width,height:d.visualViewport.height};else if(p===d){const e=Bp(i);f={width:e.documentElement.clientWidth,height:e.documentElement.clientHeight}}else await(null==(n=a.isElement)?void 0:n.call(a,p))&&(f=await a.getDimensions(p));const g=$l(c);let h=r,m=o;"left"===g&&(h=f.width-(r+s.width)),"top"===g&&(m=f.height-(o+s.height));return{x:h,y:m,data:{sideX:"left"===g?"right":eh.sideX,sideY:"top"===g?"bottom":eh.sideY}}}};function nh(e,t,n){const r="inline-start"===e||"inline-end"===e;return{top:"top",right:r?n?"inline-start":"inline-end":"right",bottom:"bottom",left:r?n?"inline-end":"inline-start":"left"}[t]}function rh(e,t,n){const{rects:r,placement:o}=e;return{side:nh(t,$l(o),n),align:_l(o)||"center",anchor:{width:r.reference.width,height:r.reference.height},positioner:{width:r.floating.width,height:r.floating.height}}}function oh(e){var t,n;const{anchor:r,positionMethod:o="absolute",side:s="bottom",sideOffset:i=0,align:a="center",alignOffset:l=0,collisionBoundary:c,collisionPadding:u=5,sticky:p=!1,arrowPadding:f=5,disableAnchorTracking:g=!1,keepMounted:h=!1,floatingRootContext:m,mounted:v,collisionAvoidance:b,shiftCrossAxis:y=!1,nodeId:x,adaptiveOrigin:w,lazyFlip:k=!1,externalTree:E}=e,[S,C]=d.useState(null);v||null===S||C(null);const I=b.side||"flip",j=b.align||"flip",R=b.fallbackAxisSide||"end",N="function"==typeof r?r:void 0,P=zs(N),O=N?P:r,T=Da(r),M="rtl"===Wc(),D=S||{top:"top",right:"right",bottom:"bottom",left:"left","inline-end":M?"left":"right","inline-start":M?"right":"left"}[s],A="center"===a?D:`${D}-${a}`;let L=u;const z="bottom"===s?1:0,F="top"===s?1:0,B="right"===s?1:0,$="left"===s?1:0;"number"==typeof L?L={top:L+z,right:L+$,bottom:L+F,left:L+B}:L&&(L={top:(L.top||0)+z,right:(L.right||0)+$,bottom:(L.bottom||0)+F,left:(L.left||0)+B});const _={boundary:"clipping-ancestors"===c?"clippingAncestors":c,padding:L},H=d.useRef(null),V=Da(i),U=Da(l),W=[(G=e=>{const t=rh(e,s,M),n="function"==typeof V.current?V.current(t):V.current,r="function"==typeof U.current?U.current(t):U.current;return{mainAxis:n,crossAxis:r,alignmentAxis:r}},q=["function"!=typeof i?i:0,"function"!=typeof l?l:0,M,s],{...Pf(G),options:[G,q]})];var G,q;const K="none"===j&&"shift"!==I,Y=!K&&(p||y||"shift"===I),X="none"===I?null:((e,t)=>({...Tf(e),options:[e,t]}))({..._,padding:{top:L.top+1,right:L.right+1,bottom:L.bottom+1,left:L.left+1},mainAxis:!y&&"flip"===I,crossAxis:"flip"===j&&"alignment",fallbackAxisSideDirection:R}),J=K?null:((e,t)=>({...Of(e),options:[e,t]}))(e=>{const t=Bp(e.elements.floating).documentElement;return{..._,rootBoundary:y?{x:0,y:0,width:t.clientWidth,height:t.clientHeight}:void 0,mainAxis:"none"!==j,crossAxis:Y,limiter:p||y?void 0:Hf(e=>{if(!H.current)return{};const{width:t,height:n}=H.current.getBoundingClientRect(),r=Wl($l(e.placement));return{offset:("y"===r?t:n)/2+("y"===r?L.left+L.right:L.top+L.bottom)/2}})}},[_,p,y,L,j]);"shift"===I||"shift"===j||"center"===a?W.push(J,X):W.push(X,J),W.push(((e,t)=>({...Mf(e),options:[e,t]}))({..._,apply({elements:{floating:e},rects:{reference:t},availableWidth:n,availableHeight:r}){Object.entries({"--available-width":`${n}px`,"--available-height":`${r}px`,"--anchor-width":`${t.width}px`,"--anchor-height":`${t.height}px`}).forEach(([t,n])=>{e.style.setProperty(t,n)})}}),((e,t)=>({...Zg(e),options:[e,t]}))(()=>({element:H.current||document.createElement("div"),padding:f,offsetParent:"floating"}),[f]),{name:"transformOrigin",fn(e){var t,n,r;const{elements:o,middlewareData:a,placement:l,rects:c,y:d}=e,u=$l(l),p=Wl(u),f=H.current,g=(null==(t=a.arrow)?void 0:t.x)||0,h=(null==(n=a.arrow)?void 0:n.y)||0,m=g+((null==f?void 0:f.clientWidth)||0)/2,v=h+((null==f?void 0:f.clientHeight)||0)/2,b=Math.abs((null==(r=a.shift)?void 0:r.y)||0),y=c.reference.height/2,x="function"==typeof i?i(rh(e,s,M)):i,w=b>x,k={top:`${m}px calc(100% + ${x}px)`,bottom:`${m}px ${-x}px`,left:`calc(100% + ${x}px) ${v}px`,right:`${-x}px ${v}px`}[u],E=`${m}px ${c.reference.y+y-d}px`;return o.floating.style.setProperty("--transform-origin",Y&&"y"===p&&w?E:k),{}}},Qg,w),fi(()=>{!v&&m&&m.update({referenceElement:null,floatingElement:null,domReferenceElement:null})},[v,m]);const Z=d.useMemo(()=>({elementResize:!g&&"undefined"!=typeof ResizeObserver,layoutShift:!g&&"undefined"!=typeof IntersectionObserver}),[g]),{refs:Q,elements:ee,x:te,y:ne,middlewareData:re,update:oe,placement:se,context:ie,isPositioned:ae,floatingStyles:le}=hg({rootContext:m,placement:A,middleware:W,strategy:o,whileElementsMounted:h?void 0:(...e)=>Nf(...e,Z),nodeId:x,externalTree:E}),{sideX:ce,sideY:de}=re.adaptiveOrigin||eh,ue=ae?o:"fixed",pe=d.useMemo(()=>w?{position:ue,[ce]:te,[de]:ne}:{position:ue,...le},[w,ue,ce,te,de,ne,le]),fe=d.useRef(null);fi(()=>{if(!v)return;const e=T.current,t="function"==typeof e?e():e,n=(sh(t)?t.current:t)||null||null;n!==fe.current&&(Q.setPositionReference(n),fe.current=n)},[v,Q,O,T]),d.useEffect(()=>{if(!v)return;const e=T.current;"function"!=typeof e&&sh(e)&&e.current!==fe.current&&(Q.setPositionReference(e.current),fe.current=e.current)},[v,Q,O,T]),d.useEffect(()=>{if(h&&v&&ee.domReference&&ee.floating)return Nf(ee.domReference,ee.floating,oe,Z)},[h,v,ee,oe,Z]);const ge=$l(se),he=nh(s,ge,M),me=_l(se)||"center",ve=Boolean(null==(t=re.hide)?void 0:t.referenceHidden);fi(()=>{k&&v&&ae&&C(ge)},[k,v,ae,ge]);const be=d.useMemo(()=>{var e,t;return{position:"absolute",top:null==(e=re.arrow)?void 0:e.y,left:null==(t=re.arrow)?void 0:t.x}},[re.arrow]),ye=0!==(null==(n=re.arrow)?void 0:n.centerOffset);return d.useMemo(()=>({positionerStyles:pe,arrowStyles:be,arrowRef:H,arrowUncentered:ye,side:he,align:me,physicalSide:ge,anchorHidden:ve,refs:Q,context:ie,isPositioned:ae,update:oe}),[pe,be,H,ye,he,me,ge,ve,Q,ie,ae,oe])}function sh(e){return null!=e&&"current"in e}function ih(e){const{children:t,elementsRef:r,labelsRef:o,onMapChange:s}=e,i=zs(s),a=d.useRef(0),l=Ds(lh).current,c=Ds(ah).current,[u,p]=d.useState(0),f=d.useRef(u),g=zs((e,t)=>{c.set(e,t??null),f.current+=1,p(f.current)}),h=zs(e=>{c.delete(e),f.current+=1,p(f.current)}),m=d.useMemo(()=>{const e=new Map;return Array.from(c.keys()).filter(e=>e.isConnected).sort(ch).forEach((t,n)=>{const r=c.get(t)??{};e.set(t,{...r,index:n})}),e},[c,u]);fi(()=>{if("function"!=typeof MutationObserver||0===m.size)return;const e=new MutationObserver(e=>{const t=new Set,n=e=>t.has(e)?t.delete(e):t.add(e);e.forEach(e=>{e.removedNodes.forEach(n),e.addedNodes.forEach(n)}),0===t.size&&(f.current+=1,p(f.current))});return m.forEach((t,n)=>{n.parentElement&&e.observe(n.parentElement,{childList:!0})}),()=>{e.disconnect()}},[m]),fi(()=>{f.current===u&&(r.current.length!==m.size&&(r.current.length=m.size),o&&o.current.length!==m.size&&(o.current.length=m.size),a.current=m.size),i(m)},[i,m,r,o,u]),fi(()=>()=>{r.current=[]},[r]),fi(()=>()=>{o&&(o.current=[])},[o]);const v=zs(e=>(l.add(e),()=>{l.delete(e)}));fi(()=>{l.forEach(e=>e(m))},[l,m]);const b=d.useMemo(()=>({register:g,unregister:h,subscribeMapChange:v,elementsRef:r,labelsRef:o,nextIndexRef:a}),[g,h,v,r,o,a]);return n.jsx(Ep.Provider,{value:b,children:t})}function ah(){return new Map}function lh(){return new Set}function ch(e,t){const n=e.compareDocumentPosition(t);return n&Node.DOCUMENT_POSITION_FOLLOWING||n&Node.DOCUMENT_POSITION_CONTAINED_BY?-1:n&Node.DOCUMENT_POSITION_PRECEDING||n&Node.DOCUMENT_POSITION_CONTAINS?1:0}const dh=d.forwardRef(function(e,t){const{cutout:r,...o}=e;let s;if(r){const e=null==r?void 0:r.getBoundingClientRect();s=`polygon(\n      0% 0%,\n      100% 0%,\n      100% 100%,\n      0% 100%,\n      0% 0%,\n      ${e.left}px ${e.top}px,\n      ${e.left}px ${e.bottom}px,\n      ${e.right}px ${e.bottom}px,\n      ${e.right}px ${e.top}px,\n      ${e.left}px ${e.top}px\n    )`}return n.jsx("div",{ref:t,role:"presentation","data-base-ui-inert":"",...o,style:{position:"fixed",inset:0,userSelect:"none",WebkitUserSelect:"none",clipPath:s}})}),uh=d.forwardRef(function(e,t){var r;const{anchor:o,positionMethod:s="absolute",className:i,render:a,side:l,align:c,sideOffset:u=0,alignOffset:p=0,collisionBoundary:f="clipping-ancestors",collisionPadding:g=5,arrowPadding:h=5,sticky:m=!1,disableAnchorTracking:v=!1,collisionAvoidance:b=li,...y}=e,{store:x}=lp(),w=function(){const e=d.useContext(Yg);if(void 0===e)throw new Error($s(32));return e}(),k=wp(!0),E=x.useState("parent"),S=x.useState("floatingRootContext"),C=x.useState("floatingTreeRoot"),I=x.useState("mounted"),j=x.useState("open"),R=x.useState("modal"),N=x.useState("activeTriggerElement"),P=x.useState("lastOpenChangeReason"),O=x.useState("floatingNodeId"),T=x.useState("floatingParentNodeId");let M=o,D=u,A=p,L=c;"context-menu"===E.type&&(M=o??(null==(r=E.context)?void 0:r.anchor),L=L??"start",l||"center"===L||(A=e.alignOffset??2,D=e.sideOffset??-5));let z=l,F=L;"menu"===E.type?(z=z??"inline-end",F=F??"start"):"menubar"===E.type&&(z=z??"bottom",F=F??"start");const B="context-menu"===E.type,$=oh({anchor:M,floatingRootContext:S,positionMethod:k?"fixed":s,mounted:I,side:z,sideOffset:D,align:F,alignOffset:A,arrowPadding:B?0:h,collisionBoundary:f,collisionPadding:g,sticky:m,nodeId:O,keepMounted:w,disableAnchorTracking:v,collisionAvoidance:b,shiftCrossAxis:B,externalTree:C}),_=d.useMemo(()=>{const e={};return j||(e.pointerEvents="none"),{role:"presentation",hidden:!I,style:{...$.positionerStyles,...e}}},[j,I,$.positionerStyles]);d.useEffect(()=>{function e(e){e.open?(e.parentNodeId===O&&x.set("hoverEnabled",!1),e.nodeId!==O&&e.parentNodeId===x.select("floatingParentNodeId")&&x.setOpen(!1,Di(Ti))):e.parentNodeId===O&&e.reason!==Ti&&x.set("hoverEnabled",!0)}return C.events.on("menuopenchange",e),()=>{C.events.off("menuopenchange",e)}},[x,C.events,O]),d.useEffect(()=>{if(null!=x.select("floatingParentNodeId"))return C.events.on("menuopenchange",e),()=>{C.events.off("menuopenchange",e)};function e(e){if(e.open||e.nodeId!==x.select("floatingParentNodeId"))return;const t=e.reason??Ti;x.setOpen(!1,Di(t))}},[C.events,x]),d.useEffect(()=>{function e(e){j&&e.nodeId===x.select("floatingParentNodeId")&&e.target&&N&&N!==e.target&&x.setOpen(!1,Di(Ti))}return C.events.on("itemhover",e),()=>{C.events.off("itemhover",e)}},[C.events,j,N,x]),d.useEffect(()=>{const e={open:j,nodeId:O,parentNodeId:T,reason:x.select("lastOpenChangeReason")};C.events.emit("menuopenchange",e)},[C.events,j,x,O,T]);const H=d.useMemo(()=>({open:j,side:$.side,align:$.align,anchorHidden:$.anchorHidden,nested:"menu"===E.type}),[j,$.side,$.align,$.anchorHidden,E.type]),V=d.useMemo(()=>({side:$.side,align:$.align,arrowRef:$.arrowRef,arrowUncentered:$.arrowUncentered,arrowStyles:$.arrowStyles,nodeId:$.context.nodeId}),[$.side,$.align,$.arrowRef,$.arrowUncentered,$.arrowStyles,$.context.nodeId]),U=ui("div",e,{state:H,stateAttributesMapping:yp,ref:[t,x.useStateSetter("positionerElement")],props:[_,y]}),W=I&&"menu"!==E.type&&("menubar"!==E.type&&R&&P!==wi||"menubar"===E.type&&E.context.modal);let G=null;return"menubar"===E.type?G=E.context.contentElement:void 0===E.type&&(G=N),n.jsxs(sp.Provider,{value:V,children:[W&&n.jsx(dh,{ref:"context-menu"===E.type||"nested-context-menu"===E.type?E.context.internalBackdropRef:null,inert:Jg(!j),cutout:G}),n.jsx(Dp,{id:O,children:n.jsx(ih,{elementsRef:x.context.itemDomElements,labelsRef:x.context.itemLabels,children:U})})]})});let ph={},fh={},gh="";const hh=new class{constructor(){t(this,"lockCount",0),t(this,"restore",null),t(this,"timeoutLock",Fa.create()),t(this,"timeoutUnlock",Fa.create()),t(this,"release",()=>{this.lockCount-=1,0===this.lockCount&&this.restore&&this.timeoutUnlock.start(0,this.unlock)}),t(this,"unlock",()=>{var e;0===this.lockCount&&this.restore&&(null==(e=this.restore)||e.call(this),this.restore=null)})}acquire(e){return this.lockCount+=1,1===this.lockCount&&null===this.restore&&this.timeoutLock.start(0,()=>this.lock(e)),this.release}lock(e){if(0===this.lockCount||null!==this.restore)return;const t=Bp(e).documentElement,n=oa(t).getComputedStyle(t).overflowY;if("hidden"===n||"clip"===n)return void(this.restore=ri);const r=tl||!function(e){if("undefined"==typeof document)return!1;const t=Bp(e);return oa(t).innerWidth-t.documentElement.clientWidth>0}(e);this.restore=r?function(e){const t=Bp(e),n=t.documentElement,r=t.body,o=ua(n)?n:r,s=o.style.overflow;return o.style.overflow="hidden",()=>{o.style.overflow=s}}(e):function(e){var t,n;const r=Bp(e),o=r.documentElement,s=r.body,i=oa(o);let a=0,l=0;const c=$i.create(),d="undefined"!=typeof CSS&&(null==(t=CSS.supports)?void 0:t.call(CSS,"scrollbar-gutter","stable"));if(el&&1!==((null==(n=i.visualViewport)?void 0:n.scale)??1))return()=>{};function u(){const e=i.getComputedStyle(o),t=i.getComputedStyle(s),n=(e.scrollbarGutter||"").includes("both-edges")?"stable both-edges":"stable";a=o.scrollTop,l=o.scrollLeft,ph={scrollbarGutter:o.style.scrollbarGutter,overflowY:o.style.overflowY,overflowX:o.style.overflowX},gh=o.style.scrollBehavior,fh={position:s.style.position,height:s.style.height,width:s.style.width,boxSizing:s.style.boxSizing,overflowY:s.style.overflowY,overflowX:s.style.overflowX,scrollBehavior:s.style.scrollBehavior};const r=o.scrollHeight>o.clientHeight,c=o.scrollWidth>o.clientWidth,u="scroll"===e.overflowY||"scroll"===t.overflowY,p="scroll"===e.overflowX||"scroll"===t.overflowX,f=Math.max(0,i.innerWidth-o.clientWidth),g=Math.max(0,i.innerHeight-o.clientHeight),h=parseFloat(t.marginTop)+parseFloat(t.marginBottom),m=parseFloat(t.marginLeft)+parseFloat(t.marginRight),v=ua(o)?o:s;if(d)return o.style.scrollbarGutter=n,v.style.overflowY="hidden",void(v.style.overflowX="hidden");Object.assign(o.style,{scrollbarGutter:n,overflowY:"hidden",overflowX:"hidden"}),(r||u)&&(o.style.overflowY="scroll"),(c||p)&&(o.style.overflowX="scroll"),Object.assign(s.style,{position:"relative",height:h||g?`calc(100dvh - ${h+g}px)`:"100dvh",width:m||f?`calc(100vw - ${m+f}px)`:"100vw",boxSizing:"border-box",overflow:"hidden",scrollBehavior:"unset"}),s.scrollTop=a,s.scrollLeft=l,o.setAttribute("data-base-ui-scroll-locked",""),o.style.scrollBehavior="unset"}function p(){Object.assign(o.style,ph),Object.assign(s.style,fh),d||(o.scrollTop=a,o.scrollLeft=l,o.removeAttribute("data-base-ui-scroll-locked"),o.style.scrollBehavior=gh)}function f(){p(),c.request(u)}return u(),i.addEventListener("resize",f),()=>{c.cancel(),p(),"function"==typeof i.removeEventListener&&i.removeEventListener("resize",f)}}(e)}};function mh(e=!0,t=null){fi(()=>{if(e)return hh.acquire(t)},[e,t])}const vh=d.createContext(null);function bh(e){return d.useContext(vh)}function yh(e){const[t,n]=d.useState(null),r=zs((t,r)=>{e||n(r)}),o=d.useCallback(()=>{n(null)},[]),{onClick:s,onPointerDown:i}=function(e){const t=d.useRef(""),n=d.useCallback(n=>{n.defaultPrevented||(t.current=n.pointerType,e(n,n.pointerType))},[e]);return{onClick:d.useCallback(n=>{0!==n.detail?("pointerType"in n&&e(n,n.pointerType),e(n,t.current),t.current=""):e(n,"keyboard")},[e]),onPointerDown:n}}(r);return d.useMemo(()=>({openMethod:t,reset:o,triggerProps:{onClick:s,onPointerDown:i}}),[t,o,s,i])}const xh={...fg,disabled:tg(e=>"menubar"===e.parent.type&&e.parent.context.disabled||e.disabled),modal:tg(e=>(void 0===e.parent.type||"context-menu"===e.parent.type)&&(e.modal??!0)),allowMouseEnter:tg(e=>"menu"===e.parent.type?e.parent.store.select("allowMouseEnter"):e.allowMouseEnter),stickIfOpen:tg(e=>e.stickIfOpen),parent:tg(e=>e.parent),rootId:tg(e=>"menu"===e.parent.type?e.parent.store.select("rootId"):void 0!==e.parent.type?e.parent.context.rootId:e.rootId),activeIndex:tg(e=>e.activeIndex),isActive:tg((e,t)=>e.activeIndex===t),hoverEnabled:tg(e=>e.hoverEnabled),instantType:tg(e=>e.instantType),lastOpenChangeReason:tg(e=>e.openChangeReason),floatingTreeRoot:tg(e=>"menu"===e.parent.type?e.parent.store.select("floatingTreeRoot"):e.floatingTreeRoot),floatingNodeId:tg(e=>e.floatingNodeId),floatingParentNodeId:tg(e=>e.floatingParentNodeId),itemProps:tg(e=>e.itemProps),closeDelay:tg(e=>e.closeDelay),keyboardEventRelay:tg(e=>e.keyboardEventRelay?e.keyboardEventRelay:"menu"===e.parent.type?e.parent.store.select("keyboardEventRelay"):void 0)};class wh extends sg{constructor(e){super({...{...pg(),disabled:!1,modal:!0,allowMouseEnter:!0,stickIfOpen:!0,parent:{type:void 0},rootId:void 0,activeIndex:null,hoverEnabled:!0,instantType:void 0,openChangeReason:null,floatingTreeRoot:new Rp,floatingNodeId:void 0,floatingParentNodeId:null,itemProps:si,keyboardEventRelay:void 0,closeDelay:0},...e},{positionerRef:d.createRef(),popupRef:d.createRef(),typingRef:{current:!1},itemDomElements:{current:[]},itemLabels:{current:[]},allowMouseUpTriggerRef:{current:!1},triggerFocusTargetRef:d.createRef(),beforeContentFocusGuardRef:d.createRef(),onOpenChangeComplete:void 0,triggerElements:new ug},xh),t(this,"unsubscribeParentListener",null),this.observe(tg(e=>e.allowMouseEnter),(e,t)=>{"menu"===this.state.parent.type&&e!==t&&this.state.parent.store.set("allowMouseEnter",e)}),this.unsubscribeParentListener=this.observe("parent",e=>{var t;if(null==(t=this.unsubscribeParentListener)||t.call(this),"menu"===e.type)return this.unsubscribeParentListener=e.store.subscribe(()=>{this.notifyAll()}),void(this.context.allowMouseUpTriggerRef=e.store.context.allowMouseUpTriggerRef);void 0!==e.type&&(this.context.allowMouseUpTriggerRef=e.context.allowMouseUpTriggerRef),this.unsubscribeParentListener=null})}setOpen(e,t){this.state.floatingRootContext.context.events.emit("setOpen",{open:e,eventDetails:t})}static useStore(e,t){return Ds(()=>e??new wh(t)).current}}const kh=d.createContext(void 0);function Eh(e){const{children:t,open:r,onOpenChange:o,onOpenChangeComplete:s,defaultOpen:i=!1,disabled:a=!1,modal:l,loopFocus:u=!0,orientation:p="vertical",actionsRef:f,closeParentOnEsc:g=!0,handle:h,triggerId:m,defaultTriggerId:v=null,highlightItemOnHover:b=!0}=e,y=wp(!0),x=lp(!0),w=bh(),k=d.useContext(kh),E=d.useMemo(()=>k&&x?{type:"menu",store:x.store}:w?{type:"menubar",context:w}:y&&!x?{type:"context-menu",context:y}:{type:void 0},[y,x,w,k]),S=wh.useStore(null==h?void 0:h.store,{parent:E}),C=S.useState("floatingTreeRoot"),I=Mp(C),j=Op();fi(()=>{y&&!x?S.update({parent:{type:"context-menu",context:y},floatingNodeId:I,floatingParentNodeId:j}):x&&S.update({floatingNodeId:I,floatingParentNodeId:j})},[y,x,I,j,S]),S.useControlledProp("open",r,i),S.useControlledProp("activeTriggerId",m,v),S.useContextCallback("onOpenChangeComplete",s);const R=S.useState("open"),N=S.useState("activeTriggerElement"),P=S.useState("positionerElement"),O=S.useState("hoverEnabled"),T=S.useState("modal"),M=S.useState("disabled"),D=S.useState("lastOpenChangeReason"),A=S.useState("parent"),L=S.useState("activeIndex"),z=S.useState("payload"),F=S.useState("floatingParentNodeId"),B=d.useRef(null),$=null!=F;let _;S.useSyncedValues({disabled:a,modal:void 0===A.type?l:void 0,rootId:vi()});const{openMethod:H,triggerProps:V,reset:U}=yh(R);cg(S);const{forceUnmount:W}=dg(R,S,()=>{S.update({allowMouseEnter:!1,stickIfOpen:!0}),U()}),G=d.useRef("context-menu"!==A.type),q=Ba();d.useEffect(()=>{if(R||(B.current=null),"context-menu"===A.type)return R?void q.start(500,()=>{G.current=!0}):(q.clear(),void(G.current=!1))},[q,R,A.type]),mh(R&&T&&D!==wi&&"touch"!==H,P),fi(()=>{R||O||S.set("hoverEnabled",!0)},[R,O,S]);const K=d.useRef(!0),Y=Ba(),X=zs((e,t)=>{const n=t.reason;if(R===e&&t.trigger===N)return;if(t.preventUnmountOnClose=()=>{S.set("preventUnmountingOnClose",!0)},e||null!=t.trigger||(t.trigger=N??void 0),null==o||o(e,t),t.isCanceled)return;const r={open:e,nativeEvent:t.event,reason:t.reason,nested:$};null==_||_.emit("openchange",r);const s=t.event;if(!1===e&&"click"===(null==s?void 0:s.type)&&"touch"===s.pointerType&&!K.current)return;if(!e&&null!==L){const e=S.context.itemDomElements.current[L];queueMicrotask(()=>{null==e||e.setAttribute("tabindex","-1")})}e&&n===ki?(K.current=!1,Y.start(300,()=>{K.current=!0})):(K.current=!0,Y.clear());const i=(n===xi||n===Si)&&0===s.detail&&(null==s?void 0:s.isTrusted),a=!e&&(n===Pi||null==n);function l(){var r;const o={open:e,openChangeReason:n};B.current=t.event??null;const s=(null==(r=t.trigger)?void 0:r.id)??null;(s||e)&&(o.activeTriggerId=s,o.activeTriggerElement=t.trigger??null),S.update(o)}n===wi?c.flushSync(l):l(),"menubar"!==A.type||n!==ki&&n!==Ni&&n!==wi&&n!==Oi&&n!==Ti?i||a?S.set("instantType",i?"click":"dismiss"):S.set("instantType",void 0):S.set("instantType","group")}),J=d.useCallback(e=>{const t=Di(e);return t.preventUnmountOnClose=()=>{S.set("preventUnmountingOnClose",!0)},t},[S]),Z=d.useCallback(()=>{S.setOpen(!1,J(Mi))},[S,J]);let Q;d.useImperativeHandle(f,()=>({unmount:W,close:Z}),[W,Z]),"context-menu"===A.type&&(Q=A.context),d.useImperativeHandle(null==Q?void 0:Q.positionerRef,()=>P,[P]),d.useImperativeHandle(null==Q?void 0:Q.actionsRef,()=>({setOpen:X}),[X]);const ee=mg({popupStore:S,onOpenChange:X});_=ee.context.events,d.useEffect(()=>{const e=({open:e,eventDetails:t})=>X(e,t);return _.on("setOpen",e),()=>{null==_||_.off("setOpen",e)}},[_,X]);const te=Uf(ee,{enabled:!M,bubbles:g&&"menu"===A.type,outsidePress(){var e;return"context-menu"!==A.type||"contextmenu"===(null==(e=B.current)?void 0:e.type)||G.current},externalTree:$?C:void 0}),ne=Ag(ee,{role:"menu"}),re=Wc(),oe=d.useCallback(e=>{S.select("activeIndex")!==e&&S.set("activeIndex",e)},[S]),se=Mg(ee,{enabled:!M,listRef:S.context.itemDomElements,activeIndex:L,nested:void 0!==A.type,loopFocus:u,orientation:p,parentOrientation:"menubar"===A.type?A.context.orientation:void 0,rtl:"rtl"===re,disabledIndices:oi,onNavigate:oe,openOnArrowKeyDown:"context-menu"!==A.type,externalTree:$?C:void 0,focusItemOnHover:b}),ie=d.useCallback(e=>{S.context.typingRef.current=e},[S]),ae=function(e,t){const n="rootStore"in e?e.rootStore:e,r=n.useState("open"),o=n.context.dataRef,{listRef:s,activeIndex:i,onMatch:a,onTypingChange:l,enabled:c=!0,findMatch:u=null,resetMs:p=750,ignoreKeys:f=oi,selectedIndex:g=null}=t,h=Ba(),m=d.useRef(""),v=d.useRef(g??i??-1),b=d.useRef(null);fi(()=>{r&&(h.clear(),b.current=null,m.current="")},[r,h]),fi(()=>{r&&""===m.current&&(v.current=g??i??-1)},[r,g,i]);const y=zs(e=>{e?o.current.typing||(o.current.typing=e,null==l||l(e)):o.current.typing&&(o.current.typing=e,null==l||l(e))}),x=zs(e=>{function t(e,t,n){const r=u?u(t,n):t.find(e=>0===(null==e?void 0:e.toLocaleLowerCase().indexOf(n.toLocaleLowerCase())));return r?e.indexOf(r):-1}const n=s.current;if(m.current.length>0&&" "!==m.current[0]&&(-1===t(n,n,m.current)?y(!1):" "===e.key&&Cl(e)),null==n||f.includes(e.key)||1!==e.key.length||e.ctrlKey||e.metaKey||e.altKey)return;r&&" "!==e.key&&(Cl(e),y(!0)),n.every(e=>{var t,n;return!e||(null==(t=e[0])?void 0:t.toLocaleLowerCase())!==(null==(n=e[1])?void 0:n.toLocaleLowerCase())})&&m.current===e.key&&(m.current="",v.current=b.current),m.current+=e.key,h.start(p,()=>{m.current="",v.current=b.current,y(!1)});const o=v.current,i=t(n,[...n.slice((o||0)+1),...n.slice(0,(o||0)+1)],m.current);-1!==i?(null==a||a(i),b.current=i):" "!==e.key&&(m.current="",y(!1))}),w=d.useMemo(()=>({onKeyDown:x}),[x]),k=d.useMemo(()=>({onKeyDown:x,onKeyUp(e){" "===e.key&&y(!1)}}),[x,y]);return d.useMemo(()=>c?{reference:w,floating:k}:{},[c,w,k])}(ee,{listRef:S.context.itemLabels,activeIndex:L,resetMs:500,onMatch:e=>{R&&e!==L&&S.set("activeIndex",e)},onTypingChange:ie}),{getReferenceProps:le,getFloatingProps:ce,getItemProps:de,getTriggerProps:ue}=jg([te,ne,se,ae]),pe=d.useMemo(()=>{const e=Ys(le(),{onMouseEnter(){S.set("hoverEnabled",!0)},onMouseMove(){S.set("allowMouseEnter",!0)}},V);return delete e.role,e},[le,S,V]),fe=d.useMemo(()=>{const e=ue();if(!e)return e;const{role:t,"aria-controls":n,...r}=e;return r},[ue]),ge=_i(),he=d.useMemo(()=>ce({onMouseEnter(){"menu"===A.type&&ge.request(()=>S.set("hoverEnabled",!1))},onMouseMove(){S.set("allowMouseEnter",!0)},onClick(){S.select("hoverEnabled")&&S.set("hoverEnabled",!1)},onKeyDown(e){const t=S.select("keyboardEventRelay");t&&!e.isPropagationStopped()&&t(e)}}),[ce,A.type,ge,S]),me=d.useMemo(()=>de(),[de]);S.useSyncedValues({floatingRootContext:ee,activeTriggerProps:pe,inactiveTriggerProps:fe,popupProps:he,itemProps:me});const ve=d.useMemo(()=>({store:S,parent:E}),[S,E]),be=n.jsx(ap.Provider,{value:ve,children:"function"==typeof t?t({payload:z}):t});return void 0===A.type||"context-menu"===A.type?n.jsx(Ap,{externalTree:C,children:be}):be}function Sh(e){const{render:t,className:n,state:r=si,props:o=oi,refs:s=oi,metadata:i,stateAttributesMapping:a,tag:l="div",...c}=e,{compositeProps:u,compositeRef:p}=function(e={}){const{highlightItemOnHover:t,highlightedIndex:n,onHighlightedIndexChange:r}=Pa(),{ref:o,index:s}=Cp(e),i=n===s,a=d.useRef(null),l=_s(o,a);return{compositeProps:d.useMemo(()=>({tabIndex:i?0:-1,onFocus(){r(s)},onMouseMove(){const e=a.current;if(!t||!e)return;const n=e.hasAttribute("disabled")||"true"===e.ariaDisabled;i||n||e.focus()}}),[i,r,s,t]),compositeRef:l,index:s}}({metadata:i});return ui(l,e,{state:r,ref:[...s,p],props:[u,...o,c],stateAttributesMapping:a})}function Ch(e){return la(e)&&e.hasAttribute("data-rootownerid")?e.getAttribute("data-rootownerid")??void 0:ka(e)?void 0:Ch(Ca(e))}const Ih=d.forwardRef(function(e,t){const{render:r,className:o,disabled:s=!1,nativeButton:i=!0,id:a,openOnHover:l,delay:u=100,closeDelay:p=0,handle:f,payload:g,...h}=e,m=lp(!0),v=(null==f?void 0:f.store)??(null==m?void 0:m.store);if(!v)throw new Error($s(85));const b=bi(a),y=v.useState("isTriggerActive",b),x=v.useState("floatingRootContext"),w=v.useState("isOpenedByTrigger",b),k=d.useRef(null),E=function(){const e=wp(!0),t=lp(!0),n=bh(),r=d.useMemo(()=>n?{type:"menubar",context:n}:e&&!t?{type:"context-menu",context:e}:{type:void 0},[e,t,n]);return r}(),S=Pa(!0),C=Tp(),I=d.useMemo(()=>C??new Rp,[C]),j=Mp(I),R=Op(),{registerTrigger:N,isMountedByThisTrigger:P}=lg(b,k,v,{payload:g,closeDelay:p,parent:E,floatingTreeRoot:I,floatingNodeId:j,floatingParentNodeId:R,keyboardEventRelay:null==S?void 0:S.relayKeyboardEvent}),O=v.useState("disabled"),T=s||O||"menubar"===E.type&&E.context.disabled,{getButtonProps:M,buttonRef:D}=Oa({disabled:T,native:i});d.useEffect(()=>{w||void 0!==E.type||(v.context.allowMouseUpTriggerRef.current=!1)},[v,w,E.type]);const A=d.useRef(null),L=Ba(),z=zs(e=>{if(!A.current)return;L.clear(),v.context.allowMouseUpTriggerRef.current=!1;const t=e.target;if(ml(A.current,t)||ml(v.select("positionerElement"),t)||t===A.current)return;if(null!=t&&Ch(t)===v.select("rootId"))return;const n=function(e){const t=e.getBoundingClientRect(),n=window.getComputedStyle(e,"::before"),r=window.getComputedStyle(e,"::after");if("none"===n.content&&"none"===r.content)return t;const o=parseFloat(n.width)||0,s=parseFloat(n.height)||0,i=parseFloat(r.width)||0,a=parseFloat(r.height)||0,l=Math.max(t.width,o,i),c=Math.max(t.height,s,a),d=l-t.width,u=c-t.height;return{left:t.left-d/2,right:t.right+d/2,top:t.top-u/2,bottom:t.bottom+u/2}}(A.current);e.clientX>=n.left-2&&e.clientX<=n.right+2&&e.clientY>=n.top-2&&e.clientY<=n.bottom+2||I.events.emit("close",{domEvent:e,reason:"cancel-open"})});d.useEffect(()=>{if(w&&v.select("lastOpenChangeReason")===wi){Bp(A.current).addEventListener("mouseup",z,{once:!0})}},[w,z,v]);const F="menubar"===E.type&&E.context.hasSubmenuOpen,B=Ig(x,{enabled:(l??F??!1)&&!T&&"context-menu"!==E.type&&("menubar"!==E.type||F&&!P),handleClose:zg({blockPointerEvents:"menubar"!==E.type}),mouseOnly:!0,move:!1,restMs:void 0===E.type?u:void 0,delay:{close:p},triggerElementRef:k,externalTree:I,isActiveTrigger:y}),$=function(e,t){const n=Ba(),[r,o]=d.useState(!1);return fi(()=>{e&&"trigger-hover"===t?(o(!0),n.start(500,()=>{o(!1)})):e||(n.clear(),o(!1))},[e,t,n]),r}(w,v.select("lastOpenChangeReason")),_=sf(x,{enabled:!T&&"context-menu"!==E.type,event:w&&"menubar"===E.type?"click":"mousedown",toggle:!0,ignoreMouse:!1,stickIfOpen:void 0===E.type&&$}),H=bg(x,{enabled:!T&&("menubar"!==E.type&&w||F)}),V=function(e){const{enabled:t=!0,mouseDownAction:n,open:r}=e,o=d.useRef(!1);return d.useMemo(()=>t?{onMouseDown:e=>{("open"===n&&!r||"close"===n&&r)&&(o.current=!0,Bp(e.currentTarget).addEventListener("click",()=>{o.current=!1},{once:!0}))},onClick:e=>{o.current&&(o.current=!1,e.preventBaseUIHandler())}}:si,[t,n,r])}({open:w,enabled:"menubar"===E.type,mouseDownAction:"open"}),U=jg([_,H]),W="menubar"===E.type,G=d.useMemo(()=>({disabled:T,open:w}),[T,w]),q=v.useState("triggerProps",P),K=[A,t,D,N,k],Y=[U.getReferenceProps(),B??si,q,{"aria-haspopup":"menu",id:b,onMouseDown:e=>{if(v.select("open"))return;L.start(200,()=>{v.context.allowMouseUpTriggerRef.current=!0});Bp(e.currentTarget).addEventListener("mouseup",z,{once:!0})}},W?{role:"menuitem"}:{},V,h,M],X=d.useRef(null),J=zs(e=>{c.flushSync(()=>{v.setOpen(!1,Di(Ni,e.nativeEvent,e.currentTarget))});const t=Lc(X.current);null==t||t.focus()}),Z=zs(e=>{var t;const n=v.select("positionerElement");if(n&&zc(e,n))null==(t=v.context.beforeContentFocusGuardRef.current)||t.focus();else{c.flushSync(()=>{v.setOpen(!1,Di(Ni,e.nativeEvent,e.currentTarget))});let t=Ac(k.current);for(;null!==t&&ml(n,t)||(null==t?void 0:t.hasAttribute("aria-hidden"));){const e=t;if(t=Tc(t),t===e)break}null==t||t.focus()}}),Q=ui("button",e,{enabled:!W,stateAttributesMapping:bp,state:G,ref:K,props:Y});return W?n.jsx(Sh,{tag:"button",render:r,className:o,state:G,refs:K,props:Y,stateAttributesMapping:bp}):w?n.jsxs(d.Fragment,{children:[n.jsx($p,{ref:X,onFocus:J},`${b}-pre-focus-guard`),n.jsx(d.Fragment,{children:Q},b),n.jsx($p,{ref:v.context.triggerFocusTargetRef,onFocus:Z},`${b}-post-focus-guard`)]}):n.jsx(d.Fragment,{children:Q},b)});const jh={sm:"max-w-sm",md:"max-w-md",lg:"max-w-lg",xl:"max-w-xl",full:"max-w-[90vw] max-h-[90vh]"},Rh={initial:{opacity:0},animate:{opacity:1},exit:{opacity:0}},Nh={initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0,transition:{type:"spring",damping:15,stiffness:300,mass:.8}},exit:{opacity:0,scale:.95,y:10,transition:{duration:.15}}};function Ph({isOpen:e,onClose:t,title:r,children:o,size:s="md",showClose:a=!0,closeOnBackdrop:c=!0,closeOnEscape:u=!0}){return d.useEffect(()=>{if(!u||!e)return;const n=e=>{"Escape"===e.key&&t()};return window.addEventListener("keydown",n),()=>window.removeEventListener("keydown",n)},[e,u,t]),d.useEffect(()=>(document.body.style.overflow=e?"hidden":"",()=>{document.body.style.overflow=""}),[e]),n.jsx(i,{children:e&&n.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[n.jsx(l.div,{className:"absolute inset-0 bg-black/60 backdrop-blur-sm",variants:Rh,initial:"initial",animate:"animate",exit:"exit",onClick:c?t:void 0}),n.jsxs(l.div,{className:`\n              relative w-full ${jh[s]}\n              rounded-2xl\n              backdrop-blur-glass-xl\n              bg-slate-900/80\n              border border-[var(--glass-border)]\n              shadow-glass-lg\n              overflow-hidden\n            `,variants:Nh,initial:"initial",animate:"animate",exit:"exit",children:[n.jsx("div",{className:"absolute inset-x-0 top-0 h-px bg-gradient-to-r from-transparent via-white/20 to-transparent"}),(r||a)&&n.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-[var(--glass-border)]",children:[r&&n.jsx("h2",{className:"text-lg font-semibold text-slate-100",children:r}),a&&n.jsx(ep,{size:"sm",variant:"ghost",onClick:t,title:"Schlieen",className:"ml-auto",children:n.jsx(iu,{size:18})})]}),n.jsx("div",{className:"p-6 overflow-y-auto max-h-[70vh]",children:o})]})]})})}const Oh={sm:"px-2 py-0.5 text-xs gap-1",md:"px-2.5 py-1 text-xs gap-1.5",lg:"px-3 py-1.5 text-sm gap-2"},Th={default:{bg:"rgba(255, 255, 255, 0.10)",bgActive:"rgba(255, 255, 255, 0.20)",border:"rgba(255, 255, 255, 0.15)",borderActive:"rgba(255, 255, 255, 0.30)",text:"text-slate-200",textActive:"text-white"},cyan:{bg:"rgba(6, 182, 212, 0.15)",bgActive:"rgba(6, 182, 212, 0.35)",border:"rgba(6, 182, 212, 0.25)",borderActive:"rgba(6, 182, 212, 0.50)",text:"text-cyan-300",textActive:"text-cyan-200"},purple:{bg:"rgba(139, 92, 246, 0.15)",bgActive:"rgba(139, 92, 246, 0.35)",border:"rgba(139, 92, 246, 0.25)",borderActive:"rgba(139, 92, 246, 0.50)",text:"text-purple-300",textActive:"text-purple-200"},pink:{bg:"rgba(236, 72, 153, 0.15)",bgActive:"rgba(236, 72, 153, 0.35)",border:"rgba(236, 72, 153, 0.25)",borderActive:"rgba(236, 72, 153, 0.50)",text:"text-pink-300",textActive:"text-pink-200"},green:{bg:"rgba(34, 197, 94, 0.15)",bgActive:"rgba(34, 197, 94, 0.35)",border:"rgba(34, 197, 94, 0.25)",borderActive:"rgba(34, 197, 94, 0.50)",text:"text-green-300",textActive:"text-green-200"},amber:{bg:"rgba(251, 191, 36, 0.15)",bgActive:"rgba(251, 191, 36, 0.35)",border:"rgba(251, 191, 36, 0.25)",borderActive:"rgba(251, 191, 36, 0.50)",text:"text-amber-300",textActive:"text-amber-200"}};function Mh({children:e,count:t,active:r=!1,variant:o="cyan",size:s="md",onClick:i,removable:a=!1,onRemove:c,icon:d,delay:u=0}){const p=Th[o];return n.jsxs(l.span,{initial:{opacity:0,scale:.9,y:8},animate:{opacity:1,scale:1,y:0},whileTap:{scale:.95},transition:{delay:.03*u,...Fu},onClick:i,className:`\n        inline-flex items-center rounded-full\n        backdrop-blur-glass-xs\n        ${Oh[s]}\n        ${r?p.textActive:p.text}\n        ${i?"cursor-pointer hover:brightness-110":""}\n        focus:outline-none focus-visible:ring-2 focus-visible:ring-cyan-400/50\n        select-none\n        transition-[filter] duration-150\n      `,style:{background:r?p.bgActive:p.bg,border:`1px solid ${r?p.borderActive:p.border}`,boxShadow:r?`0 4px 12px ${p.bg}, inset 0 1px 0 rgba(255,255,255,0.15)`:"0 2px 8px rgba(0,0,0,0.15), inset 0 1px 0 rgba(255,255,255,0.08)"},children:[d&&n.jsx("span",{className:"flex-shrink-0",children:d}),n.jsx("span",{className:"truncate",children:e}),void 0!==t&&n.jsx("span",{className:"text-[10px] opacity-70 font-medium",children:t}),a&&c&&n.jsx(l.button,{onClick:e=>{e.stopPropagation(),c()},className:"p-0.5 -mr-1 rounded-full hover:bg-red-500/30 transition-colors",whileHover:{scale:1.2,rotate:90},whileTap:{scale:.9},children:n.jsx(iu,{size:"sm"===s?10:"md"===s?12:14,className:"text-red-400"})})]})}const Dh=Pu(e=>({isOpen:!1,x:0,y:0,sections:[],show:(t,n,r)=>e({isOpen:!0,x:t,y:n,sections:r}),hide:()=>e({isOpen:!1,sections:[]})}));function Ah(){const{isOpen:e,x:t,y:r,sections:o,hide:s}=Dh(),a=d.useRef(null),[u,p]=d.useState({x:0,y:0}),[f,g]=d.useState(-1),h=document.documentElement.classList.contains("light-mode");console.log("[GlassContextMenu] render - isOpen:",e,"x:",t,"y:",r,"sections:",o.length);const m=o.flatMap(e=>e.items.filter(e=>!e.disabled));d.useEffect(()=>{e&&p({x:t,y:r})},[e,t,r]),d.useEffect(()=>{if(!e||!a.current)return;const n=a.current.getBoundingClientRect();let o=t,s=r;t+n.width>window.innerWidth-8&&(o=window.innerWidth-n.width-8),o<8&&(o=8),r+n.height>window.innerHeight-8&&(s=window.innerHeight-n.height-8),s<8&&(s=8),o===u.x&&s===u.y||p({x:o,y:s})},[e,t,r,u.x,u.y]),d.useEffect(()=>{if(!e)return;const t=setTimeout(()=>{const e=e=>{a.current&&!a.current.contains(e.target)&&s()};document.addEventListener("mousedown",e),window.__contextMenuCleanup=()=>{document.removeEventListener("mousedown",e)}},10),n=()=>s(),r=()=>s();return document.addEventListener("scroll",n,!0),window.addEventListener("resize",r),()=>{clearTimeout(t),window.__contextMenuCleanup&&(window.__contextMenuCleanup(),delete window.__contextMenuCleanup),document.removeEventListener("scroll",n,!0),window.removeEventListener("resize",r)}},[e,s]);const v=d.useCallback(t=>{if(e)switch(t.key){case"Escape":t.preventDefault(),s();break;case"ArrowDown":t.preventDefault(),g(e=>(e+1)%m.length);break;case"ArrowUp":t.preventDefault(),g(e=>(e-1+m.length)%m.length);break;case"Enter":t.preventDefault(),f>=0&&f<m.length&&(m[f].onClick(),s())}},[e,s,m,f]);if(d.useEffect(()=>(document.addEventListener("keydown",v),()=>document.removeEventListener("keydown",v)),[v]),d.useEffect(()=>{e&&g(-1)},[e]),!e)return null;let b=0;const y=h?{background:"linear-gradient(135deg, rgba(255, 255, 255, 0.75) 0%, rgba(248, 250, 252, 0.70) 100%)",backdropFilter:"blur(20px)",border:"1px solid rgba(8, 145, 178, 0.3)",boxShadow:"0 20px 60px rgba(0, 0, 0, 0.12), 0 0 0 1px rgba(255, 255, 255, 0.5) inset"}:{background:"linear-gradient(135deg, rgba(15, 23, 42, 0.60) 0%, rgba(15, 23, 42, 0.50) 100%)",backdropFilter:"blur(20px)",border:"1px solid rgba(6, 182, 212, 0.25)",boxShadow:"0 20px 60px rgba(0, 0, 0, 0.5), 0 0 0 1px rgba(255, 255, 255, 0.05) inset"};return c.createPortal(n.jsx(i,{children:e&&n.jsxs(l.div,{ref:a,initial:{opacity:0,scale:.95,y:-5},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:-5},transition:{duration:.15,ease:"easeOut"},className:"fixed z-[9999] min-w-[200px] py-2 rounded-xl overflow-hidden",style:{left:u.x,top:u.y,...y},children:[n.jsx("div",{className:"absolute inset-x-0 top-0 h-[1px]",style:{background:h?"linear-gradient(90deg, transparent 0%, rgba(255,255,255,0.8) 50%, transparent 100%)":"linear-gradient(90deg, transparent 0%, rgba(255,255,255,0.2) 50%, transparent 100%)"}}),o.map((e,t)=>n.jsxs("div",{children:[t>0&&n.jsx("div",{className:"my-1.5 mx-3 h-px bg-gradient-to-r from-transparent via-cyan-500/30 to-transparent"}),e.items.map(e=>{const t=b++===f;return n.jsxs(l.button,{onClick:()=>{e.disabled||(e.onClick(),s())},disabled:e.disabled,className:`\n                      w-full px-3 py-2 flex items-center gap-3 text-left text-sm transition-colors\n                      ${e.disabled?"opacity-40 cursor-not-allowed":h?"cursor-pointer hover:bg-cyan-500/10":"cursor-pointer hover:bg-white/10"}\n                      ${e.danger?"text-red-500 hover:text-red-600":h?"text-slate-700":"text-slate-200"}\n                      ${t?"bg-cyan-500/20":""}\n                    `,whileHover:e.disabled?void 0:{x:2},children:[e.icon&&n.jsx("span",{className:"w-4 h-4 flex items-center justify-center "+(e.danger?"text-red-500":"text-cyan-500"),children:e.icon}),n.jsx("span",{className:"flex-1",children:e.label}),e.shortcut&&n.jsx("span",{className:"text-xs font-mono "+(h?"text-slate-400":"text-slate-500"),children:e.shortcut})]},e.id)})]},t))]})}),document.body)}const Lh=e=>"string"==typeof e,zh=()=>{let e,t;const n=new Promise((n,r)=>{e=n,t=r});return n.resolve=e,n.reject=t,n},Fh=e=>null==e?"":""+e,Bh=/###/g,$h=e=>e&&e.indexOf("###")>-1?e.replace(Bh,"."):e,_h=e=>!e||Lh(e),Hh=(e,t,n)=>{const r=Lh(t)?t.split("."):t;let o=0;for(;o<r.length-1;){if(_h(e))return{};const t=$h(r[o]);!e[t]&&n&&(e[t]=new n),e=Object.prototype.hasOwnProperty.call(e,t)?e[t]:{},++o}return _h(e)?{}:{obj:e,k:$h(r[o])}},Vh=(e,t,n)=>{const{obj:r,k:o}=Hh(e,t,Object);if(void 0!==r||1===t.length)return void(r[o]=n);let s=t[t.length-1],i=t.slice(0,t.length-1),a=Hh(e,i,Object);for(;void 0===a.obj&&i.length;)s=`${i[i.length-1]}.${s}`,i=i.slice(0,i.length-1),a=Hh(e,i,Object),(null==a?void 0:a.obj)&&void 0!==a.obj[`${a.k}.${s}`]&&(a.obj=void 0);a.obj[`${a.k}.${s}`]=n},Uh=(e,t)=>{const{obj:n,k:r}=Hh(e,t);if(n&&Object.prototype.hasOwnProperty.call(n,r))return n[r]},Wh=(e,t,n)=>{for(const r in t)"__proto__"!==r&&"constructor"!==r&&(r in e?Lh(e[r])||e[r]instanceof String||Lh(t[r])||t[r]instanceof String?n&&(e[r]=t[r]):Wh(e[r],t[r],n):e[r]=t[r]);return e},Gh=e=>e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var qh={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const Kh=e=>Lh(e)?e.replace(/[&<>"'\/]/g,e=>qh[e]):e;const Yh=[" ",",","?","!",";"],Xh=new class{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const t=this.regExpMap.get(e);if(void 0!==t)return t;const n=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,n),this.regExpQueue.push(e),n}}(20),Jh=(e,t,n=".")=>{if(!e)return;if(e[t]){if(!Object.prototype.hasOwnProperty.call(e,t))return;return e[t]}const r=t.split(n);let o=e;for(let s=0;s<r.length;){if(!o||"object"!=typeof o)return;let e,t="";for(let i=s;i<r.length;++i)if(i!==s&&(t+=n),t+=r[i],e=o[t],void 0!==e){if(["string","number","boolean"].indexOf(typeof e)>-1&&i<r.length-1)continue;s+=i-s+1;break}o=e}return o},Zh=e=>null==e?void 0:e.replace("_","-"),Qh={type:"logger",log(e){this.output("log",e)},warn(e){this.output("warn",e)},error(e){this.output("error",e)},output(e,t){var n,r;null==(r=null==(n=null==console?void 0:console[e])?void 0:n.apply)||r.call(n,console,t)}};class em{constructor(e,t={}){this.init(e,t)}init(e,t={}){this.prefix=t.prefix||"i18next:",this.logger=e||Qh,this.options=t,this.debug=t.debug}log(...e){return this.forward(e,"log","",!0)}warn(...e){return this.forward(e,"warn","",!0)}error(...e){return this.forward(e,"error","")}deprecate(...e){return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}forward(e,t,n,r){return r&&!this.debug?null:(Lh(e[0])&&(e[0]=`${n}${this.prefix} ${e[0]}`),this.logger[t](e))}create(e){return new em(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return(e=e||this.options).prefix=e.prefix||this.prefix,new em(this.logger,e)}}var tm=new em;class nm{constructor(){this.observers={}}on(e,t){return e.split(" ").forEach(e=>{this.observers[e]||(this.observers[e]=new Map);const n=this.observers[e].get(t)||0;this.observers[e].set(t,n+1)}),this}off(e,t){this.observers[e]&&(t?this.observers[e].delete(t):delete this.observers[e])}emit(e,...t){if(this.observers[e]){Array.from(this.observers[e].entries()).forEach(([e,n])=>{for(let r=0;r<n;r++)e(...t)})}if(this.observers["*"]){Array.from(this.observers["*"].entries()).forEach(([n,r])=>{for(let o=0;o<r;o++)n.apply(n,[e,...t])})}}}class rm extends nm{constructor(e,t={ns:["translation"],defaultNS:"translation"}){super(),this.data=e||{},this.options=t,void 0===this.options.keySeparator&&(this.options.keySeparator="."),void 0===this.options.ignoreJSONStructure&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}getResource(e,t,n,r={}){var o,s;const i=void 0!==r.keySeparator?r.keySeparator:this.options.keySeparator,a=void 0!==r.ignoreJSONStructure?r.ignoreJSONStructure:this.options.ignoreJSONStructure;let l;e.indexOf(".")>-1?l=e.split("."):(l=[e,t],n&&(Array.isArray(n)?l.push(...n):Lh(n)&&i?l.push(...n.split(i)):l.push(n)));const c=Uh(this.data,l);return!c&&!t&&!n&&e.indexOf(".")>-1&&(e=l[0],t=l[1],n=l.slice(2).join(".")),!c&&a&&Lh(n)?Jh(null==(s=null==(o=this.data)?void 0:o[e])?void 0:s[t],n,i):c}addResource(e,t,n,r,o={silent:!1}){const s=void 0!==o.keySeparator?o.keySeparator:this.options.keySeparator;let i=[e,t];n&&(i=i.concat(s?n.split(s):n)),e.indexOf(".")>-1&&(i=e.split("."),r=t,t=i[1]),this.addNamespaces(t),Vh(this.data,i,r),o.silent||this.emit("added",e,t,n,r)}addResources(e,t,n,r={silent:!1}){for(const o in n)(Lh(n[o])||Array.isArray(n[o]))&&this.addResource(e,t,o,n[o],{silent:!0});r.silent||this.emit("added",e,t,n)}addResourceBundle(e,t,n,r,o,s={silent:!1,skipCopy:!1}){let i=[e,t];e.indexOf(".")>-1&&(i=e.split("."),r=n,n=t,t=i[1]),this.addNamespaces(t);let a=Uh(this.data,i)||{};s.skipCopy||(n=JSON.parse(JSON.stringify(n))),r?Wh(a,n,o):a={...a,...n},Vh(this.data,i,a),s.silent||this.emit("added",e,t,n)}removeResourceBundle(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}hasResourceBundle(e,t){return void 0!==this.getResource(e,t)}getResourceBundle(e,t){return t||(t=this.options.defaultNS),this.getResource(e,t)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find(e=>t[e]&&Object.keys(t[e]).length>0)}toJSON(){return this.data}}var om={processors:{},addPostProcessor(e){this.processors[e.name]=e},handle(e,t,n,r,o){return e.forEach(e=>{var s;t=(null==(s=this.processors[e])?void 0:s.process(t,n,r,o))??t}),t}};const sm=Symbol("i18next/PATH_KEY");function im(e,t){const{[sm]:n}=e(function(){const e=[],t=Object.create(null);let n;return t.get=(r,o)=>{var s;return null==(s=null==n?void 0:n.revoke)||s.call(n),o===sm?e:(e.push(o),n=Proxy.revocable(r,t),n.proxy)},Proxy.revocable(Object.create(null),t).proxy}());return n.join((null==t?void 0:t.keySeparator)??".")}const am={},lm=e=>!Lh(e)&&"boolean"!=typeof e&&"number"!=typeof e;class cm extends nm{constructor(e,t={}){var n,r;super(),n=e,r=this,["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"].forEach(e=>{n[e]&&(r[e]=n[e])}),this.options=t,void 0===this.options.keySeparator&&(this.options.keySeparator="."),this.logger=tm.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e,t={interpolation:{}}){const n={...t};if(null==e)return!1;const r=this.resolve(e,n);if(void 0===(null==r?void 0:r.res))return!1;const o=lm(r.res);return!1!==n.returnObjects||!o}extractFromKey(e,t){let n=void 0!==t.nsSeparator?t.nsSeparator:this.options.nsSeparator;void 0===n&&(n=":");const r=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator;let o=t.ns||this.options.defaultNS||[];const s=n&&e.indexOf(n)>-1,i=!(this.options.userDefinedKeySeparator||t.keySeparator||this.options.userDefinedNsSeparator||t.nsSeparator||((e,t,n)=>{t=t||"",n=n||"";const r=Yh.filter(e=>t.indexOf(e)<0&&n.indexOf(e)<0);if(0===r.length)return!0;const o=Xh.getRegExp(`(${r.map(e=>"?"===e?"\\?":e).join("|")})`);let s=!o.test(e);if(!s){const t=e.indexOf(n);t>0&&!o.test(e.substring(0,t))&&(s=!0)}return s})(e,n,r));if(s&&!i){const t=e.match(this.interpolator.nestingRegexp);if(t&&t.length>0)return{key:e,namespaces:Lh(o)?[o]:o};const s=e.split(n);(n!==r||n===r&&this.options.ns.indexOf(s[0])>-1)&&(o=s.shift()),e=s.join(r)}return{key:e,namespaces:Lh(o)?[o]:o}}translate(e,t,n){let r="object"==typeof t?{...t}:t;if("object"!=typeof r&&this.options.overloadTranslationOptionHandler&&(r=this.options.overloadTranslationOptionHandler(arguments)),"object"==typeof r&&(r={...r}),r||(r={}),null==e)return"";"function"==typeof e&&(e=im(e,{...this.options,...r})),Array.isArray(e)||(e=[String(e)]);const o=void 0!==r.returnDetails?r.returnDetails:this.options.returnDetails,s=void 0!==r.keySeparator?r.keySeparator:this.options.keySeparator,{key:i,namespaces:a}=this.extractFromKey(e[e.length-1],r),l=a[a.length-1];let c=void 0!==r.nsSeparator?r.nsSeparator:this.options.nsSeparator;void 0===c&&(c=":");const d=r.lng||this.language,u=r.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if("cimode"===(null==d?void 0:d.toLowerCase()))return u?o?{res:`${l}${c}${i}`,usedKey:i,exactUsedKey:i,usedLng:d,usedNS:l,usedParams:this.getUsedParamsDetails(r)}:`${l}${c}${i}`:o?{res:i,usedKey:i,exactUsedKey:i,usedLng:d,usedNS:l,usedParams:this.getUsedParamsDetails(r)}:i;const p=this.resolve(e,r);let f=null==p?void 0:p.res;const g=(null==p?void 0:p.usedKey)||i,h=(null==p?void 0:p.exactUsedKey)||i,m=void 0!==r.joinArrays?r.joinArrays:this.options.joinArrays,v=!this.i18nFormat||this.i18nFormat.handleAsObject,b=void 0!==r.count&&!Lh(r.count),y=cm.hasDefaultValue(r),x=b?this.pluralResolver.getSuffix(d,r.count,r):"",w=r.ordinal&&b?this.pluralResolver.getSuffix(d,r.count,{ordinal:!1}):"",k=b&&!r.ordinal&&0===r.count,E=k&&r[`defaultValue${this.options.pluralSeparator}zero`]||r[`defaultValue${x}`]||r[`defaultValue${w}`]||r.defaultValue;let S=f;v&&!f&&y&&(S=E);const C=lm(S),I=Object.prototype.toString.apply(S);if(!(v&&S&&C&&["[object Number]","[object Function]","[object RegExp]"].indexOf(I)<0)||Lh(m)&&Array.isArray(S))if(v&&Lh(m)&&Array.isArray(f))f=f.join(m),f&&(f=this.extendTranslation(f,e,r,n));else{let t=!1,o=!1;!this.isValidLookup(f)&&y&&(t=!0,f=E),this.isValidLookup(f)||(o=!0,f=i);const a=(r.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&o?void 0:f,u=y&&E!==f&&this.options.updateMissing;if(o||t||u){if(this.logger.log(u?"updateKey":"missingKey",d,l,i,u?E:f),s){const e=this.resolve(i,{...r,keySeparator:!1});e&&e.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let e=[];const t=this.languageUtils.getFallbackCodes(this.options.fallbackLng,r.lng||this.language);if("fallback"===this.options.saveMissingTo&&t&&t[0])for(let r=0;r<t.length;r++)e.push(t[r]);else"all"===this.options.saveMissingTo?e=this.languageUtils.toResolveHierarchy(r.lng||this.language):e.push(r.lng||this.language);const n=(e,t,n)=>{var o;const s=y&&n!==f?n:a;this.options.missingKeyHandler?this.options.missingKeyHandler(e,l,t,s,u,r):(null==(o=this.backendConnector)?void 0:o.saveMissing)&&this.backendConnector.saveMissing(e,l,t,s,u,r),this.emit("missingKey",e,l,t,f)};this.options.saveMissing&&(this.options.saveMissingPlurals&&b?e.forEach(e=>{const t=this.pluralResolver.getSuffixes(e,r);k&&r[`defaultValue${this.options.pluralSeparator}zero`]&&t.indexOf(`${this.options.pluralSeparator}zero`)<0&&t.push(`${this.options.pluralSeparator}zero`),t.forEach(t=>{n([e],i+t,r[`defaultValue${t}`]||E)})}):n(e,i,E))}f=this.extendTranslation(f,e,r,p,n),o&&f===i&&this.options.appendNamespaceToMissingKey&&(f=`${l}${c}${i}`),(o||t)&&this.options.parseMissingKeyHandler&&(f=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${l}${c}${i}`:i,t?f:void 0,r))}else{if(!r.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const e=this.options.returnedObjectHandler?this.options.returnedObjectHandler(g,S,{...r,ns:a}):`key '${i} (${this.language})' returned an object instead of string.`;return o?(p.res=e,p.usedParams=this.getUsedParamsDetails(r),p):e}if(s){const e=Array.isArray(S),t=e?[]:{},n=e?h:g;for(const o in S)if(Object.prototype.hasOwnProperty.call(S,o)){const e=`${n}${s}${o}`;t[o]=y&&!f?this.translate(e,{...r,defaultValue:lm(E)?E[o]:void 0,joinArrays:!1,ns:a}):this.translate(e,{...r,joinArrays:!1,ns:a}),t[o]===e&&(t[o]=S[o])}f=t}}return o?(p.res=f,p.usedParams=this.getUsedParamsDetails(r),p):f}extendTranslation(e,t,n,r,o){var s,i;if(null==(s=this.i18nFormat)?void 0:s.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...n},n.lng||this.language||r.usedLng,r.usedNS,r.usedKey,{resolved:r});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init({...n,interpolation:{...this.options.interpolation,...n.interpolation}});const s=Lh(e)&&(void 0!==(null==(i=null==n?void 0:n.interpolation)?void 0:i.skipOnVariables)?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let a;if(s){const t=e.match(this.interpolator.nestingRegexp);a=t&&t.length}let l=n.replace&&!Lh(n.replace)?n.replace:n;if(this.options.interpolation.defaultVariables&&(l={...this.options.interpolation.defaultVariables,...l}),e=this.interpolator.interpolate(e,l,n.lng||this.language||r.usedLng,n),s){const t=e.match(this.interpolator.nestingRegexp);a<(t&&t.length)&&(n.nest=!1)}!n.lng&&r&&r.res&&(n.lng=this.language||r.usedLng),!1!==n.nest&&(e=this.interpolator.nest(e,(...e)=>(null==o?void 0:o[0])!==e[0]||n.context?this.translate(...e,t):(this.logger.warn(`It seems you are nesting recursively key: ${e[0]} in key: ${t[0]}`),null),n)),n.interpolation&&this.interpolator.reset()}const a=n.postProcess||this.options.postProcess,l=Lh(a)?[a]:a;return null!=e&&(null==l?void 0:l.length)&&!1!==n.applyPostProcessor&&(e=om.handle(l,e,t,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...r,usedParams:this.getUsedParamsDetails(n)},...n}:n,this)),e}resolve(e,t={}){let n,r,o,s,i;return Lh(e)&&(e=[e]),e.forEach(e=>{if(this.isValidLookup(n))return;const a=this.extractFromKey(e,t),l=a.key;r=l;let c=a.namespaces;this.options.fallbackNS&&(c=c.concat(this.options.fallbackNS));const d=void 0!==t.count&&!Lh(t.count),u=d&&!t.ordinal&&0===t.count,p=void 0!==t.context&&(Lh(t.context)||"number"==typeof t.context)&&""!==t.context,f=t.lngs?t.lngs:this.languageUtils.toResolveHierarchy(t.lng||this.language,t.fallbackLng);c.forEach(e=>{var a,c;this.isValidLookup(n)||(i=e,am[`${f[0]}-${e}`]||!(null==(a=this.utils)?void 0:a.hasLoadedNamespace)||(null==(c=this.utils)?void 0:c.hasLoadedNamespace(i))||(am[`${f[0]}-${e}`]=!0,this.logger.warn(`key "${r}" for languages "${f.join(", ")}" won't get resolved as namespace "${i}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),f.forEach(r=>{var i;if(this.isValidLookup(n))return;s=r;const a=[l];if(null==(i=this.i18nFormat)?void 0:i.addLookupKeys)this.i18nFormat.addLookupKeys(a,l,r,e,t);else{let e;d&&(e=this.pluralResolver.getSuffix(r,t.count,t));const n=`${this.options.pluralSeparator}zero`,o=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(d&&(t.ordinal&&0===e.indexOf(o)&&a.push(l+e.replace(o,this.options.pluralSeparator)),a.push(l+e),u&&a.push(l+n)),p){const r=`${l}${this.options.contextSeparator||"_"}${t.context}`;a.push(r),d&&(t.ordinal&&0===e.indexOf(o)&&a.push(r+e.replace(o,this.options.pluralSeparator)),a.push(r+e),u&&a.push(r+n))}}let c;for(;c=a.pop();)this.isValidLookup(n)||(o=c,n=this.getResource(r,e,c,t))}))})}),{res:n,usedKey:r,exactUsedKey:o,usedLng:s,usedNS:i}}isValidLookup(e){return!(void 0===e||!this.options.returnNull&&null===e||!this.options.returnEmptyString&&""===e)}getResource(e,t,n,r={}){var o;return(null==(o=this.i18nFormat)?void 0:o.getResource)?this.i18nFormat.getResource(e,t,n,r):this.resourceStore.getResource(e,t,n,r)}getUsedParamsDetails(e={}){const t=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],n=e.replace&&!Lh(e.replace);let r=n?e.replace:e;if(n&&void 0!==e.count&&(r.count=e.count),this.options.interpolation.defaultVariables&&(r={...this.options.interpolation.defaultVariables,...r}),!n){r={...r};for(const e of t)delete r[e]}return r}static hasDefaultValue(e){const t="defaultValue";for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t===n.substring(0,12)&&void 0!==e[n])return!0;return!1}}class dm{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=tm.create("languageUtils")}getScriptPartFromCode(e){if(!(e=Zh(e))||e.indexOf("-")<0)return null;const t=e.split("-");return 2===t.length?null:(t.pop(),"x"===t[t.length-1].toLowerCase()?null:this.formatLanguageCode(t.join("-")))}getLanguagePartFromCode(e){if(!(e=Zh(e))||e.indexOf("-")<0)return e;const t=e.split("-");return this.formatLanguageCode(t[0])}formatLanguageCode(e){if(Lh(e)&&e.indexOf("-")>-1){let n;try{n=Intl.getCanonicalLocales(e)[0]}catch(t){}return n&&this.options.lowerCaseLng&&(n=n.toLowerCase()),n||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return("languageOnly"===this.options.load||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let t;return e.forEach(e=>{if(t)return;const n=this.formatLanguageCode(e);this.options.supportedLngs&&!this.isSupportedCode(n)||(t=n)}),!t&&this.options.supportedLngs&&e.forEach(e=>{if(t)return;const n=this.getScriptPartFromCode(e);if(this.isSupportedCode(n))return t=n;const r=this.getLanguagePartFromCode(e);if(this.isSupportedCode(r))return t=r;t=this.options.supportedLngs.find(e=>e===r?e:e.indexOf("-")<0&&r.indexOf("-")<0?void 0:e.indexOf("-")>0&&r.indexOf("-")<0&&e.substring(0,e.indexOf("-"))===r||0===e.indexOf(r)&&r.length>1?e:void 0)}),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t}getFallbackCodes(e,t){if(!e)return[];if("function"==typeof e&&(e=e(t)),Lh(e)&&(e=[e]),Array.isArray(e))return e;if(!t)return e.default||[];let n=e[t];return n||(n=e[this.getScriptPartFromCode(t)]),n||(n=e[this.formatLanguageCode(t)]),n||(n=e[this.getLanguagePartFromCode(t)]),n||(n=e.default),n||[]}toResolveHierarchy(e,t){const n=this.getFallbackCodes((!1===t?[]:t)||this.options.fallbackLng||[],e),r=[],o=e=>{e&&(this.isSupportedCode(e)?r.push(e):this.logger.warn(`rejecting language code not found in supportedLngs: ${e}`))};return Lh(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?("languageOnly"!==this.options.load&&o(this.formatLanguageCode(e)),"languageOnly"!==this.options.load&&"currentOnly"!==this.options.load&&o(this.getScriptPartFromCode(e)),"currentOnly"!==this.options.load&&o(this.getLanguagePartFromCode(e))):Lh(e)&&o(this.formatLanguageCode(e)),n.forEach(e=>{r.indexOf(e)<0&&o(this.formatLanguageCode(e))}),r}}const um={zero:0,one:1,two:2,few:3,many:4,other:5},pm={select:e=>1===e?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class fm{constructor(e,t={}){this.languageUtils=e,this.options=t,this.logger=tm.create("pluralResolver"),this.pluralRulesCache={}}clearCache(){this.pluralRulesCache={}}getRule(e,t={}){const n=Zh("dev"===e?"en":e),r=t.ordinal?"ordinal":"cardinal",o=JSON.stringify({cleanedCode:n,type:r});if(o in this.pluralRulesCache)return this.pluralRulesCache[o];let s;try{s=new Intl.PluralRules(n,{type:r})}catch(i){if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),pm;if(!e.match(/-|_/))return pm;const n=this.languageUtils.getLanguagePartFromCode(e);s=this.getRule(n,t)}return this.pluralRulesCache[o]=s,s}needsPlural(e,t={}){let n=this.getRule(e,t);return n||(n=this.getRule("dev",t)),(null==n?void 0:n.resolvedOptions().pluralCategories.length)>1}getPluralFormsOfKey(e,t,n={}){return this.getSuffixes(e,n).map(e=>`${t}${e}`)}getSuffixes(e,t={}){let n=this.getRule(e,t);return n||(n=this.getRule("dev",t)),n?n.resolvedOptions().pluralCategories.sort((e,t)=>um[e]-um[t]).map(e=>`${this.options.prepend}${t.ordinal?`ordinal${this.options.prepend}`:""}${e}`):[]}getSuffix(e,t,n={}){const r=this.getRule(e,n);return r?`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${r.select(t)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",t,n))}}const gm=(e,t,n,r=".",o=!0)=>{let s=((e,t,n)=>{const r=Uh(e,n);return void 0!==r?r:Uh(t,n)})(e,t,n);return!s&&o&&Lh(n)&&(s=Jh(e,n,r),void 0===s&&(s=Jh(t,n,r))),s},hm=e=>e.replace(/\$/g,"$$$$");class mm{constructor(e={}){var t;this.logger=tm.create("interpolator"),this.options=e,this.format=(null==(t=null==e?void 0:e.interpolation)?void 0:t.format)||(e=>e),this.init(e)}init(e={}){e.interpolation||(e.interpolation={escapeValue:!0});const{escape:t,escapeValue:n,useRawValueToEscape:r,prefix:o,prefixEscaped:s,suffix:i,suffixEscaped:a,formatSeparator:l,unescapeSuffix:c,unescapePrefix:d,nestingPrefix:u,nestingPrefixEscaped:p,nestingSuffix:f,nestingSuffixEscaped:g,nestingOptionsSeparator:h,maxReplaces:m,alwaysFormat:v}=e.interpolation;this.escape=void 0!==t?t:Kh,this.escapeValue=void 0===n||n,this.useRawValueToEscape=void 0!==r&&r,this.prefix=o?Gh(o):s||"{{",this.suffix=i?Gh(i):a||"}}",this.formatSeparator=l||",",this.unescapePrefix=c?"":d||"-",this.unescapeSuffix=this.unescapePrefix?"":c||"",this.nestingPrefix=u?Gh(u):p||Gh("$t("),this.nestingSuffix=f?Gh(f):g||Gh(")"),this.nestingOptionsSeparator=h||",",this.maxReplaces=m||1e3,this.alwaysFormat=void 0!==v&&v,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(e,t)=>(null==e?void 0:e.source)===t?(e.lastIndex=0,e):new RegExp(t,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(e,t,n,r){var o;let s,i,a;const l=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},c=e=>{if(e.indexOf(this.formatSeparator)<0){const o=gm(t,l,e,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(o,void 0,n,{...r,...t,interpolationkey:e}):o}const o=e.split(this.formatSeparator),s=o.shift().trim(),i=o.join(this.formatSeparator).trim();return this.format(gm(t,l,s,this.options.keySeparator,this.options.ignoreJSONStructure),i,n,{...r,...t,interpolationkey:s})};this.resetRegExp();const d=(null==r?void 0:r.missingInterpolationHandler)||this.options.missingInterpolationHandler,u=void 0!==(null==(o=null==r?void 0:r.interpolation)?void 0:o.skipOnVariables)?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:e=>hm(e)},{regex:this.regexp,safeValue:e=>this.escapeValue?hm(this.escape(e)):hm(e)}].forEach(t=>{for(a=0;s=t.regex.exec(e);){const n=s[1].trim();if(i=c(n),void 0===i)if("function"==typeof d){const t=d(e,s,r);i=Lh(t)?t:""}else if(r&&Object.prototype.hasOwnProperty.call(r,n))i="";else{if(u){i=s[0];continue}this.logger.warn(`missed to pass in variable ${n} for interpolating ${e}`),i=""}else Lh(i)||this.useRawValueToEscape||(i=Fh(i));const o=t.safeValue(i);if(e=e.replace(s[0],o),u?(t.regex.lastIndex+=i.length,t.regex.lastIndex-=s[0].length):t.regex.lastIndex=0,a++,a>=this.maxReplaces)break}}),e}nest(e,t,n={}){let r,o,s;const i=(e,t)=>{const n=this.nestingOptionsSeparator;if(e.indexOf(n)<0)return e;const r=e.split(new RegExp(`${n}[ ]*{`));let o=`{${r[1]}`;e=r[0],o=this.interpolate(o,s);const i=o.match(/'/g),a=o.match(/"/g);(((null==i?void 0:i.length)??0)%2==0&&!a||a.length%2!=0)&&(o=o.replace(/'/g,'"'));try{s=JSON.parse(o),t&&(s={...t,...s})}catch(l){return this.logger.warn(`failed parsing options string in nesting for key ${e}`,l),`${e}${n}${o}`}return s.defaultValue&&s.defaultValue.indexOf(this.prefix)>-1&&delete s.defaultValue,e};for(;r=this.nestingRegexp.exec(e);){let a=[];s={...n},s=s.replace&&!Lh(s.replace)?s.replace:s,s.applyPostProcessor=!1,delete s.defaultValue;const l=/{.*}/.test(r[1])?r[1].lastIndexOf("}")+1:r[1].indexOf(this.formatSeparator);if(-1!==l&&(a=r[1].slice(l).split(this.formatSeparator).map(e=>e.trim()).filter(Boolean),r[1]=r[1].slice(0,l)),o=t(i.call(this,r[1].trim(),s),s),o&&r[0]===e&&!Lh(o))return o;Lh(o)||(o=Fh(o)),o||(this.logger.warn(`missed to resolve ${r[1]} for nesting ${e}`),o=""),a.length&&(o=a.reduce((e,t)=>this.format(e,t,n.lng,{...n,interpolationkey:r[1].trim()}),o.trim())),e=e.replace(r[0],o),this.regexp.lastIndex=0}return e}}const vm=e=>{const t={};return(n,r,o)=>{let s=o;o&&o.interpolationkey&&o.formatParams&&o.formatParams[o.interpolationkey]&&o[o.interpolationkey]&&(s={...s,[o.interpolationkey]:void 0});const i=r+JSON.stringify(s);let a=t[i];return a||(a=e(Zh(r),o),t[i]=a),a(n)}},bm=e=>(t,n,r)=>e(Zh(n),r)(t);class ym{constructor(e={}){this.logger=tm.create("formatter"),this.options=e,this.init(e)}init(e,t={interpolation:{}}){this.formatSeparator=t.interpolation.formatSeparator||",";const n=t.cacheInBuiltFormats?vm:bm;this.formats={number:n((e,t)=>{const n=new Intl.NumberFormat(e,{...t});return e=>n.format(e)}),currency:n((e,t)=>{const n=new Intl.NumberFormat(e,{...t,style:"currency"});return e=>n.format(e)}),datetime:n((e,t)=>{const n=new Intl.DateTimeFormat(e,{...t});return e=>n.format(e)}),relativetime:n((e,t)=>{const n=new Intl.RelativeTimeFormat(e,{...t});return e=>n.format(e,t.range||"day")}),list:n((e,t)=>{const n=new Intl.ListFormat(e,{...t});return e=>n.format(e)})}}add(e,t){this.formats[e.toLowerCase().trim()]=t}addCached(e,t){this.formats[e.toLowerCase().trim()]=vm(t)}format(e,t,n,r={}){const o=t.split(this.formatSeparator);if(o.length>1&&o[0].indexOf("(")>1&&o[0].indexOf(")")<0&&o.find(e=>e.indexOf(")")>-1)){const e=o.findIndex(e=>e.indexOf(")")>-1);o[0]=[o[0],...o.splice(1,e)].join(this.formatSeparator)}return o.reduce((e,t)=>{var o;const{formatName:s,formatOptions:i}=(e=>{let t=e.toLowerCase().trim();const n={};if(e.indexOf("(")>-1){const r=e.split("(");t=r[0].toLowerCase().trim();const o=r[1].substring(0,r[1].length-1);"currency"===t&&o.indexOf(":")<0?n.currency||(n.currency=o.trim()):"relativetime"===t&&o.indexOf(":")<0?n.range||(n.range=o.trim()):o.split(";").forEach(e=>{if(e){const[t,...r]=e.split(":"),o=r.join(":").trim().replace(/^'+|'+$/g,""),s=t.trim();n[s]||(n[s]=o),"false"===o&&(n[s]=!1),"true"===o&&(n[s]=!0),isNaN(o)||(n[s]=parseInt(o,10))}})}return{formatName:t,formatOptions:n}})(t);if(this.formats[s]){let t=e;try{const a=(null==(o=null==r?void 0:r.formatParams)?void 0:o[r.interpolationkey])||{},l=a.locale||a.lng||r.locale||r.lng||n;t=this.formats[s](e,l,{...i,...r,...a})}catch(a){this.logger.warn(a)}return t}return this.logger.warn(`there was no format function for ${s}`),e},e)}}class xm extends nm{constructor(e,t,n,r={}){var o,s;super(),this.backend=e,this.store=t,this.services=n,this.languageUtils=n.languageUtils,this.options=r,this.logger=tm.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=r.maxParallelReads||10,this.readingCalls=0,this.maxRetries=r.maxRetries>=0?r.maxRetries:5,this.retryTimeout=r.retryTimeout>=1?r.retryTimeout:350,this.state={},this.queue=[],null==(s=null==(o=this.backend)?void 0:o.init)||s.call(o,n,r.backend,r)}queueLoad(e,t,n,r){const o={},s={},i={},a={};return e.forEach(e=>{let r=!0;t.forEach(t=>{const i=`${e}|${t}`;!n.reload&&this.store.hasResourceBundle(e,t)?this.state[i]=2:this.state[i]<0||(1===this.state[i]?void 0===s[i]&&(s[i]=!0):(this.state[i]=1,r=!1,void 0===s[i]&&(s[i]=!0),void 0===o[i]&&(o[i]=!0),void 0===a[t]&&(a[t]=!0)))}),r||(i[e]=!0)}),(Object.keys(o).length||Object.keys(s).length)&&this.queue.push({pending:s,pendingCount:Object.keys(s).length,loaded:{},errors:[],callback:r}),{toLoad:Object.keys(o),pending:Object.keys(s),toLoadLanguages:Object.keys(i),toLoadNamespaces:Object.keys(a)}}loaded(e,t,n){const r=e.split("|"),o=r[0],s=r[1];t&&this.emit("failedLoading",o,s,t),!t&&n&&this.store.addResourceBundle(o,s,n,void 0,void 0,{skipCopy:!0}),this.state[e]=t?-1:2,t&&n&&(this.state[e]=0);const i={};this.queue.forEach(n=>{((e,t,n)=>{const{obj:r,k:o}=Hh(e,t,Object);r[o]=r[o]||[],r[o].push(n)})(n.loaded,[o],s),((e,t)=>{void 0!==e.pending[t]&&(delete e.pending[t],e.pendingCount--)})(n,e),t&&n.errors.push(t),0!==n.pendingCount||n.done||(Object.keys(n.loaded).forEach(e=>{i[e]||(i[e]={});const t=n.loaded[e];t.length&&t.forEach(t=>{void 0===i[e][t]&&(i[e][t]=!0)})}),n.done=!0,n.errors.length?n.callback(n.errors):n.callback())}),this.emit("loaded",i),this.queue=this.queue.filter(e=>!e.done)}read(e,t,n,r=0,o=this.retryTimeout,s){if(!e.length)return s(null,{});if(this.readingCalls>=this.maxParallelReads)return void this.waitingReads.push({lng:e,ns:t,fcName:n,tried:r,wait:o,callback:s});this.readingCalls++;const i=(i,a)=>{if(this.readingCalls--,this.waitingReads.length>0){const e=this.waitingReads.shift();this.read(e.lng,e.ns,e.fcName,e.tried,e.wait,e.callback)}i&&a&&r<this.maxRetries?setTimeout(()=>{this.read.call(this,e,t,n,r+1,2*o,s)},o):s(i,a)},a=this.backend[n].bind(this.backend);if(2!==a.length)return a(e,t,i);try{const n=a(e,t);n&&"function"==typeof n.then?n.then(e=>i(null,e)).catch(i):i(null,n)}catch(l){i(l)}}prepareLoading(e,t,n={},r){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),r&&r();Lh(e)&&(e=this.languageUtils.toResolveHierarchy(e)),Lh(t)&&(t=[t]);const o=this.queueLoad(e,t,n,r);if(!o.toLoad.length)return o.pending.length||r(),null;o.toLoad.forEach(e=>{this.loadOne(e)})}load(e,t,n){this.prepareLoading(e,t,{},n)}reload(e,t,n){this.prepareLoading(e,t,{reload:!0},n)}loadOne(e,t=""){const n=e.split("|"),r=n[0],o=n[1];this.read(r,o,"read",void 0,void 0,(n,s)=>{n&&this.logger.warn(`${t}loading namespace ${o} for language ${r} failed`,n),!n&&s&&this.logger.log(`${t}loaded namespace ${o} for language ${r}`,s),this.loaded(e,n,s)})}saveMissing(e,t,n,r,o,s={},i=()=>{}){var a,l,c,d,u;if(!(null==(l=null==(a=this.services)?void 0:a.utils)?void 0:l.hasLoadedNamespace)||(null==(d=null==(c=this.services)?void 0:c.utils)?void 0:d.hasLoadedNamespace(t))){if(null!=n&&""!==n){if(null==(u=this.backend)?void 0:u.create){const a={...s,isUpdate:o},l=this.backend.create.bind(this.backend);if(l.length<6)try{let o;o=5===l.length?l(e,t,n,r,a):l(e,t,n,r),o&&"function"==typeof o.then?o.then(e=>i(null,e)).catch(i):i(null,o)}catch(p){i(p)}else l(e,t,n,r,i,a)}e&&e[0]&&this.store.addResource(e[0],t,n,r)}}else this.logger.warn(`did not save key "${n}" as the namespace "${t}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")}}const wm=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:e=>{let t={};if("object"==typeof e[1]&&(t=e[1]),Lh(e[1])&&(t.defaultValue=e[1]),Lh(e[2])&&(t.tDescription=e[2]),"object"==typeof e[2]||"object"==typeof e[3]){const n=e[3]||e[2];Object.keys(n).forEach(e=>{t[e]=n[e]})}return t},interpolation:{escapeValue:!0,format:e=>e,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),km=e=>{var t,n;return Lh(e.ns)&&(e.ns=[e.ns]),Lh(e.fallbackLng)&&(e.fallbackLng=[e.fallbackLng]),Lh(e.fallbackNS)&&(e.fallbackNS=[e.fallbackNS]),(null==(n=null==(t=e.supportedLngs)?void 0:t.indexOf)?void 0:n.call(t,"cimode"))<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),"boolean"==typeof e.initImmediate&&(e.initAsync=e.initImmediate),e},Em=()=>{};class Sm extends nm{constructor(e={},t){var n;if(super(),this.options=km(e),this.services={},this.logger=tm,this.modules={external:[]},n=this,Object.getOwnPropertyNames(Object.getPrototypeOf(n)).forEach(e=>{"function"==typeof n[e]&&(n[e]=n[e].bind(n))}),t&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,t),this;setTimeout(()=>{this.init(e,t)},0)}}init(e={},t){this.isInitializing=!0,"function"==typeof e&&(t=e,e={}),null==e.defaultNS&&e.ns&&(Lh(e.ns)?e.defaultNS=e.ns:e.ns.indexOf("translation")<0&&(e.defaultNS=e.ns[0]));const n=wm();this.options={...n,...this.options,...km(e)},this.options.interpolation={...n.interpolation,...this.options.interpolation},void 0!==e.keySeparator&&(this.options.userDefinedKeySeparator=e.keySeparator),void 0!==e.nsSeparator&&(this.options.userDefinedNsSeparator=e.nsSeparator),"function"!=typeof this.options.overloadTranslationOptionHandler&&(this.options.overloadTranslationOptionHandler=n.overloadTranslationOptionHandler),!0===this.options.debug&&"undefined"!=typeof console&&console.warn("i18next is maintained with support from locize.com  consider powering your project with managed localization (AI, CDN, integrations): https://locize.com");const r=e=>e?"function"==typeof e?new e:e:null;if(!this.options.isClone){let e;this.modules.logger?tm.init(r(this.modules.logger),this.options):tm.init(null,this.options),e=this.modules.formatter?this.modules.formatter:ym;const t=new dm(this.options);this.store=new rm(this.options.resources,this.options);const o=this.services;o.logger=tm,o.resourceStore=this.store,o.languageUtils=t,o.pluralResolver=new fm(t,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix});this.options.interpolation.format&&this.options.interpolation.format!==n.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),!e||this.options.interpolation.format&&this.options.interpolation.format!==n.interpolation.format||(o.formatter=r(e),o.formatter.init&&o.formatter.init(o,this.options),this.options.interpolation.format=o.formatter.format.bind(o.formatter)),o.interpolator=new mm(this.options),o.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},o.backendConnector=new xm(r(this.modules.backend),o.resourceStore,o,this.options),o.backendConnector.on("*",(e,...t)=>{this.emit(e,...t)}),this.modules.languageDetector&&(o.languageDetector=r(this.modules.languageDetector),o.languageDetector.init&&o.languageDetector.init(o,this.options.detection,this.options)),this.modules.i18nFormat&&(o.i18nFormat=r(this.modules.i18nFormat),o.i18nFormat.init&&o.i18nFormat.init(this)),this.translator=new cm(this.services,this.options),this.translator.on("*",(e,...t)=>{this.emit(e,...t)}),this.modules.external.forEach(e=>{e.init&&e.init(this)})}if(this.format=this.options.interpolation.format,t||(t=Em),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const e=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);e.length>0&&"dev"!==e[0]&&(this.options.lng=e[0])}this.services.languageDetector||this.options.lng||this.logger.warn("init: no languageDetector is used and no lng is defined");["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(e=>{this[e]=(...t)=>this.store[e](...t)});["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(e=>{this[e]=(...t)=>(this.store[e](...t),this)});const o=zh(),s=()=>{const e=(e,n)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),o.resolve(n),t(e,n)};if(this.languages&&!this.isInitialized)return e(null,this.t.bind(this));this.changeLanguage(this.options.lng,e)};return this.options.resources||!this.options.initAsync?s():setTimeout(s,0),o}loadResources(e,t=Em){var n,r;let o=t;const s=Lh(e)?e:this.language;if("function"==typeof e&&(o=e),!this.options.resources||this.options.partialBundledLanguages){if("cimode"===(null==s?void 0:s.toLowerCase())&&(!this.options.preload||0===this.options.preload.length))return o();const e=[],t=t=>{if(!t)return;if("cimode"===t)return;this.services.languageUtils.toResolveHierarchy(t).forEach(t=>{"cimode"!==t&&e.indexOf(t)<0&&e.push(t)})};if(s)t(s);else{this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(e=>t(e))}null==(r=null==(n=this.options.preload)?void 0:n.forEach)||r.call(n,e=>t(e)),this.services.backendConnector.load(e,this.options.ns,e=>{e||this.resolvedLanguage||!this.language||this.setResolvedLanguage(this.language),o(e)})}else o(null)}reloadResources(e,t,n){const r=zh();return"function"==typeof e&&(n=e,e=void 0),"function"==typeof t&&(n=t,t=void 0),e||(e=this.languages),t||(t=this.options.ns),n||(n=Em),this.services.backendConnector.reload(e,t,e=>{r.resolve(),n(e)}),r}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return"backend"===e.type&&(this.modules.backend=e),("logger"===e.type||e.log&&e.warn&&e.error)&&(this.modules.logger=e),"languageDetector"===e.type&&(this.modules.languageDetector=e),"i18nFormat"===e.type&&(this.modules.i18nFormat=e),"postProcessor"===e.type&&om.addPostProcessor(e),"formatter"===e.type&&(this.modules.formatter=e),"3rdParty"===e.type&&this.modules.external.push(e),this}setResolvedLanguage(e){if(e&&this.languages&&!(["cimode","dev"].indexOf(e)>-1)){for(let e=0;e<this.languages.length;e++){const t=this.languages[e];if(!(["cimode","dev"].indexOf(t)>-1)&&this.store.hasLanguageSomeTranslations(t)){this.resolvedLanguage=t;break}}!this.resolvedLanguage&&this.languages.indexOf(e)<0&&this.store.hasLanguageSomeTranslations(e)&&(this.resolvedLanguage=e,this.languages.unshift(e))}}changeLanguage(e,t){this.isLanguageChangingTo=e;const n=zh();this.emit("languageChanging",e);const r=e=>{this.language=e,this.languages=this.services.languageUtils.toResolveHierarchy(e),this.resolvedLanguage=void 0,this.setResolvedLanguage(e)},o=(o,s)=>{s?this.isLanguageChangingTo===e&&(r(s),this.translator.changeLanguage(s),this.isLanguageChangingTo=void 0,this.emit("languageChanged",s),this.logger.log("languageChanged",s)):this.isLanguageChangingTo=void 0,n.resolve((...e)=>this.t(...e)),t&&t(o,(...e)=>this.t(...e))},s=t=>{var n,s;e||t||!this.services.languageDetector||(t=[]);const i=Lh(t)?t:t&&t[0],a=this.store.hasLanguageSomeTranslations(i)?i:this.services.languageUtils.getBestMatchFromCodes(Lh(t)?[t]:t);a&&(this.language||r(a),this.translator.language||this.translator.changeLanguage(a),null==(s=null==(n=this.services.languageDetector)?void 0:n.cacheUserLanguage)||s.call(n,a)),this.loadResources(a,e=>{o(e,a)})};return e||!this.services.languageDetector||this.services.languageDetector.async?!e&&this.services.languageDetector&&this.services.languageDetector.async?0===this.services.languageDetector.detect.length?this.services.languageDetector.detect().then(s):this.services.languageDetector.detect(s):s(e):s(this.services.languageDetector.detect()),n}getFixedT(e,t,n){const r=(e,t,...o)=>{let s;s="object"!=typeof t?this.options.overloadTranslationOptionHandler([e,t].concat(o)):{...t},s.lng=s.lng||r.lng,s.lngs=s.lngs||r.lngs,s.ns=s.ns||r.ns,""!==s.keyPrefix&&(s.keyPrefix=s.keyPrefix||n||r.keyPrefix);const i=this.options.keySeparator||".";let a;return s.keyPrefix&&Array.isArray(e)?a=e.map(e=>("function"==typeof e&&(e=im(e,{...this.options,...t})),`${s.keyPrefix}${i}${e}`)):("function"==typeof e&&(e=im(e,{...this.options,...t})),a=s.keyPrefix?`${s.keyPrefix}${i}${e}`:e),this.t(a,s)};return Lh(e)?r.lng=e:r.lngs=e,r.ns=t,r.keyPrefix=n,r}t(...e){var t;return null==(t=this.translator)?void 0:t.translate(...e)}exists(...e){var t;return null==(t=this.translator)?void 0:t.exists(...e)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e,t={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const n=t.lng||this.resolvedLanguage||this.languages[0],r=!!this.options&&this.options.fallbackLng,o=this.languages[this.languages.length-1];if("cimode"===n.toLowerCase())return!0;const s=(e,t)=>{const n=this.services.backendConnector.state[`${e}|${t}`];return-1===n||0===n||2===n};if(t.precheck){const e=t.precheck(this,s);if(void 0!==e)return e}return!!this.hasResourceBundle(n,e)||(!(this.services.backendConnector.backend&&(!this.options.resources||this.options.partialBundledLanguages))||!(!s(n,e)||r&&!s(o,e)))}loadNamespaces(e,t){const n=zh();return this.options.ns?(Lh(e)&&(e=[e]),e.forEach(e=>{this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}),this.loadResources(e=>{n.resolve(),t&&t(e)}),n):(t&&t(),Promise.resolve())}loadLanguages(e,t){const n=zh();Lh(e)&&(e=[e]);const r=this.options.preload||[],o=e.filter(e=>r.indexOf(e)<0&&this.services.languageUtils.isSupportedCode(e));return o.length?(this.options.preload=r.concat(o),this.loadResources(e=>{n.resolve(),t&&t(e)}),n):(t&&t(),Promise.resolve())}dir(e){var t,n;if(e||(e=this.resolvedLanguage||((null==(t=this.languages)?void 0:t.length)>0?this.languages[0]:this.language)),!e)return"rtl";try{const t=new Intl.Locale(e);if(t&&t.getTextInfo){const e=t.getTextInfo();if(e&&e.direction)return e.direction}}catch(o){}const r=(null==(n=this.services)?void 0:n.languageUtils)||new dm(wm());return e.toLowerCase().indexOf("-latn")>1?"ltr":["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"].indexOf(r.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(e={},t){const n=new Sm(e,t);return n.createInstance=Sm.createInstance,n}cloneInstance(e={},t=Em){const n=e.forkResourceStore;n&&delete e.forkResourceStore;const r={...this.options,...e,isClone:!0},o=new Sm(r);void 0===e.debug&&void 0===e.prefix||(o.logger=o.logger.clone(e));if(["store","services","language"].forEach(e=>{o[e]=this[e]}),o.services={...this.services},o.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},n){const e=Object.keys(this.store.data).reduce((e,t)=>(e[t]={...this.store.data[t]},e[t]=Object.keys(e[t]).reduce((n,r)=>(n[r]={...e[t][r]},n),e[t]),e),{});o.store=new rm(e,r),o.services.resourceStore=o.store}if(e.interpolation){const t={...wm().interpolation,...this.options.interpolation,...e.interpolation},n={...r,interpolation:t};o.services.interpolator=new mm(n)}return o.translator=new cm(o.services,r),o.translator.on("*",(e,...t)=>{o.emit(e,...t)}),o.init(r,t),o.translator.options=r,o.translator.backendConnector.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},o}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const Cm=Sm.createInstance();Cm.createInstance,Cm.dir,Cm.init,Cm.loadResources,Cm.reloadResources,Cm.use,Cm.changeLanguage,Cm.getFixedT,Cm.t,Cm.exists,Cm.setDefaultNamespace,Cm.hasLoadedNamespace,Cm.loadNamespaces,Cm.loadLanguages;const Im={},jm=(e,t,n,r)=>{Om(n)&&Im[n]||(Om(n)&&(Im[n]=new Date),((e,t,n,r)=>{var o,s,i,a;const l=[n,{code:t,...r||{}}];if(null==(s=null==(o=null==e?void 0:e.services)?void 0:o.logger)?void 0:s.forward)return e.services.logger.forward(l,"warn","react-i18next::",!0);Om(l[0])&&(l[0]=`react-i18next:: ${l[0]}`),(null==(a=null==(i=null==e?void 0:e.services)?void 0:i.logger)?void 0:a.warn)?e.services.logger.warn(...l):(null==console?void 0:console.warn)&&console.warn(...l)})(e,t,n,r))},Rm=(e,t)=>()=>{if(e.isInitialized)t();else{const n=()=>{setTimeout(()=>{e.off("initialized",n)},0),t()};e.on("initialized",n)}},Nm=(e,t,n)=>{e.loadNamespaces(t,Rm(e,n))},Pm=(e,t,n,r)=>{if(Om(n)&&(n=[n]),e.options.preload&&e.options.preload.indexOf(t)>-1)return Nm(e,n,r);n.forEach(t=>{e.options.ns.indexOf(t)<0&&e.options.ns.push(t)}),e.loadLanguages(t,Rm(e,r))},Om=e=>"string"==typeof e,Tm=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,Mm={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},Dm=e=>Mm[e];let Am={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:e=>e.replace(Tm,Dm),transDefaultProps:void 0};let Lm;const zm={type:"3rdParty",init(e){((e={})=>{Am={...Am,...e}})(e.options.react),(e=>{Lm=e})(e)}},Fm=d.createContext();class Bm{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(e=>{this.usedNamespaces[e]||(this.usedNamespaces[e]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const $m={t:(e,t)=>{return Om(t)?t:"object"==typeof(n=t)&&null!==n&&Om(t.defaultValue)?t.defaultValue:Array.isArray(e)?e[e.length-1]:e;var n},ready:!1},_m=()=>()=>{},Hm=(e,t={})=>{var n,r,o;const{i18n:s}=t,{i18n:i,defaultNS:a}=d.useContext(Fm)||{},l=s||i||Lm;l&&!l.reportNamespaces&&(l.reportNamespaces=new Bm),l||jm(l,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const c=d.useMemo(()=>{var e;return{...Am,...null==(e=null==l?void 0:l.options)?void 0:e.react,...t}},[l,t]),{useSuspense:u,keyPrefix:p}=c,f=a||(null==(n=null==l?void 0:l.options)?void 0:n.defaultNS),g=Om(f)?[f]:f||["translation"],h=d.useMemo(()=>g,g);null==(o=null==(r=null==l?void 0:l.reportNamespaces)?void 0:r.addUsedNamespaces)||o.call(r,h);const m=d.useRef(0),v=d.useCallback(e=>{if(!l)return _m;const{bindI18n:t,bindI18nStore:n}=c,r=()=>{m.current+=1,e()};return t&&l.on(t,r),n&&l.store.on(n,r),()=>{t&&t.split(" ").forEach(e=>l.off(e,r)),n&&n.split(" ").forEach(e=>l.store.off(e,r))}},[l,c]),b=d.useRef(),y=d.useCallback(()=>{if(!l)return $m;const e=!(!l.isInitialized&&!l.initializedStoreOnce)&&h.every(e=>((e,t,n={})=>t.languages&&t.languages.length?t.hasLoadedNamespace(e,{lng:n.lng,precheck:(t,r)=>{if(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&t.services.backendConnector.backend&&t.isLanguageChangingTo&&!r(t.isLanguageChangingTo,e))return!1}}):(jm(t,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:t.languages}),!0))(e,l,c)),n=t.lng||l.language,r=m.current,o=b.current;if(o&&o.ready===e&&o.lng===n&&o.keyPrefix===p&&o.revision===r)return o;const s={t:l.getFixedT(n,"fallback"===c.nsMode?h:h[0],p),ready:e,lng:n,keyPrefix:p,revision:r};return b.current=s,s},[l,h,p,c,t.lng]),[x,w]=d.useState(0),{t:k,ready:E}=Ts.useSyncExternalStore(v,y,y);d.useEffect(()=>{if(l&&!E&&!u){const e=()=>w(e=>e+1);t.lng?Pm(l,t.lng,h,e):Nm(l,h,e)}},[l,t.lng,h,E,u,x]);const S=l||{},C=d.useRef(null),I=d.useRef(),j=e=>{const t=Object.getOwnPropertyDescriptors(e);t.__original&&delete t.__original;const n=Object.create(Object.getPrototypeOf(e),t);if(!Object.prototype.hasOwnProperty.call(n,"__original"))try{Object.defineProperty(n,"__original",{value:e,writable:!1,enumerable:!1,configurable:!1})}catch(r){}return n},R=d.useMemo(()=>{const e=S,t=null==e?void 0:e.language;let n=e;e&&(C.current&&C.current.__original===e?I.current!==t?(n=j(e),C.current=n,I.current=t):n=C.current:(n=j(e),C.current=n,I.current=t));const r=[k,n,E];return r.t=k,r.i18n=n,r.ready=E,r},[k,S,E,S.resolvedLanguage,S.language,S.languages]);if(l&&u&&!E)throw new Promise(e=>{const n=()=>e();t.lng?Pm(l,t.lng,h,n):Nm(l,h,n)});return R};function Vm(){const{t:e}=Hm(),{drives:t,currentFolder:r,sidebarWidth:o,expandedPaths:s,folderCache:i,loadingPaths:a,favorites:l,loadDrives:c,toggleFolder:u,loadImages:p,navigateToFolder:f,addCurrentFolderToFavorites:g,removeFavorite:h}=zu();return d.useEffect(()=>{c()},[c]),n.jsxs("aside",{className:"h-full flex flex-col glass-sidebar",style:{width:o},"data-testid":"sidebar",children:[n.jsxs("div",{className:"p-2 m-2 mb-0 flex-shrink-0 glass-section",children:[n.jsx("div",{className:"absolute inset-x-0 top-0 h-[1px] glass-specular"}),n.jsxs("div",{className:"flex items-center justify-between px-2 py-1.5",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Zd,{size:14,className:"text-cyan-400"}),n.jsx("h3",{className:"text-xs font-semibold text-cyan-400 uppercase tracking-wider",children:e("sidebar.favorites")})]}),n.jsx(ep,{onClick:g,disabled:!r,title:e("sidebar.favorites"),size:"xs",variant:"ghost",children:n.jsx(Vd,{size:14})})]}),n.jsxs("ul",{className:"space-y-0.5",children:[l.map(e=>n.jsx(Um,{path:e.path,name:e.name,isActive:r===e.path,onSelect:f,onRemove:h},e.path)),0===l.length&&n.jsx("li",{className:"px-2 py-2 text-xs text-[var(--color-text-muted)] italic",children:e("sidebar.noFavorites")})]})]}),n.jsxs(Hc,{className:"flex-1 overflow-hidden",children:[n.jsx(Yc,{className:"h-full w-full p-2",children:n.jsxs("div",{className:"glass-section p-2 flex-1",children:[n.jsx("div",{className:"absolute inset-x-0 top-0 h-[1px] glass-specular"}),n.jsxs("div",{className:"flex items-center gap-2 px-2 py-1.5",children:[n.jsx(Fd,{size:14,className:"text-cyan-400"}),n.jsx("h3",{className:"text-xs font-semibold text-cyan-400 uppercase tracking-wider",children:e("sidebar.recentFolders")})]}),n.jsx("ul",{className:"space-y-0.5",children:t.map(e=>n.jsx(Wm,{item:e,level:0,currentFolder:r,expandedPaths:s,folderCache:i,loadingPaths:a,onToggle:u,onSelect:p},e.path))})]})}),n.jsx(Zc,{orientation:"vertical",className:"w-2 p-0.5 flex touch-none select-none transition-colors bg-transparent hover:bg-white/5",children:n.jsx(Qc,{className:"flex-1 rounded-full bg-cyan-500/30 hover:bg-cyan-500/50 transition-colors"})})]})]})}function Um({path:e,name:t,isActive:r,onSelect:o,onRemove:s}){return n.jsxs(l.li,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},exit:{opacity:0,x:-10},whileHover:{x:4},transition:{type:"spring",damping:25,stiffness:400},className:`\n        group flex items-center gap-2 px-3 py-2 rounded-lg cursor-pointer text-sm\n        transition-colors duration-150\n        ${r?"bg-cyan-500/20 text-cyan-300 border border-cyan-500/30":"text-[var(--color-text-primary)] hover:bg-[var(--glass-bg-hover)] hover:text-[var(--color-text-primary)] border border-transparent"}\n      `,onClick:()=>o(e),children:[n.jsx(l.div,{whileHover:{scale:1.2,rotate:15},children:n.jsx(Zd,{size:16,className:"text-cyan-400 flex-shrink-0",fill:"currentColor"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("div",{className:"truncate font-medium",children:t}),n.jsx("div",{className:"truncate text-xs text-[var(--color-text-muted)]",children:e})]}),n.jsx(l.button,{onClick:t=>{t.stopPropagation(),s(e)},className:"opacity-0 group-hover:opacity-100 p-1 rounded-lg hover:bg-red-500/20 text-[var(--color-text-secondary)] hover:text-red-400 transition-all",title:"Remove from favorites",whileHover:{scale:1.1,rotate:90},whileTap:{scale:.9},children:n.jsx(iu,{size:14})})]})}function Wm({item:e,level:t,currentFolder:r,expandedPaths:o,folderCache:s,loadingPaths:i,onToggle:a,onSelect:c}){const u=d.useRef(null),p=o.has(e.path),f=i.has(e.path),g=r===e.path,h=s.get(e.path)||[],m=void 0!==e.driveType&&""!==e.driveType;d.useEffect(()=>{if(g&&u.current){const e=setTimeout(()=>{var e;null==(e=u.current)||e.scrollIntoView({behavior:"smooth",block:"nearest"})},300);return()=>clearTimeout(e)}},[g]);return n.jsx(ta,{open:p,children:n.jsxs("li",{children:[n.jsxs(l.div,{ref:u,whileHover:{x:3},transition:{type:"spring",damping:25,stiffness:400},className:`\n            flex items-center gap-1 py-1.5 px-2 rounded-lg cursor-pointer text-sm\n            transition-colors duration-150\n            ${g?"bg-cyan-500/20 text-cyan-300 border border-cyan-500/30":"text-[var(--color-text-primary)] hover:bg-[var(--glass-bg-hover)] hover:text-[var(--color-text-primary)] border border-transparent"}\n          `,style:{paddingLeft:`calc(var(--sidebar-indent-base) + ${t} * var(--sidebar-indent-step))`},onClick:async()=>{await c(e.path)},children:[n.jsx(l.button,{onClick:async t=>{t.stopPropagation(),e.hasSubfolders&&await a(e.path)},className:"w-4 h-4 flex items-center justify-center flex-shrink-0",whileHover:{scale:1.2},whileTap:{scale:.9},children:f?n.jsx(Ld,{size:12,className:"text-[var(--color-text-secondary)] animate-spin"}):e.hasSubfolders?n.jsx(l.div,{animate:{rotateZ:p?0:-90},transition:{duration:.2},children:n.jsx(ud,{size:14,className:"text-[var(--color-text-secondary)]"})}):n.jsx("span",{className:"w-3"})}),(()=>{const e={size:16,className:"flex-shrink-0",strokeWidth:2};return m?n.jsx(l.div,{whileHover:{scale:1.15,rotateY:15},transition:{type:"spring",stiffness:400,damping:25},style:{transformStyle:"preserve-3d",filter:"drop-shadow(0 2px 4px rgba(6,182,212,0.4))"},children:n.jsx(Od,{...e,className:"text-cyan-400 flex-shrink-0"})}):p?n.jsx(l.div,{animate:{rotateY:[0,10,0]},transition:{type:"spring",stiffness:400,damping:25},style:{transformStyle:"preserve-3d",filter:"drop-shadow(0 2px 4px rgba(6,182,212,0.4))"},children:n.jsx(Id,{...e,className:"text-cyan-400 flex-shrink-0"})}):g?n.jsx(l.div,{animate:{scale:[1,1.1,1]},transition:{type:"spring",stiffness:400,damping:25},style:{transformStyle:"preserve-3d",filter:"drop-shadow(0 2px 4px rgba(6,182,212,0.5))"},children:n.jsx(Id,{...e,className:"text-cyan-300 flex-shrink-0"})}):n.jsx(l.div,{whileHover:{scale:1.1},transition:{type:"spring",stiffness:400,damping:25},style:{transformStyle:"preserve-3d"},children:n.jsx(Cd,{...e,className:"text-[var(--color-text-secondary)] flex-shrink-0"})})})(),n.jsx("span",{className:"flex-1 truncate",children:e.name})]}),h.length>0&&n.jsx(za,{className:"overflow-hidden transition-all duration-200 data-[ending-style]:h-0 data-[ending-style]:opacity-0 data-[starting-style]:h-0 data-[starting-style]:opacity-0",children:n.jsx("ul",{children:h.map(e=>n.jsx(Wm,{item:e,level:t+1,currentFolder:r,expandedPaths:o,folderCache:s,loadingPaths:i,onToggle:a,onSelect:c},e.path))})})]})})}const Gm=Pu((e,t)=>({isOpen:!1,currentImage:null,currentIndex:0,images:[],zoomLevel:100,open:(t,n)=>{const r=n.findIndex(e=>e.path===t.path);e({isOpen:!0,currentImage:t,currentIndex:r>=0?r:0,images:n,zoomLevel:100})},close:()=>{e({isOpen:!1,currentImage:null,zoomLevel:100})},next:()=>{const{images:n,currentIndex:r}=t();if(0===n.length)return;const o=(r+1)%n.length;e({currentIndex:o,currentImage:n[o],zoomLevel:100})},previous:()=>{const{images:n,currentIndex:r}=t();if(0===n.length)return;const o=0===r?n.length-1:r-1;e({currentIndex:o,currentImage:n[o],zoomLevel:100})},goToIndex:n=>{const{images:r}=t();n>=0&&n<r.length&&e({currentIndex:n,currentImage:r[n],zoomLevel:100})},setZoom:t=>{e({zoomLevel:Math.max(50,Math.min(300,t))})},zoomIn:()=>{const{zoomLevel:n}=t();e({zoomLevel:Math.min(300,n+25)})},zoomOut:()=>{const{zoomLevel:n}=t();e({zoomLevel:Math.max(50,n-25)})},resetZoom:()=>{e({zoomLevel:100})}})),qm=Pu(e=>({toasts:[],addToast:(t,n,r=4e3)=>{const o=`toast-${Date.now()}-${Math.random().toString(36).substr(2,9)}`;e(e=>({toasts:[...e.toasts,{id:o,type:t,message:n,duration:r}]})),r>0&&setTimeout(()=>{e(e=>({toasts:e.toasts.filter(e=>e.id!==o)}))},r)},removeToast:t=>{e(e=>({toasts:e.toasts.filter(e=>e.id!==t)}))},success:e=>{const{addToast:t}=qm.getState();t("success",e)},error:e=>{const{addToast:t}=qm.getState();t("error",e,6e3)},info:e=>{const{addToast:t}=qm.getState();t("info",e)},warning:e=>{const{addToast:t}=qm.getState();t("warning",e,5e3)}}));function Km({thumbnail:e,thumbnailUrl:t,fileName:r,isLoading:o,thumbnailSize:s,onThumbnailError:i}){const a=e?`data:image/jpeg;base64,${e}`:t||null;return n.jsxs("div",{className:"bg-[var(--glass-bg)] relative overflow-hidden",style:{height:s?`${s}px`:void 0,aspectRatio:s?void 0:"1/1"},children:[o&&n.jsx("div",{className:"absolute inset-0 bg-[var(--glass-bg-hover)] animate-pulse"}),!o&&a&&n.jsx("div",{className:"absolute inset-0 scale-110 blur-xl opacity-50 saturate-150",style:{backgroundImage:`url(${a})`,backgroundSize:"cover",backgroundPosition:"center"}}),o&&n.jsx("div",{className:"absolute inset-0 flex items-center justify-center z-10",children:n.jsx(Xo,{size:"md",color:"secondary"})}),!o&&t?n.jsx("img",{src:t,alt:r,className:"relative z-[1] w-full h-full object-contain transition-opacity duration-300",style:{transform:"translateZ(0)",backfaceVisibility:"hidden"},loading:"lazy",onError:i}):!o&&e?n.jsx("img",{src:`data:image/jpeg;base64,${e}`,alt:r,className:"relative z-[1] w-full h-full object-contain transition-opacity duration-300",style:{transform:"translateZ(0)",backfaceVisibility:"hidden"}}):!o&&n.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:n.jsx(Md,{size:32,className:"text-[var(--color-text-muted)]"})})]})}function Ym({rating:e,isSaving:t,onRate:r,onClear:o}){const[s,i]=d.useState(0),[a,c]=d.useState(null);return n.jsxs("div",{className:"flex items-center justify-center gap-0.5 flex-shrink-0",onMouseLeave:()=>i(0),children:[[0,1,2,3,4].map(t=>{const o=t<(s||e),d=a===t;return n.jsxs(l.button,{onClick:e=>((e,t)=>{c(t),setTimeout(()=>c(null),600),r(e,t)})(e,t),onMouseEnter:()=>i(t+1),className:"p-1 transition-all relative",whileHover:{scale:1.2,y:-1},whileTap:{scale:.9},style:{filter:o?"drop-shadow(0 1px 2px rgba(6,182,212,0.5))":"none"},children:[n.jsx(Zd,{size:16,"data-testid":"star-icon",className:o?"text-cyan-400":"text-white/40",fill:o?"currentColor":"none",strokeWidth:2}),d&&n.jsx(n.Fragment,{children:[0,1,2,3].map(e=>n.jsx(l.span,{className:"absolute w-1 h-1 rounded-full bg-cyan-400",initial:{opacity:1,scale:1,x:0,y:0},animate:{opacity:0,scale:0,x:[0,0===e?-12:1===e?12:0],y:[0,0===e||1===e?-6:2===e?-12:8]},transition:{duration:.5,ease:"easeOut"},style:{left:"50%",top:"50%",boxShadow:"0 0 4px 2px rgba(6,182,212,0.6)"}},e))})]},t)}),e>0&&n.jsx(l.button,{onClick:o,disabled:t,className:"ml-1 p-1 rounded hover:bg-white/10 text-white/40 hover:text-red-400 transition-colors disabled:opacity-50",title:"Rating lschen",whileHover:{scale:1.1,rotate:90},whileTap:{scale:.9},children:n.jsx(iu,{size:12})})]})}const Xm=Pu((e,t)=>({items:[],operation:null,copy:t=>e({items:t,operation:"copy"}),cut:t=>e({items:t,operation:"cut"}),paste:async e=>{const{items:n,operation:r,clear:o}=t();if(!n.length||!r)return;const s=n.map(e=>e.path);try{"copy"===r?await Ou.copyFiles(s,e):(await Ou.moveFiles(s,e),o())}catch(i){throw console.error("Paste operation failed:",i),i}},clear:()=>e({items:[],operation:null}),hasItems:()=>t().items.length>0})),Jm=Pu(e=>({type:null,data:null,openModal:(t,n)=>e({type:t,data:n}),closeModal:()=>e({type:null,data:null})}));function Zm({image:e,thumbnailSize:t,allImages:r=[]}){var o;const{selectedImages:s,selectImage:i,images:a,updateImageRating:c}=zu(),{open:u}=Gm(),[p,f]=d.useState(e.thumbnailBase64||null),[g,h]=d.useState(!e.thumbnailBase64&&!e.thumbnailUrl),[m,v]=d.useState(e.rating||0),[b,y]=d.useState(!1),[x,w]=d.useState(!1),k=d.useRef(null),E=s.has(e.path),S=(null==(o=e.tags)?void 0:o.length)||0,C=function({image:e,allImages:t}){const{selectedImages:n,selectImage:r,images:o}=zu(),{open:s}=Gm(),{show:i}=Dh(),{copy:a,cut:l}=Xm(),{openModal:c}=Jm(),u=n.has(e.path);return d.useCallback(p=>{p.preventDefault(),p.stopPropagation(),u||r(e.path,!1,!1);const f=u?Array.from(n):[e.path],g=f.length>1,h=t.length>0?t:o,m=[{items:[{id:"copy",label:"Kopieren",icon:d.createElement(hd,{size:14}),shortcut:"Strg+C",onClick:()=>a(f.map(e=>({path:e,isFolder:!1})))},{id:"cut",label:"Ausschneiden",icon:d.createElement(qd,{size:14}),shortcut:"Strg+X",onClick:()=>l(f.map(e=>({path:e,isFolder:!1})))}]},{items:[{id:"rename",label:"Umbenennen",icon:d.createElement(_d,{size:14}),shortcut:"F2",disabled:g,onClick:()=>c("rename",{path:e.path,name:e.fileName,isFolder:!1})},{id:"delete",label:"Lschen",icon:d.createElement(nu,{size:14}),shortcut:"Entf",danger:!0,onClick:()=>c("deleteConfirm",{paths:f})}]},{items:[{id:"lightbox",label:"In Lightbox ffnen",icon:d.createElement(zd,{size:14}),disabled:g,onClick:()=>s(e,h)},{id:"explorer",label:"Im Explorer ffnen",icon:d.createElement(Id,{size:14}),disabled:g,onClick:()=>Ou.openInExplorer(e.path)},{id:"properties",label:"Eigenschaften",icon:d.createElement(Dd,{size:14}),shortcut:"Alt+Enter",disabled:g,onClick:()=>c("properties",{path:e.path})}]}];i(p.clientX,p.clientY,m)},[e,u,n,t,o,r,a,l,c,s,i])}({image:e,allImages:r});d.useEffect(()=>{v(e.rating||0)},[e.rating]),d.useEffect(()=>{const e=new IntersectionObserver(([t])=>{t.isIntersecting&&(w(!0),e.disconnect())},{rootMargin:"300px"});return k.current&&e.observe(k.current),()=>e.disconnect()},[]),d.useEffect(()=>{if(x&&!p&&!e.thumbnailUrl){const e=50*Math.random(),t=setTimeout(()=>{I()},e);return()=>clearTimeout(t)}},[x,e.path,e.thumbnailUrl]);const I=d.useCallback(async()=>{try{h(!0);const t=await Ou.getThumbnail(e.path);f(t)}catch(t){console.error("Failed to load thumbnail:",t)}finally{h(!1)}},[e.path]);return n.jsx(l.div,{ref:k,whileHover:{scale:1.03,y:-4},whileTap:{scale:.98},transition:{type:"spring",stiffness:400,damping:25},onClick:t=>{i(e.path,t.ctrlKey||t.metaKey,t.shiftKey)},onDoubleClick:t=>{t.preventDefault(),t.stopPropagation();const n=r.length>0?r:a;u(e,n)},onContextMenu:C,className:`\n        relative group cursor-pointer rounded-xl overflow-hidden\n        ${E?"ring-2 ring-cyan-400/70 ring-offset-2 ring-offset-[var(--color-bg-primary)]":""}\n      `,style:{boxShadow:E?"0 8px 32px rgba(6,182,212,0.35), 0 0 0 1px rgba(6,182,212,0.3)":"0 4px 16px rgba(0,0,0,0.2)"},children:n.jsxs(os,{isFooterBlurred:!0,className:"relative rounded-xl overflow-hidden border-none bg-[var(--glass-bg)]",children:[n.jsx(Km,{thumbnail:p,thumbnailUrl:e.thumbnailUrl,fileName:e.fileName,isLoading:g,thumbnailSize:t,onThumbnailError:()=>{p||I()}}),n.jsxs("div",{className:"absolute inset-0 pointer-events-none",style:{bottom:"auto",height:t?`${t}px`:"100%"},children:[S>0&&n.jsxs(l.div,{className:"absolute top-3 left-3 z-20 px-2.5 py-1 rounded-full bg-cyan-500/95 text-white text-xs font-bold flex items-center gap-1.5 shadow-depth-near",style:{transform:"translateZ(25px)",boxShadow:"0 4px 12px rgba(6,182,212,0.4), inset 0 1px 0 rgba(255,255,255,0.3)"},whileHover:{scale:1.1,y:-2},children:[n.jsx(eu,{size:11}),S]}),n.jsx(l.div,{initial:!1,animate:{opacity:E?1:0,scale:E?1:.5,rotateZ:E?0:-180},className:"absolute top-3 right-3 z-20 w-8 h-8 rounded-full bg-gradient-to-br from-cyan-400 to-blue-500 flex items-center justify-center",style:{transform:"translateZ(30px)",boxShadow:"0 6px 20px rgba(6,182,212,0.5), inset 0 1px 0 rgba(255,255,255,0.4)"},whileHover:{scale:1.15,rotate:5},children:n.jsx(dd,{size:16,className:"text-white",strokeWidth:3})}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-[var(--glass-bg)] via-[var(--glass-bg)]/50 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]}),n.jsxs(ns,{className:"flex-col items-center gap-0 before:bg-white/10 border-white/20 border-1 overflow-hidden py-1.5 px-3 absolute before:rounded-xl rounded-large bottom-1 w-[calc(100%_-_8px)] shadow-small ml-1 z-10 transition-all duration-200",children:[n.jsx("p",{className:"w-full text-xs text-white/90 font-medium truncate text-center max-h-0 opacity-0 group-hover:max-h-8 group-hover:opacity-100 group-hover:mb-1 transition-all duration-200 overflow-hidden",children:e.fileName}),n.jsx(Ym,{rating:m,isSaving:b,onRate:async(t,n)=>{t.stopPropagation();const r=n+1;v(r),y(!0);try{await c(e.path,r),qm.getState().success(`Bewertung: ${"".repeat(r)}${"".repeat(5-r)}`)}catch(o){console.error("Failed to save rating:",o),v(e.rating||0),qm.getState().error("Bewertung konnte nicht gespeichert werden")}finally{y(!1)}},onClear:async t=>{t.stopPropagation(),v(0),y(!0);try{await c(e.path,0)}catch(n){console.error("Failed to clear rating:",n),v(e.rating||0)}finally{y(!1)}}})]})]})})}function Qm({item:e}){const{navigateToFolder:t}=zu(),{show:r}=Dh(),{copy:o,cut:s}=Xm(),{openModal:i}=Jm();return n.jsx(l.div,{whileHover:{scale:1.03,y:-4},whileTap:{scale:.98},onDoubleClick:n=>{n.preventDefault(),n.stopPropagation(),t(e.path)},onContextMenu:t=>{t.preventDefault(),t.stopPropagation();const a=[{items:[{id:"copy",label:"Kopieren",icon:n.jsx(hd,{size:14}),shortcut:"Strg+C",onClick:()=>o([{path:e.path,isFolder:!0}])},{id:"cut",label:"Ausschneiden",icon:n.jsx(qd,{size:14}),shortcut:"Strg+X",onClick:()=>s([{path:e.path,isFolder:!0}])}]},{items:[{id:"rename",label:"Umbenennen",icon:n.jsx(_d,{size:14}),shortcut:"F2",onClick:()=>i("rename",{path:e.path,name:e.name,isFolder:!0})},{id:"delete",label:"Lschen",icon:n.jsx(nu,{size:14}),shortcut:"Entf",danger:!0,onClick:()=>i("deleteConfirm",{paths:[e.path]})}]},{items:[{id:"explorer",label:"Im Explorer ffnen",icon:n.jsx(Id,{size:14}),onClick:()=>Ou.openInExplorer(e.path)},{id:"properties",label:"Eigenschaften",icon:n.jsx(Dd,{size:14}),shortcut:"Alt+Enter",onClick:()=>i("properties",{path:e.path})}]}];r(t.clientX,t.clientY,a)},className:"relative group cursor-pointer rounded-xl overflow-hidden",style:{boxShadow:"0 4px 16px rgba(0,0,0,0.2)"},children:n.jsxs("div",{className:"relative rounded-xl overflow-hidden backdrop-blur-glass-sm flex flex-col h-full",style:{background:"var(--glass-bg)",border:"1px solid rgba(6, 182, 212, 0.15)",aspectRatio:"1/1"},children:[n.jsxs("div",{className:"flex-1 flex items-center justify-center bg-[var(--glass-bg)] relative overflow-hidden group-hover:bg-[var(--glass-bg-hover)] transition-colors",children:[n.jsx("div",{className:"absolute inset-0 bg-cyan-500/5 blur-3xl rounded-full scale-50 group-hover:scale-100 transition-transform duration-500"}),n.jsx(Nd,{size:64,className:"text-cyan-400 drop-shadow-lg relative z-10 group-hover:text-cyan-300 transition-colors",strokeWidth:1.5,fill:"rgba(34, 211, 238, 0.1)"})]}),n.jsxs("div",{className:"p-3 relative bg-[var(--glass-bg)] border-t border-[var(--glass-border)]",children:[n.jsx("div",{className:"absolute inset-x-0 top-0 h-[1px] bg-gradient-to-r from-transparent via-[var(--glass-specular)] to-transparent"}),n.jsx("h3",{className:"text-sm font-medium text-[var(--color-text-primary)] truncate mb-1.5",title:e.name,children:e.name}),n.jsxs("div",{className:"flex items-center gap-3 text-[10px] text-[var(--color-text-muted)] h-4",children:[(e.subfolderCount??0)>0&&n.jsxs("div",{className:"flex items-center gap-1",title:`${e.subfolderCount} Ordner`,children:[n.jsx(Nd,{size:10,className:"text-[var(--color-text-muted)]"}),n.jsx("span",{children:e.subfolderCount})]}),(e.imageCount??0)>0&&n.jsxs("div",{className:"flex items-center gap-1",title:`${e.imageCount} Bilder`,children:[n.jsx(Md,{size:10,className:"text-[var(--color-text-muted)]"}),n.jsx("span",{children:e.imageCount})]}),(e.videoCount??0)>0&&n.jsxs("div",{className:"flex items-center gap-1",title:`${e.videoCount} Videos`,children:[n.jsx(kd,{size:10,className:"text-[var(--color-text-muted)]"}),n.jsx("span",{children:e.videoCount})]}),0===e.subfolderCount&&0===e.imageCount&&0===e.videoCount&&n.jsx("span",{className:"opacity-50",children:"Leer"})]})]})]})})}const ev={"no-results":{icon:n.jsx(Kd,{className:"w-16 h-16"}),iconClass:"text-cyan-400/50",title:"Keine Treffer",subtitle:"Versuche andere Suchbegriffe oder Filter",actionLabel:"Filter zurcksetzen"},"empty-folder":{icon:n.jsx(Id,{className:"w-16 h-16"}),iconClass:"text-cyan-400/40",title:"Ordner ist leer",subtitle:"Dieser Ordner enthlt keine Bilder",actionLabel:void 0},"no-tags":{icon:n.jsx(tu,{className:"w-16 h-16"}),iconClass:"text-cyan-400/40",title:"Keine Tags vorhanden",subtitle:"Whle Bilder aus und vergebe Tags",actionLabel:"Tag-Manager ffnen"}};function tv({type:e,onAction:t}){const r=ev[e];return n.jsxs(l.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,ease:"easeOut"},className:"flex flex-col items-center justify-center h-full p-8",children:[n.jsxs("div",{className:"relative",children:[n.jsx(l.div,{className:"absolute inset-0 bg-cyan-500/20 rounded-full blur-3xl",animate:{scale:[1,1.3,1],opacity:[.2,.4,.2]},transition:{duration:3,repeat:1/0,ease:"easeInOut"},style:{width:"150%",height:"150%",left:"-25%",top:"-25%"}}),n.jsx(l.div,{className:"absolute inset-0 rounded-full",style:{background:"radial-gradient(circle, rgba(6,182,212,0.15) 0%, transparent 70%)",width:"200%",height:"200%",left:"-50%",top:"-50%"},animate:{scale:[.8,1.1,.8],opacity:[.3,.5,.3]},transition:{duration:4,repeat:1/0,ease:"easeInOut",delay:.5}}),n.jsx(l.div,{className:`relative p-8 rounded-2xl backdrop-blur-sm border border-cyan-500/10 ${r.iconClass}`,style:{background:"linear-gradient(135deg, rgba(6,182,212,0.08) 0%, rgba(6,182,212,0.02) 100%)",boxShadow:"0 8px 32px rgba(0,0,0,0.2), inset 0 1px 0 rgba(255,255,255,0.05)"},whileHover:{scale:1.05},transition:{type:"spring",stiffness:300,damping:20},children:r.icon})]}),n.jsx(l.h3,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.15,duration:.3},className:"mt-8 text-xl font-medium text-slate-200",children:r.title}),n.jsx(l.p,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.25,duration:.3},className:"mt-2 text-sm text-slate-400 text-center max-w-xs",children:r.subtitle}),r.actionLabel&&t&&n.jsx(l.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.35,duration:.3},className:"mt-6",children:n.jsx(Xu,{onClick:t,variant:"accent",size:"sm",children:r.actionLabel})})]})}function nv({className:e="",animate:t=!0}){return n.jsx("div",{className:`\n        relative overflow-hidden rounded-lg\n        bg-gradient-to-r from-slate-800/50 via-slate-700/50 to-slate-800/50\n        ${e}\n      `,children:t&&n.jsx(l.div,{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/5 to-transparent",animate:{x:["-100%","100%"]},transition:{duration:1.5,repeat:1/0,ease:"linear"}})})}function rv({size:e=200}){return n.jsxs("div",{className:"rounded-xl overflow-hidden bg-gradient-to-br from-slate-900/80 to-slate-900/60 border border-cyan-500/10",style:{height:e},children:[n.jsx(nv,{className:"h-[70%] rounded-none"}),n.jsxs("div",{className:"p-3 space-y-2",children:[n.jsx(nv,{className:"h-3 w-3/4"}),n.jsx("div",{className:"flex gap-1",children:[...Array(5)].map((e,t)=>n.jsx(nv,{className:"h-3 w-3 rounded-full"},t))})]})]})}function ov({size:e=200}){return n.jsxs("div",{className:"rounded-xl overflow-hidden bg-gradient-to-br from-slate-900/80 to-slate-900/60 border border-cyan-500/10",style:{height:e},children:[n.jsx("div",{className:"h-[70%] flex items-center justify-center",children:n.jsx(nv,{className:"w-14 h-14 rounded-xl"})}),n.jsxs("div",{className:"p-3 space-y-1",children:[n.jsx(nv,{className:"h-3 w-2/3"}),n.jsx(nv,{className:"h-2 w-1/3"})]})]})}function sv({count:e=12,itemSize:t=200}){return n.jsx("div",{className:"grid gap-5",style:{gridTemplateColumns:`repeat(auto-fill, minmax(${t}px, 1fr))`},children:[...Array(e)].map((e,r)=>n.jsx(l.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.05*r,duration:.3},children:r%4==0?n.jsx(ov,{size:t}):n.jsx(rv,{size:t})},r))})}function iv(){const{gridItems:e,currentFolder:t,navigateUp:r,images:o,zoomLevel:s,searchQuery:i,sortBy:a,sortOrder:c,filterRating:u,filterTags:p,isLoadingImages:f}=zu(),g=d.useMemo(()=>Math.round(s/100*200),[s]),h=d.useMemo(()=>{if(!t)return!1;return t.replace(/\\/g,"/").split("/").filter(Boolean).length>1},[t]),m=d.useMemo(()=>{let t=[...e];if(i||null!==u||p.length>0){const e=i?i.toLowerCase():"";t=t.filter(t=>{if(t.isFolder)return!(null!==u||p.length>0)&&(!e||t.name.toLowerCase().includes(e));{const n=t.imageData;if(!n)return!1;if(e){const t=(n.fileName||"").toLowerCase().includes(e),r=(n.tags||[]).some(t=>t.toLowerCase().includes(e));if(!t&&!r)return!1}if(null!==u&&(n.rating||0)!==u)return!1;if(p.length>0){const e=n.tags||[];if(!p.every(t=>e.includes(t)))return!1}return!0}})}const n=t.filter(e=>e.isFolder),r=t.filter(e=>!e.isFolder);return n.sort((e,t)=>(e.name||"").localeCompare(t.name||"")),r.sort((e,t)=>{const n=e.imageData,r=t.imageData;if(!n||!r)return 0;let o=0;switch(a){case"name":o=(n.fileName||"").localeCompare(r.fileName||"");break;case"date":o=new Date(n.dateModified||0).getTime()-new Date(r.dateModified||0).getTime();break;case"size":o=(n.fileSize||0)-(r.fileSize||0);break;case"rating":o=(n.rating||0)-(r.rating||0)}return"asc"===c?o:-o}),[...n,...r]},[e,i,a,c,u,p]),{setSearchQuery:v,setFilterRating:b,setFilterTags:y}=zu(),x=d.useCallback(()=>{v(""),b(null),y([])},[v,b,y]);return f?n.jsx("div",{className:"h-full p-4 overflow-auto",children:n.jsxs("div",{className:"rounded-2xl p-4 backdrop-blur-glass-sm relative overflow-hidden bg-gradient-to-br from-cyan-500/08 to-cyan-500/02 border border-cyan-500/15",children:[n.jsx("div",{className:"absolute inset-x-0 top-0 h-[1px] bg-gradient-to-r from-transparent via-[var(--glass-specular)] to-transparent z-10"}),n.jsx(sv,{count:12,itemSize:g})]})}):0===m.length&&e.length>0?n.jsx("div",{className:"h-full flex items-center justify-center p-4",children:n.jsx(tv,{type:"no-results",onAction:x})}):n.jsx("div",{className:"h-full p-4 overflow-auto",children:n.jsxs("div",{className:"rounded-2xl p-4 backdrop-blur-glass-sm relative overflow-hidden bg-gradient-to-br from-cyan-500/08 to-cyan-500/02 border border-cyan-500/15",children:[n.jsx("div",{className:"absolute inset-x-0 top-0 h-[1px] bg-gradient-to-r from-transparent via-white/20 to-transparent z-10"}),n.jsxs(l.div,{variants:_u,initial:"initial",animate:"animate",className:"grid gap-5",style:{gridTemplateColumns:`repeat(auto-fill, minmax(${g}px, 1fr))`},children:[h&&n.jsx(l.div,{variants:Hu,whileHover:{scale:1.03,y:-4},whileTap:{scale:.98},onDoubleClick:()=>r(),className:"relative group cursor-pointer rounded-xl overflow-hidden shadow-lg",style:{height:g},children:n.jsxs("div",{className:"relative rounded-xl overflow-hidden backdrop-blur-glass-sm flex flex-col h-full bg-[var(--glass-bg)] border border-cyan-500/15",children:[n.jsxs("div",{className:"flex-1 flex items-center justify-center bg-[var(--glass-bg)] relative overflow-hidden group-hover:bg-[var(--glass-bg-hover)] transition-colors",children:[n.jsx("div",{className:"absolute inset-0 bg-cyan-500/5 blur-3xl rounded-full scale-50 group-hover:scale-100 transition-transform duration-500"}),n.jsx(md,{size:56,className:"text-cyan-400 drop-shadow-lg relative z-10 group-hover:text-cyan-300 transition-colors",strokeWidth:1.5})]}),n.jsxs("div",{className:"p-3 relative bg-[var(--glass-bg)] border-t border-[var(--glass-border)]",children:[n.jsx("div",{className:"absolute inset-x-0 top-0 h-[1px] bg-gradient-to-r from-transparent via-[var(--glass-specular)] to-transparent"}),n.jsx("h3",{className:"text-sm font-medium text-[var(--color-text-primary)] truncate",children:".."}),n.jsx("p",{className:"text-[10px] text-[var(--color-text-muted)] mt-1",children:"bergeordneter Ordner"})]})]})}),m.map(e=>{if(e.isFolder)return n.jsx(l.div,{variants:Hu,children:n.jsx(Qm,{item:e})},e.path);const t=e.imageData;if(!t)return null;const r=t.tags||[],s=p.length>0&&p.some(e=>r.includes(e)),i=p.length>0&&!s;return n.jsx(l.div,{variants:Hu,style:{opacity:i?.3:1},className:s?"ring-2 ring-cyan-400 rounded-xl":"",children:n.jsx(Zm,{image:t,allImages:o})},e.path)})]},t)]})})}function av({title:e,value:t,icon:r,trend:o,trendUp:s,delay:i=0}){return n.jsxs(l.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},whileHover:{scale:1.02,y:-2},transition:{type:"spring",stiffness:400,damping:25,delay:i},className:"p-4 rounded-xl relative overflow-hidden group backdrop-blur-glass-sm",style:{background:"var(--glass-bg)",border:"1px solid var(--glass-border)",boxShadow:"0 4px 16px rgba(0, 0, 0, 0.15)"},children:[n.jsx("div",{className:"absolute inset-x-0 top-0 h-[1px]",style:{background:"var(--glass-specular)"}}),n.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity transform group-hover:scale-110 duration-500",children:r}),n.jsxs("div",{className:"relative z-10",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[n.jsx("div",{className:"p-2 rounded-lg bg-[var(--color-cyan-subtle)] text-cyan-400",children:r}),n.jsx("h3",{className:"text-sm font-medium text-[var(--color-text-secondary)]",children:e})]}),n.jsxs("div",{className:"flex items-end gap-3",children:[n.jsx("span",{className:"text-2xl font-bold text-[var(--color-text-primary)]",children:t}),o&&n.jsx("span",{className:"text-xs font-medium mb-1 "+(s?"text-emerald-400":"text-red-400"),children:o})]})]}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-cyan-500/5 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500"})]})}function lv({tags:e,onTagClick:t}){const{t:r}=Hm(),o=[...e].sort((e,t)=>t.usageCount-e.usageCount).slice(0,20),s=Math.max(...o.map(e=>e.usageCount),1),i=Math.min(...o.map(e=>e.usageCount),0),a=e=>{if(s===i)return 1;return.8+1.2*((e-i)/(s-i))},c=e=>{if(s===i)return 1;return.5+.5*((e-i)/(s-i))};return n.jsxs("div",{className:"p-6 rounded-xl backdrop-blur-glass-sm relative overflow-hidden",style:{background:"var(--glass-bg)",border:"1px solid var(--glass-border)",boxShadow:"0 4px 16px rgba(0, 0, 0, 0.15)"},children:[n.jsx("div",{className:"absolute inset-x-0 top-0 h-[1px]",style:{background:"var(--glass-specular)"}}),n.jsxs("div",{className:"flex items-center gap-2 mb-4 text-cyan-400",children:[n.jsx(eu,{size:18}),n.jsx("h3",{className:"font-medium",children:r("hero.popularTags")})]}),n.jsx("div",{className:"flex flex-wrap gap-3 justify-center items-center min-h-[200px]",children:o.length>0?o.map((e,r)=>n.jsx(l.button,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{type:"spring",stiffness:400,damping:25,delay:.02*r},whileHover:{scale:1.1},onClick:()=>null==t?void 0:t(e.name),className:"transition-colors duration-200 text-[var(--color-text-secondary)] hover:text-cyan-400",style:{fontSize:`${a(e.usageCount)}rem`,opacity:c(e.usageCount)},children:e.name},e.name)):n.jsx("p",{className:"text-[var(--color-text-muted)] text-sm",children:r("hero.noTagsFound")})})]})}function cv({drive:e,onClick:t,delay:r=0}){const{t:o}=Hm(),s=e.totalSize?e.totalSize/1024**3:0,i=e.freeSpace?e.freeSpace/1024**3:0,a=s>0?(s-i)/s*100:0,c=e=>{const t=e/1024**3;return t>=1e3?`${(t/1024).toFixed(2)} TB`:`${t.toFixed(0)} GB`};return n.jsxs(l.button,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{type:"spring",stiffness:400,damping:25,delay:r},whileHover:{scale:1.02,y:-2},whileTap:{scale:.98},onClick:()=>t(e),className:"p-4 rounded-xl transition-all duration-300 text-left group cursor-pointer w-full backdrop-blur-glass-sm relative overflow-hidden",style:{background:"var(--glass-bg)",border:"1px solid var(--glass-border)",boxShadow:"0 4px 16px rgba(0, 0, 0, 0.15)"},children:[n.jsx("div",{className:"absolute inset-x-0 top-0 h-[1px]",style:{background:"var(--glass-specular)"}}),n.jsxs("div",{className:"flex items-start gap-4",children:[n.jsx("div",{className:"p-2 rounded-lg bg-[var(--color-cyan-subtle)] group-hover:bg-cyan-500/20 transition-colors",children:(()=>{switch(e.driveType){case"Fixed":default:return n.jsx(Od,{size:32,className:"text-cyan-400"});case"CDRom":return n.jsx(vd,{size:32,className:"text-cyan-400"});case"Removable":return n.jsx(ou,{size:32,className:"text-cyan-400"});case"Network":return n.jsx($d,{size:32,className:"text-blue-400"})}})()}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("h4",{className:"font-medium text-[var(--color-text-primary)] truncate mb-2 group-hover:text-cyan-300 transition-colors",children:e.name}),n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx("div",{className:"w-2 h-2 rounded-full "+(a>90?"bg-red-500":"bg-green-500")}),n.jsx("div",{className:"flex-1 h-2 bg-[var(--color-bg-tertiary)] rounded-full overflow-hidden",children:n.jsx(l.div,{initial:{width:0},animate:{width:`${a}%`},transition:{delay:r+.2,duration:.5},className:`h-full ${a>90?"bg-red-500":a>75?"bg-amber-500":"bg-cyan-500"} rounded-full`})})]}),n.jsxs("p",{className:"text-xs text-[var(--color-text-secondary)]",children:[n.jsx("span",{className:"text-[var(--color-text-primary)]",children:c(e.freeSpace||0)})," ",o("hero.freeOf")," ",c(e.totalSize||0)]})]})]})]})}function dv(){const{t:e}=Hm(),{tags:t,images:r,drives:o,loadDrives:s,loadFolders:i,loadImages:a}=zu();d.useEffect(()=>{s()},[s]);const c=async e=>{await i(e.path),await a(e.path)},u=r.length,p=t.length;return n.jsx("div",{className:"flex-1 overflow-y-auto p-8 relative",children:n.jsxs("div",{className:"relative z-10 max-w-6xl mx-auto space-y-12",children:[n.jsxs("div",{className:"text-center space-y-6 py-12",children:[n.jsx(l.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{type:"spring",stiffness:400,damping:25},className:"w-24 h-24 mx-auto mb-8 relative",children:n.jsx("img",{src:"/logo.png",alt:"TagFusion Logo",className:"w-full h-full object-contain"})}),n.jsx(l.h1,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.2},className:"text-5xl font-bold bg-gradient-to-r from-[var(--color-text-primary)] via-cyan-500 to-cyan-600 bg-clip-text text-transparent pb-2",children:e("hero.title")}),n.jsx(l.p,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.3},className:"text-xl text-[var(--color-text-secondary)] max-w-2xl mx-auto pt-2",children:e("hero.subtitle")})]}),o.length>0&&n.jsxs(l.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},children:[n.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[n.jsx(Od,{size:20,className:"text-cyan-400"}),n.jsx("h3",{className:"text-lg font-semibold text-[var(--color-text-primary)]",children:e("hero.drives")})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:o.map((e,t)=>n.jsx(cv,{drive:e,onClick:c,delay:.6+.1*t},e.path))})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[n.jsx(av,{title:e("hero.savedTags"),value:p,icon:n.jsx(eu,{size:20}),delay:.8}),n.jsx(av,{title:e("hero.imagesIndexed"),value:u>0?u:"-",icon:n.jsx(Md,{size:20}),delay:.9}),n.jsx(av,{title:e("hero.collections"),value:"0",icon:n.jsx(Id,{size:20}),delay:1})]}),n.jsx(l.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:1.1},children:n.jsx(lv,{tags:t})})]})})}function uv(){const{currentFolder:e,navigateToFolder:t}=zu(),r=d.useMemo(()=>{if(!e)return[];const t=e.replace(/\\/g,"/").split("/").filter(Boolean);return t.map((e,n)=>{const r=t.slice(0,n+1);let o=r.join("\\");return 1===r.length&&o.endsWith(":")&&(o+="\\"),{name:e,path:o}})},[e]);return 0===r.length?null:n.jsx("div",{className:"flex items-center gap-1 text-sm overflow-hidden",children:r.map((e,o)=>n.jsxs("div",{className:"flex items-center gap-1 min-w-0",children:[o>0&&n.jsx(fd,{size:14,className:"text-slate-600 flex-shrink-0"}),n.jsxs(l.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>t(e.path),className:"flex items-center gap-1.5 px-2 py-1 rounded-md truncate transition-colors "+(o===r.length-1?"text-cyan-400 bg-cyan-500/10 font-medium":"text-slate-400 hover:text-slate-200 hover:bg-white/5"),title:e.path,children:[0===o&&n.jsx(Od,{size:14,className:"flex-shrink-0"}),n.jsx("span",{className:"truncate",children:e.name})]})]},e.path))})}function pv(){const{t:e}=Hm(),{currentFolder:t,images:r,gridItems:o,isLoadingImages:s,selectedImages:a,updateImageTags:c,navigateUp:u}=zu(),p=d.useMemo(()=>{if(!t)return!1;return t.replace(/\\/g,"/").split("/").filter(Boolean).length>1},[t]),f=d.useMemo(()=>{if(0===a.size)return[];const e=r.filter(e=>a.has(e.path)),t=new Map;return e.forEach(e=>{var n;null==(n=e.tags)||n.forEach(e=>{t.set(e,(t.get(e)||0)+1)})}),Array.from(t.entries()).map(([e,t])=>({name:e,count:t})).sort((e,t)=>t.count-e.count)},[r,a]);if(!t&&!s)return n.jsx(dv,{});if(s)return n.jsx("div",{className:"flex-1 flex items-center justify-center",children:n.jsx(l.div,{initial:{opacity:0},animate:{opacity:1},className:"flex flex-col items-center gap-4",children:n.jsx(Xo,{size:"lg",color:"primary",label:"Lade Elemente..."})})});if(0===o.length)return n.jsx("div",{className:"flex-1 flex items-center justify-center p-8",children:n.jsxs(l.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center",children:[n.jsx("div",{className:"w-20 h-20 mx-auto mb-4 rounded-full bg-[var(--glass-bg)] flex items-center justify-center",children:n.jsx(Md,{size:36,className:"text-[var(--color-text-muted)]"})}),n.jsx("h3",{className:"text-lg font-medium text-[var(--color-text-primary)] mb-2",children:e("emptyState.folderEmpty")}),n.jsx("p",{className:"text-[var(--color-text-muted)] text-sm",children:e("emptyState.noImages")})]})});const g=o.filter(e=>e.isFolder).length,h=o.filter(e=>!e.isFolder).length;return n.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden","data-testid":"main-content",children:[n.jsx(l.div,{className:"flex items-center justify-between px-4 py-3 border-b border-[var(--glass-border)]",style:{transformStyle:"preserve-3d",boxShadow:"inset 0 -1px 0 rgba(0,0,0,0.05)"},initial:{y:-20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.1},children:n.jsxs("div",{className:"flex items-center gap-3 min-w-0 flex-1",children:[n.jsx(xs,{content:e("common.parentFolder"),placement:"bottom",children:n.jsx(Zo,{isIconOnly:!0,size:"sm",variant:"flat",isDisabled:!p,onPress:()=>u(),className:"flex-shrink-0 bg-[var(--glass-bg)] hover:bg-[var(--glass-bg-hover)] disabled:opacity-30",children:n.jsx(gd,{size:18})})}),n.jsx(uv,{}),n.jsxs("div",{className:"flex items-center gap-2 text-sm text-[var(--color-text-muted)] flex-shrink-0 ml-auto",children:[g>0&&n.jsxs("span",{children:[g," ",e("statusBar.folders")]}),g>0&&h>0&&n.jsx("span",{children:""}),h>0&&n.jsxs("span",{children:[h," ",e("statusBar.images")]}),a.size>0&&n.jsxs(l.div,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},exit:{scale:0,opacity:0},className:"flex items-center gap-2",children:[n.jsx("span",{children:""}),n.jsxs(l.span,{className:"text-cyan-400 font-medium",animate:{scale:[1,1.05,1]},transition:{duration:.5},style:{textShadow:"0 2px 8px rgba(6,182,212,0.3)"},children:[a.size," ",e("toolbar.selected")]})]})]})]})}),n.jsx("div",{className:"flex-1 min-h-0",children:n.jsx(iv,{})}),n.jsx(i,{children:f.length>0&&n.jsx(l.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.2,ease:"easeInOut"},className:"border-t border-[var(--glass-border)] bg-[var(--glass-bg)] overflow-hidden",children:n.jsx("div",{className:"p-3",children:n.jsxs("div",{className:"rounded-xl p-3 relative overflow-hidden",style:{background:"linear-gradient(135deg, rgba(6, 182, 212, 0.12) 0%, rgba(6, 182, 212, 0.04) 100%)",border:"1px solid rgba(6, 182, 212, 0.20)",boxShadow:"0 4px 16px rgba(0, 0, 0, 0.15)"},children:[n.jsx("div",{className:"absolute inset-x-0 top-0 h-[1px]",style:{background:"linear-gradient(90deg, transparent 0%, rgba(255,255,255,0.25) 50%, transparent 100%)"}}),n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(eu,{size:14,className:"text-cyan-400"}),n.jsx("span",{className:"text-xs font-semibold text-cyan-400 uppercase tracking-wider",children:"Tags der Auswahl"}),n.jsxs("span",{className:"text-xs text-[var(--color-text-muted)]",children:["(",f.length,")"]})]}),n.jsx("div",{className:"flex flex-wrap gap-1.5",children:f.map(({name:e,count:t},o)=>n.jsxs(l.span,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},transition:{delay:.04*o,duration:.25,ease:"easeOut"},className:"inline-flex items-center gap-1 px-2.5 py-1 rounded-full text-xs text-[var(--color-text-primary)] cursor-pointer group/tag",style:{background:"linear-gradient(135deg, rgba(6, 182, 212, 0.15) 0%, rgba(6, 182, 212, 0.05) 100%)",border:"1px solid rgba(6, 182, 212, 0.25)",boxShadow:"0 4px 12px rgba(0,0,0,0.15), inset 0 1px 0 rgba(255,255,255,0.1)"},children:[n.jsx(eu,{size:10,className:"text-cyan-400"}),n.jsx("span",{children:e}),a.size>1&&n.jsx("span",{className:"text-cyan-400 text-[10px] font-medium",children:t}),n.jsx("button",{onClick:t=>{t.stopPropagation(),(async e=>{var t;for(const n of a){const o=r.find(e=>e.path===n);o&&await c(n,(null==(t=o.tags)?void 0:t.filter(t=>t!==e))||[])}})(e)},className:"ml-0.5 p-0.5 rounded-full hover:bg-red-500/30 hover:scale-110 transition-all",children:n.jsx(iu,{size:10,className:"text-[var(--color-text-muted)] group-hover/tag:text-red-400"})})]},e))})]})})})})]})}const fv=()=>crypto.randomUUID(),gv="tagfusion-tag-library",hv=()=>{try{const e=localStorage.getItem(gv);if(e){return JSON.parse(e).categories.map(e=>({...e,id:e.id||fv(),subcategories:e.subcategories.map(e=>({...e,id:e.id||fv()}))}))}}catch(e){console.error("Failed to load tag library:",e)}return[]},mv=e=>{const t={version:"1.0",exportDate:(new Date).toISOString(),categories:e};localStorage.setItem(gv,JSON.stringify(t)),Ou.saveTagLibrary(t).catch(e=>{console.error("Failed to save tag library to backend:",e)})},vv=Pu((e,t)=>({categories:hv(),isModalOpen:!1,initialize:async()=>{const{categories:e}=t();if(0===e.length)try{const e=await Ou.getTagLibrary();e&&t().importLibrary(JSON.stringify(e))}catch(n){console.error("Failed to initialize tag library from backend:",n)}},openModal:()=>e({isModalOpen:!0}),closeModal:()=>e({isModalOpen:!1}),addCategory:n=>{const{categories:r}=t(),o=[...r,{id:fv(),name:n,subcategories:[],isExpanded:!0}];mv(o),e({categories:o})},renameCategory:(n,r)=>{const{categories:o}=t(),s=o.map(e=>e.id===n?{...e,name:r}:e);mv(s),e({categories:s})},deleteCategory:n=>{const{categories:r}=t(),o=r.filter(e=>e.id!==n);mv(o),e({categories:o})},toggleCategoryExpand:n=>{const{categories:r}=t(),o=r.map(e=>e.id===n?{...e,isExpanded:!e.isExpanded}:e);e({categories:o})},addSubcategory:(n,r)=>{const{categories:o}=t(),s={id:fv(),name:r,tags:[]},i=o.map(e=>e.id===n?{...e,subcategories:[...e.subcategories,s]}:e);mv(i),e({categories:i})},renameSubcategory:(n,r,o)=>{const{categories:s}=t(),i=s.map(e=>e.id===n?{...e,subcategories:e.subcategories.map(e=>e.id===r?{...e,name:o}:e)}:e);mv(i),e({categories:i})},deleteSubcategory:(n,r)=>{const{categories:o}=t(),s=o.map(e=>e.id===n?{...e,subcategories:e.subcategories.filter(e=>e.id!==r)}:e);mv(s),e({categories:s})},addTag:(n,r,o)=>{const{categories:s}=t(),i=s.map(e=>e.id===n?{...e,subcategories:e.subcategories.map(e=>e.id!==r||e.tags.includes(o)?e:{...e,tags:[...e.tags,o]})}:e);mv(i),e({categories:i})},removeTag:(n,r,o)=>{const{categories:s}=t(),i=s.map(e=>e.id===n?{...e,subcategories:e.subcategories.map(e=>e.id===r?{...e,tags:e.tags.filter(e=>e!==o)}:e)}:e);mv(i),e({categories:i})},reorderCategories:(n,r)=>{const{categories:o}=t(),s=Array.from(o),[i]=s.splice(n,1);s.splice(r,0,i),mv(s),e({categories:s})},reorderSubcategories:(n,r,o)=>{const{categories:s}=t(),i=s.map(e=>{if(e.id!==n)return e;const t=Array.from(e.subcategories),[s]=t.splice(r,1);return t.splice(o,0,s),{...e,subcategories:t}});mv(i),e({categories:i})},reorderTags:(n,r,o,s)=>{const{categories:i}=t(),a=i.map(e=>e.id!==n?e:{...e,subcategories:e.subcategories.map(e=>{if(e.id!==r)return e;const t=Array.from(e.tags),[n]=t.splice(o,1);return t.splice(s,0,n),{...e,tags:t}})});mv(a),e({categories:a})},importLibrary:t=>{try{const n=JSON.parse(t),r=n.categories||n;if(!Array.isArray(r))return!1;const o=r.map(e=>({id:e.id||fv(),name:e.name||"Unbenannte Kategorie",isExpanded:!0,subcategories:(e.subcategories||[]).map(e=>({id:e.id||fv(),name:e.name||"Unbenannte Unterkategorie",tags:e.tags||[]}))}));return mv(o),e({categories:o}),!0}catch(n){return console.error("Failed to import library:",n),!1}},exportLibrary:()=>{const{categories:e}=t(),n={version:"1.0",exportDate:(new Date).toISOString(),categories:e.map(({id:e,name:t,subcategories:n})=>({id:e,name:t,subcategories:n.map(({id:e,name:t,tags:n})=>({id:e,name:t,tags:n}))}))};return JSON.stringify(n,null,2)}})),bv=d.forwardRef(function(e,t){const{render:n,className:r,disabled:o=!1,focusableWhenDisabled:s=!1,nativeButton:i=!0,...a}=e,l=Boolean(o),{getButtonProps:c,buttonRef:u}=Oa({disabled:l,focusableWhenDisabled:s,native:i});return ui("button",e,{state:d.useMemo(()=>({disabled:l}),[l]),ref:[t,u],props:[a,c]})});function yv({variant:e="primary",size:t="md",children:r,icon:o,isLoading:s,className:i="",disabled:a,type:l="button",onClick:c}){return n.jsxs(bv,{className:`inline-flex items-center justify-center font-medium rounded-lg transition-all duration-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-offset-slate-900 active:scale-[0.98] hover:shadow-lg hover:brightness-110 ${{primary:"gradient-primary text-white hover:opacity-95 focus-visible:ring-indigo-500 glow-primary",secondary:"glass text-slate-100 hover:bg-white/10 focus-visible:ring-slate-500",ghost:"text-slate-300 hover:text-white hover:bg-white/5 focus-visible:ring-slate-500",danger:"bg-red-500/20 text-red-400 hover:bg-red-500/30 focus-visible:ring-red-500"}[e]} ${{sm:"px-3 py-1.5 text-sm gap-1.5",md:"px-4 py-2 text-sm gap-2",lg:"px-6 py-3 text-base gap-2"}[t]} ${a||s?"opacity-50 cursor-not-allowed":""} ${i}`,disabled:a||s,type:l,onClick:c,children:[s?n.jsx(Xo,{size:"sm",color:"current"}):o,r]})}let xv=function(e){return e.disabled="data-disabled",e.valid="data-valid",e.invalid="data-invalid",e.touched="data-touched",e.dirty="data-dirty",e.filled="data-filled",e.focused="data-focused",e}({});const wv={valid:e=>null===e?null:e?{[xv.valid]:""}:{[xv.invalid]:""}},kv=d.createContext({invalid:void 0,name:void 0,validityData:{state:{badInput:!1,customError:!1,patternMismatch:!1,rangeOverflow:!1,rangeUnderflow:!1,stepMismatch:!1,tooLong:!1,tooShort:!1,typeMismatch:!1,valid:null,valueMissing:!1},errors:[],error:"",value:"",initialValue:null},setValidityData:ri,disabled:void 0,touched:!1,setTouched:ri,dirty:!1,setDirty:ri,filled:!1,setFilled:ri,focused:!1,setFocused:ri,validate:()=>null,validationMode:"onSubmit",validationDebounceTime:0,shouldValidateOnChange:()=>!1,state:{disabled:!1,valid:null,touched:!1,dirty:!1,filled:!1,focused:!1},markedDirtyRef:{current:!1},validation:{getValidationProps:(e=si)=>e,getInputValidationProps:(e=si)=>e,inputRef:{current:null},commit:async()=>{}}});function Ev(e=!0){const t=d.useContext(kv);if(t.setValidityData===ri&&!e)throw new Error($s(28));return t}const Sv=d.createContext({formRef:{current:{fields:new Map}},errors:{},clearErrors:ri,validationMode:"onSubmit",submitAttemptedRef:{current:!1}});function Cv(){return d.useContext(Sv)}const Iv=d.createContext({controlId:void 0,setControlId:ri,labelId:void 0,setLabelId:ri,messageIds:[],setMessageIds:ri,getDescriptionProps:e=>e});function jv(){return d.useContext(Iv)}function Rv(e,t){return{...e,state:{...e.state,valid:!t&&e.state.valid}}}function Nv(e={}){const{id:t,implicit:n=!1,controlRef:r}=e,{controlId:o,setControlId:s}=jv(),i=bi(t);return fi(()=>{if((n||t)&&s!==ri){if(n){const e=null==r?void 0:r.current;aa(e)&&null!=e.closest("label")?s(t??null):s(o??i)}else t&&s(t);return()=>{t&&s(void 0)}}},[t,r,o,s,n,i]),o??i}function Pv(e){const{enabled:t=!0,value:n,id:r,name:o,controlRef:s,commit:i}=e,{formRef:a}=Cv(),{invalid:l,markedDirtyRef:d,validityData:u,setValidityData:p}=Ev(),f=zs(e.getValue);fi(()=>{if(!t)return;let e=n;void 0===e&&(e=f()),null===u.initialValue&&null!==e&&p(t=>({...t,initialValue:e}))},[t,p,n,u.initialValue,f]),fi(()=>{t&&r&&a.current.fields.set(r,{getValue:f,name:o,controlRef:s,validityData:Rv(u,l),validate(){let e=n;void 0===e&&(e=f()),d.current=!0,c.flushSync(()=>i(e))}})},[i,s,t,a,f,r,l,d,o,u,n]),fi(()=>{const e=a.current.fields;return()=>{r&&e.delete(r)}},[a,r])}const Ov=d.forwardRef(function(e,t){const{render:n,className:r,id:o,name:s,value:i,disabled:a=!1,onValueChange:l,defaultValue:c,...u}=e,{state:p,name:f,disabled:g}=Ev(),h=g||a,m=f??s,v=d.useMemo(()=>({...p,disabled:h}),[p,h]),{setTouched:b,setDirty:y,validityData:x,setFocused:w,setFilled:k,validationMode:E,validation:S}=Ev(),{labelId:C}=jv(),I=Nv({id:o});fi(()=>{var e;const t=null!=i;(null==(e=S.inputRef.current)?void 0:e.value)||t&&""!==i?k(!0):t&&""===i&&k(!1)},[S.inputRef,k,i]);const[j,R]=pi({controlled:i,default:c,name:"FieldControl",state:"value"}),N=void 0!==i,P=zs((e,t)=>{null==l||l(e,t),t.isCanceled||R(e)});Pv({id:I,name:m,commit:S.commit,value:j,getValue:()=>{var e;return null==(e=S.inputRef.current)?void 0:e.value},controlRef:S.inputRef});return ui("input",e,{ref:t,state:v,props:[{id:I,disabled:h,name:m,ref:S.inputRef,"aria-labelledby":C,...N?{value:j}:{defaultValue:c},onChange(e){const t=e.currentTarget.value;P(t,Di(yi,e.nativeEvent)),y(t!==x.initialValue),k(""!==t)},onFocus(){w(!0)},onBlur(e){b(!0),w(!1),"onBlur"===E&&S.commit(e.currentTarget.value)},onKeyDown(e){"INPUT"===e.currentTarget.tagName&&"Enter"===e.key&&(b(!0),S.commit(e.currentTarget.value))}},S.getInputValidationProps(),u],stateAttributesMapping:wv})}),Tv=d.forwardRef(function(e,t){return n.jsx(Ov,{ref:t,...e})});function Mv({icon:e,error:t,className:r="",...o}){return n.jsxs("div",{className:"relative",children:[e&&n.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400 pointer-events-none",children:e}),n.jsx(Tv,{className:`\n          w-full px-4 py-2 rounded-lg\n          bg-white/5 border border-white/10\n          text-slate-100 placeholder-slate-500\n          focus:outline-none focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500\n          transition-colors duration-200\n          ${e?"pl-10":""}\n          ${t?"border-red-500":""}\n          ${r}\n        `,...o}),t&&n.jsx("p",{className:"mt-1 text-sm text-red-400",children:t})]})}var Dv=Xv(),Av=e=>Gv(e,Dv),Lv=Xv();Av.write=e=>Gv(e,Lv);var zv=Xv();Av.onStart=e=>Gv(e,zv);var Fv=Xv();Av.onFrame=e=>Gv(e,Fv);var Bv=Xv();Av.onFinish=e=>Gv(e,Bv);var $v=[];Av.setTimeout=(e,t)=>{const n=Av.now()+t,r=()=>{const e=$v.findIndex(e=>e.cancel==r);~e&&$v.splice(e,1),Uv-=~e?1:0},o={time:n,handler:e,cancel:r};return $v.splice(_v(n),0,o),Uv+=1,qv(),o};var _v=e=>~(~$v.findIndex(t=>t.time>e)||~$v.length);Av.cancel=e=>{zv.delete(e),Fv.delete(e),Bv.delete(e),Dv.delete(e),Lv.delete(e)},Av.sync=e=>{Wv=!0,Av.batchedUpdates(e),Wv=!1},Av.throttle=e=>{let t;function n(){try{e(...t)}finally{t=null}}function r(...e){t=e,Av.onStart(n)}return r.handler=e,r.cancel=()=>{zv.delete(n),t=null},r};var Hv="undefined"!=typeof window?window.requestAnimationFrame:()=>{};Av.use=e=>Hv=e,Av.now="undefined"!=typeof performance?()=>performance.now():Date.now,Av.batchedUpdates=e=>e(),Av.catch=console.error,Av.frameLoop="always",Av.advance=()=>{"demand"!==Av.frameLoop?console.warn("Cannot call the manual advancement of rafz whilst frameLoop is not set as demand"):Yv()};var Vv=-1,Uv=0,Wv=!1;function Gv(e,t){Wv?(t.delete(e),e(0)):(t.add(e),qv())}function qv(){Vv<0&&(Vv=0,"demand"!==Av.frameLoop&&Hv(Kv))}function Kv(){~Vv&&(Hv(Kv),Av.batchedUpdates(Yv))}function Yv(){const e=Vv;Vv=Av.now();const t=_v(Vv);t&&(Jv($v.splice(0,t),e=>e.handler()),Uv-=t),Uv?(zv.flush(),Dv.flush(e?Math.min(64,Vv-e):16.667),Fv.flush(),Lv.flush(),Bv.flush()):Vv=-1}function Xv(){let e=new Set,t=e;return{add(n){Uv+=t!=e||e.has(n)?0:1,e.add(n)},delete:n=>(Uv-=t==e&&e.has(n)?1:0,e.delete(n)),flush(n){t.size&&(e=new Set,Uv-=t.size,Jv(t,t=>t(n)&&e.add(t)),Uv+=e.size,t=e)}}}function Jv(e,t){e.forEach(e=>{try{t(e)}catch(n){Av.catch(n)}})}var Zv=Object.defineProperty,Qv={};function eb(){}((e,t)=>{for(var n in t)Zv(e,n,{get:t[n],enumerable:!0})})(Qv,{assign:()=>gb,colors:()=>ub,createStringInterpolator:()=>ab,skipAnimation:()=>pb,to:()=>lb,willAdvance:()=>fb});var tb={arr:Array.isArray,obj:e=>!!e&&"Object"===e.constructor.name,fun:e=>"function"==typeof e,str:e=>"string"==typeof e,num:e=>"number"==typeof e,und:e=>void 0===e};function nb(e,t){if(tb.arr(e)){if(!tb.arr(t)||e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return e===t}var rb=(e,t)=>e.forEach(t);function ob(e,t,n){if(tb.arr(e))for(let r=0;r<e.length;r++)t.call(n,e[r],`${r}`);else for(const r in e)e.hasOwnProperty(r)&&t.call(n,e[r],r)}var sb=e=>tb.und(e)?[]:tb.arr(e)?e:[e];function ib(e,t){if(e.size){const n=Array.from(e);e.clear(),rb(n,t)}}var ab,lb,cb=(e,...t)=>ib(e,e=>e(...t)),db=()=>"undefined"==typeof window||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),ub=null,pb=!1,fb=eb,gb=e=>{e.to&&(lb=e.to),e.now&&(Av.now=e.now),void 0!==e.colors&&(ub=e.colors),null!=e.skipAnimation&&(pb=e.skipAnimation),e.createStringInterpolator&&(ab=e.createStringInterpolator),e.requestAnimationFrame&&Av.use(e.requestAnimationFrame),e.batchedUpdates&&(Av.batchedUpdates=e.batchedUpdates),e.willAdvance&&(fb=e.willAdvance),e.frameLoop&&(Av.frameLoop=e.frameLoop)},hb=new Set,mb=[],vb=[],bb=0,yb={get idle(){return!hb.size&&!mb.length},start(e){bb>e.priority?(hb.add(e),Av.onStart(xb)):(wb(e),Av(Eb))},advance:Eb,sort(e){if(bb)Av.onFrame(()=>yb.sort(e));else{const t=mb.indexOf(e);~t&&(mb.splice(t,1),kb(e))}},clear(){mb=[],hb.clear()}};function xb(){hb.forEach(wb),hb.clear(),Av(Eb)}function wb(e){mb.includes(e)||kb(e)}function kb(e){mb.splice(function(e,t){const n=e.findIndex(t);return n<0?e.length:n}(mb,t=>t.priority>e.priority),0,e)}function Eb(e){const t=vb;for(let n=0;n<mb.length;n++){const r=mb[n];bb=r.priority,r.idle||(fb(r),r.advance(e),r.idle||t.push(r))}return bb=0,(vb=mb).length=0,(mb=t).length>0}var Sb="[-+]?\\d*\\.?\\d+",Cb=Sb+"%";function Ib(...e){return"\\(\\s*("+e.join(")\\s*,\\s*(")+")\\s*\\)"}var jb=new RegExp("rgb"+Ib(Sb,Sb,Sb)),Rb=new RegExp("rgba"+Ib(Sb,Sb,Sb,Sb)),Nb=new RegExp("hsl"+Ib(Sb,Cb,Cb)),Pb=new RegExp("hsla"+Ib(Sb,Cb,Cb,Sb)),Ob=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,Tb=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,Mb=/^#([0-9a-fA-F]{6})$/,Db=/^#([0-9a-fA-F]{8})$/;function Ab(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function Lb(e,t,n){const r=n<.5?n*(1+t):n+t-n*t,o=2*n-r,s=Ab(o,r,e+1/3),i=Ab(o,r,e),a=Ab(o,r,e-1/3);return Math.round(255*s)<<24|Math.round(255*i)<<16|Math.round(255*a)<<8}function zb(e){const t=parseInt(e,10);return t<0?0:t>255?255:t}function Fb(e){return(parseFloat(e)%360+360)%360/360}function Bb(e){const t=parseFloat(e);return t<0?0:t>1?255:Math.round(255*t)}function $b(e){const t=parseFloat(e);return t<0?0:t>100?1:t/100}function _b(e){let t=function(e){let t;return"number"==typeof e?e>>>0===e&&e>=0&&e<=4294967295?e:null:(t=Mb.exec(e))?parseInt(t[1]+"ff",16)>>>0:ub&&void 0!==ub[e]?ub[e]:(t=jb.exec(e))?(zb(t[1])<<24|zb(t[2])<<16|zb(t[3])<<8|255)>>>0:(t=Rb.exec(e))?(zb(t[1])<<24|zb(t[2])<<16|zb(t[3])<<8|Bb(t[4]))>>>0:(t=Ob.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+"ff",16)>>>0:(t=Db.exec(e))?parseInt(t[1],16)>>>0:(t=Tb.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+t[4]+t[4],16)>>>0:(t=Nb.exec(e))?(255|Lb(Fb(t[1]),$b(t[2]),$b(t[3])))>>>0:(t=Pb.exec(e))?(Lb(Fb(t[1]),$b(t[2]),$b(t[3]))|Bb(t[4]))>>>0:null}(e);if(null===t)return e;t=t||0;return`rgba(${(4278190080&t)>>>24}, ${(16711680&t)>>>16}, ${(65280&t)>>>8}, ${(255&t)/255})`}var Hb=(e,t,n)=>{if(tb.fun(e))return e;if(tb.arr(e))return Hb({range:e,output:t,extrapolate:n});if(tb.str(e.output[0]))return ab(e);const r=e,o=r.output,s=r.range||[0,1],i=r.extrapolateLeft||r.extrapolate||"extend",a=r.extrapolateRight||r.extrapolate||"extend",l=r.easing||(e=>e);return e=>{const t=function(e,t){for(var n=1;n<t.length-1&&!(t[n]>=e);++n);return n-1}(e,s);return function(e,t,n,r,o,s,i,a,l){let c=l?l(e):e;if(c<t){if("identity"===i)return c;"clamp"===i&&(c=t)}if(c>n){if("identity"===a)return c;"clamp"===a&&(c=n)}if(r===o)return r;if(t===n)return e<=t?r:o;t===-1/0?c=-c:n===1/0?c-=t:c=(c-t)/(n-t);c=s(c),r===-1/0?c=-c:o===1/0?c+=r:c=c*(o-r)+r;return c}(e,s[t],s[t+1],o[t],o[t+1],l,i,a,r.map)}};var Vb=Symbol.for("FluidValue.get"),Ub=Symbol.for("FluidValue.observers"),Wb=e=>Boolean(e&&e[Vb]),Gb=e=>e&&e[Vb]?e[Vb]():e,qb=e=>e[Ub]||null;function Kb(e,t){const n=e[Ub];n&&n.forEach(e=>{!function(e,t){e.eventObserved?e.eventObserved(t):e(t)}(e,t)})}var Yb=class{constructor(e){if(!e&&!(e=this.get))throw Error("Unknown getter");Xb(this,e)}},Xb=(e,t)=>ey(e,Vb,t);function Jb(e,t){if(e[Vb]){let n=e[Ub];n||ey(e,Ub,n=new Set),n.has(t)||(n.add(t),e.observerAdded&&e.observerAdded(n.size,t))}return t}function Zb(e,t){const n=e[Ub];if(n&&n.has(t)){const r=n.size-1;r?n.delete(t):e[Ub]=null,e.observerRemoved&&e.observerRemoved(r,t)}}var Qb,ey=(e,t,n)=>Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0}),ty=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,ny=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,ry=new RegExp(`(${ty.source})(%|[a-z]+)`,"i"),oy=/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,sy=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/,iy=e=>{const[t,n]=ay(e);if(!t||db())return e;const r=window.getComputedStyle(document.documentElement).getPropertyValue(t);if(r)return r.trim();if(n&&n.startsWith("--")){const t=window.getComputedStyle(document.documentElement).getPropertyValue(n);return t||e}return n&&sy.test(n)?iy(n):n||e},ay=e=>{const t=sy.exec(e);if(!t)return[,];const[,n,r]=t;return[n,r]},ly=(e,t,n,r,o)=>`rgba(${Math.round(t)}, ${Math.round(n)}, ${Math.round(r)}, ${o})`,cy=e=>{Qb||(Qb=ub?new RegExp(`(${Object.keys(ub).join("|")})(?!\\w)`,"g"):/^\b$/);const t=e.output.map(e=>Gb(e).replace(sy,iy).replace(ny,_b).replace(Qb,_b)),n=t.map(e=>e.match(ty).map(Number)),r=n[0].map((e,t)=>n.map(e=>{if(!(t in e))throw Error('The arity of each "output" value must be equal');return e[t]})).map(t=>Hb({...e,output:t}));return e=>{var n;const o=!ry.test(t[0])&&(null==(n=t.find(e=>ry.test(e)))?void 0:n.replace(ty,""));let s=0;return t[0].replace(ty,()=>`${r[s++](e)}${o||""}`).replace(oy,ly)}},dy="react-spring: ",uy=e=>{const t=e;let n=!1;if("function"!=typeof t)throw new TypeError(`${dy}once requires a function parameter`);return(...e)=>{n||(t(...e),n=!0)}},py=uy(console.warn);var fy=uy(console.warn);function gy(e){return tb.str(e)&&("#"==e[0]||/\d/.test(e)||!db()&&sy.test(e)||e in(ub||{}))}var hy=db()?d.useEffect:d.useLayoutEffect;function my(){const e=d.useState()[1],t=(()=>{const e=d.useRef(!1);return hy(()=>(e.current=!0,()=>{e.current=!1}),[]),e})();return()=>{t.current&&e(Math.random())}}var vy=e=>d.useEffect(e,by),by=[];function yy(e){const t=d.useRef(void 0);return d.useEffect(()=>{t.current=e}),t.current}var xy=Symbol.for("Animated:node"),wy=e=>e&&e[xy],ky=(e,t)=>{return n=e,r=xy,o=t,Object.defineProperty(n,r,{value:o,writable:!0,configurable:!0});var n,r,o},Ey=e=>e&&e[xy]&&e[xy].getPayload(),Sy=class{constructor(){ky(this,this)}getPayload(){return this.payload||[]}},Cy=class e extends Sy{constructor(e){super(),this._value=e,this.done=!0,this.durationProgress=0,tb.num(this._value)&&(this.lastPosition=this._value)}static create(t){return new e(t)}getPayload(){return[this]}getValue(){return this._value}setValue(e,t){return tb.num(e)&&(this.lastPosition=e,t&&(e=Math.round(e/t)*t,this.done&&(this.lastPosition=e))),this._value!==e&&(this._value=e,!0)}reset(){const{done:e}=this;this.done=!1,tb.num(this._value)&&(this.elapsedTime=0,this.durationProgress=0,this.lastPosition=this._value,e&&(this.lastVelocity=null),this.v0=null)}},Iy=class e extends Cy{constructor(e){super(0),this._string=null,this._toString=Hb({output:[e,e]})}static create(t){return new e(t)}getValue(){const e=this._string;return null==e?this._string=this._toString(this._value):e}setValue(e){if(tb.str(e)){if(e==this._string)return!1;this._string=e,this._value=1}else{if(!super.setValue(e))return!1;this._string=null}return!0}reset(e){e&&(this._toString=Hb({output:[this.getValue(),e]})),this._value=0,super.reset()}},jy={dependencies:null},Ry=class extends Sy{constructor(e){super(),this.source=e,this.setValue(e)}getValue(e){const t={};return ob(this.source,(n,r)=>{var o;(o=n)&&o[xy]===o?t[r]=n.getValue(e):Wb(n)?t[r]=Gb(n):e||(t[r]=n)}),t}setValue(e){this.source=e,this.payload=this._makePayload(e)}reset(){this.payload&&rb(this.payload,e=>e.reset())}_makePayload(e){if(e){const t=new Set;return ob(e,this._addToPayload,t),Array.from(t)}}_addToPayload(e){jy.dependencies&&Wb(e)&&jy.dependencies.add(e);const t=Ey(e);t&&rb(t,e=>this.add(e))}},Ny=class e extends Ry{constructor(e){super(e)}static create(t){return new e(t)}getValue(){return this.source.map(e=>e.getValue())}setValue(e){const t=this.getPayload();return e.length==t.length?t.map((t,n)=>t.setValue(e[n])).some(Boolean):(super.setValue(e.map(Py)),!0)}};function Py(e){return(gy(e)?Iy:Cy).create(e)}function Oy(e){const t=wy(e);return t?t.constructor:tb.arr(e)?Ny:gy(e)?Iy:Cy}var Ty=(e,t)=>{const n=!tb.fun(e)||e.prototype&&e.prototype.isReactComponent;return d.forwardRef((r,o)=>{const s=d.useRef(null),i=n&&d.useCallback(e=>{s.current=function(e,t){e&&(tb.fun(e)?e(t):e.current=t);return t}(o,e)},[o]),[a,l]=function(e,t){const n=new Set;jy.dependencies=n,e.style&&(e={...e,style:t.createAnimatedStyle(e.style)});return e=new Ry(e),jy.dependencies=null,[e,n]}(r,t),c=my(),u=()=>{const e=s.current;if(n&&!e)return;!1===(!!e&&t.applyAnimatedValues(e,a.getValue(!0)))&&c()},p=new My(u,l),f=d.useRef(void 0);hy(()=>(f.current=p,rb(l,e=>Jb(e,p)),()=>{f.current&&(rb(f.current.deps,e=>Zb(e,f.current)),Av.cancel(f.current.update))})),d.useEffect(u,[]),vy(()=>()=>{const e=f.current;rb(e.deps,t=>Zb(t,e))});const g=t.getComponentProps(a.getValue());return d.createElement(e,{...g,ref:i})})},My=class{constructor(e,t){this.update=e,this.deps=t}eventObserved(e){"change"==e.type&&Av.write(this.update)}};var Dy=Symbol.for("AnimatedComponent"),Ay=e=>tb.str(e)?e:e&&tb.str(e.displayName)?e.displayName:tb.fun(e)&&e.name||null;function Ly(e,...t){return tb.fun(e)?e(...t):e}var zy=(e,t)=>!0===e||!!(t&&e&&(tb.fun(e)?e(t):sb(e).includes(t))),Fy=(e,t)=>tb.obj(e)?t&&e[t]:e,By=(e,t)=>!0===e.default?e[t]:e.default?e.default[t]:void 0,$y=e=>e,_y=(e,t=$y)=>{let n=Hy;e.default&&!0!==e.default&&(e=e.default,n=Object.keys(e));const r={};for(const o of n){const n=t(e[o],o);tb.und(n)||(r[o]=n)}return r},Hy=["config","onProps","onStart","onChange","onPause","onResume","onRest"],Vy={config:1,from:1,to:1,ref:1,loop:1,reset:1,pause:1,cancel:1,reverse:1,immediate:1,default:1,delay:1,onProps:1,onStart:1,onChange:1,onPause:1,onResume:1,onRest:1,onResolve:1,items:1,trail:1,sort:1,expires:1,initial:1,enter:1,update:1,leave:1,children:1,onDestroyed:1,keys:1,callId:1,parentId:1};function Uy(e){const t=function(e){const t={};let n=0;if(ob(e,(e,r)=>{Vy[r]||(t[r]=e,n++)}),n)return t}(e);if(t){const n={to:t};return ob(e,(e,r)=>r in t||(n[r]=e)),n}return{...e}}function Wy(e){return e=Gb(e),tb.arr(e)?e.map(Wy):gy(e)?Qv.createStringInterpolator({range:[0,1],output:[e,e]})(1):e}function Gy(e){return tb.fun(e)||tb.arr(e)&&tb.obj(e[0])}var qy={tension:170,friction:26,mass:1,damping:1,easing:e=>e,clamp:!1},Ky=class{constructor(){this.velocity=0,Object.assign(this,qy)}};function Yy(e,t){if(tb.und(t.decay)){const n=!tb.und(t.tension)||!tb.und(t.friction);!n&&tb.und(t.frequency)&&tb.und(t.damping)&&tb.und(t.mass)||(e.duration=void 0,e.decay=void 0),n&&(e.frequency=void 0)}else e.duration=void 0}var Xy=[],Jy=class{constructor(){this.changed=!1,this.values=Xy,this.toValues=null,this.fromValues=Xy,this.config=new Ky,this.immediate=!1}};function Zy(e,{key:t,props:n,defaultProps:r,state:o,actions:s}){return new Promise((i,a)=>{let l,c,d=zy(n.cancel??(null==r?void 0:r.cancel),t);if(d)f();else{tb.und(n.pause)||(o.paused=zy(n.pause,t));let e=null==r?void 0:r.pause;!0!==e&&(e=o.paused||zy(e,t)),l=Ly(n.delay||0,t),e?(o.resumeQueue.add(p),s.pause()):(s.resume(),p())}function u(){o.resumeQueue.add(p),o.timeouts.delete(c),c.cancel(),l=c.time-Av.now()}function p(){l>0&&!Qv.skipAnimation?(o.delayed=!0,c=Av.setTimeout(f,l),o.pauseQueue.add(u),o.timeouts.add(c)):f()}function f(){o.delayed&&(o.delayed=!1),o.pauseQueue.delete(u),o.timeouts.delete(c),e<=(o.cancelId||0)&&(d=!0);try{s.start({...n,callId:e,cancel:d},i)}catch(t){a(t)}}})}var Qy=(e,t)=>1==t.length?t[0]:t.some(e=>e.cancelled)?nx(e.get()):t.every(e=>e.noop)?ex(e.get()):tx(e.get(),t.every(e=>e.finished)),ex=e=>({value:e,noop:!0,finished:!0,cancelled:!1}),tx=(e,t,n=!1)=>({value:e,finished:t,cancelled:n}),nx=e=>({value:e,cancelled:!0,finished:!1});function rx(e,t,n,r){const{callId:o,parentId:s,onRest:i}=t,{asyncTo:a,promise:l}=n;return s||e!==a||t.reset?n.promise=(async()=>{n.asyncId=o,n.asyncTo=e;const c=_y(t,(e,t)=>"onRest"===t?void 0:e);let d,u;const p=new Promise((e,t)=>(d=e,u=t)),f=e=>{const t=o<=(n.cancelId||0)&&nx(r)||o!==n.asyncId&&tx(r,!1);if(t)throw e.result=t,u(e),e},g=(e,t)=>{const s=new sx,i=new ix;return(async()=>{if(Qv.skipAnimation)throw ox(n),i.result=tx(r,!1),u(i),i;f(s);const a=tb.obj(e)?{...e}:{...t,to:e};a.parentId=o,ob(c,(e,t)=>{tb.und(a[t])&&(a[t]=e)});const l=await r.start(a);return f(s),n.paused&&await new Promise(e=>{n.resumeQueue.add(e)}),l})()};let h;if(Qv.skipAnimation)return ox(n),tx(r,!1);try{let t;t=tb.arr(e)?(async e=>{for(const t of e)await g(t)})(e):Promise.resolve(e(g,r.stop.bind(r))),await Promise.all([t.then(d),p]),h=tx(r.get(),!0,!1)}catch(m){if(m instanceof sx)h=m.result;else{if(!(m instanceof ix))throw m;h=m.result}}finally{o==n.asyncId&&(n.asyncId=s,n.asyncTo=s?a:void 0,n.promise=s?l:void 0)}return tb.fun(i)&&Av.batchedUpdates(()=>{i(h,r,r.item)}),h})():l}function ox(e,t){ib(e.timeouts,e=>e.cancel()),e.pauseQueue.clear(),e.resumeQueue.clear(),e.asyncId=e.asyncTo=e.promise=void 0,t&&(e.cancelId=t)}var sx=class extends Error{constructor(){super("An async animation has been interrupted. You see this error because you forgot to use `await` or `.catch(...)` on its returned promise.")}},ix=class extends Error{constructor(){super("SkipAnimationSignal")}},ax=e=>e instanceof cx,lx=1,cx=class extends Yb{constructor(){super(...arguments),this.id=lx++,this._priority=0}get priority(){return this._priority}set priority(e){this._priority!=e&&(this._priority=e,this._onPriorityChange(e))}get(){const e=wy(this);return e&&e.getValue()}to(...e){return Qv.to(this,e)}interpolate(...e){return py(`${dy}The "interpolate" function is deprecated in v9 (use "to" instead)`),Qv.to(this,e)}toJSON(){return this.get()}observerAdded(e){1==e&&this._attach()}observerRemoved(e){0==e&&this._detach()}_attach(){}_detach(){}_onChange(e,t=!1){Kb(this,{type:"change",parent:this,value:e,idle:t})}_onPriorityChange(e){this.idle||yb.sort(this),Kb(this,{type:"priority",parent:this,priority:e})}},dx=Symbol.for("SpringPhase"),ux=e=>(1&e[dx])>0,px=e=>(2&e[dx])>0,fx=e=>(4&e[dx])>0,gx=(e,t)=>t?e[dx]|=3:e[dx]&=-3,hx=(e,t)=>t?e[dx]|=4:e[dx]&=-5,mx=class extends cx{constructor(e,t){if(super(),this.animation=new Jy,this.defaultProps={},this._state={paused:!1,delayed:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._pendingCalls=new Set,this._lastCallId=0,this._lastToId=0,this._memoizedDuration=0,!tb.und(e)||!tb.und(t)){const n=tb.obj(e)?{...e}:{...t,from:e};tb.und(n.default)&&(n.default=!0),this.start(n)}}get idle(){return!(px(this)||this._state.asyncTo)||fx(this)}get goal(){return Gb(this.animation.to)}get velocity(){const e=wy(this);return e instanceof Cy?e.lastVelocity||0:e.getPayload().map(e=>e.lastVelocity||0)}get hasAnimated(){return ux(this)}get isAnimating(){return px(this)}get isPaused(){return fx(this)}get isDelayed(){return this._state.delayed}advance(e){let t=!0,n=!1;const r=this.animation;let{toValues:o}=r;const{config:s}=r,i=Ey(r.to);!i&&Wb(r.to)&&(o=sb(Gb(r.to))),r.values.forEach((a,l)=>{if(a.done)return;const c=a.constructor==Iy?1:i?i[l].lastPosition:o[l];let d=r.immediate,u=c;if(!d){if(u=a.lastPosition,s.tension<=0)return void(a.done=!0);let t=a.elapsedTime+=e;const n=r.fromValues[l],o=null!=a.v0?a.v0:a.v0=tb.arr(s.velocity)?s.velocity[l]:s.velocity;let i;const p=s.precision||(n==c?.005:Math.min(1,.001*Math.abs(c-n)));if(tb.und(s.duration))if(s.decay){const e=!0===s.decay?.998:s.decay,r=Math.exp(-(1-e)*t);u=n+o/(1-e)*(1-r),d=Math.abs(a.lastPosition-u)<=p,i=o*r}else{i=null==a.lastVelocity?o:a.lastVelocity;const t=s.restVelocity||p/10,r=s.clamp?0:s.bounce,l=!tb.und(r),f=n==c?a.v0>0:n<c;let g,h=!1;const m=1,v=Math.ceil(e/m);for(let e=0;e<v&&(g=Math.abs(i)>t,g||(d=Math.abs(c-u)<=p,!d));++e){l&&(h=u==c||u>c==f,h&&(i=-i*r,u=c));i+=(1e-6*-s.tension*(u-c)+.001*-s.friction*i)/s.mass*m,u+=i*m}}else{let r=1;s.duration>0&&(this._memoizedDuration!==s.duration&&(this._memoizedDuration=s.duration,a.durationProgress>0&&(a.elapsedTime=s.duration*a.durationProgress,t=a.elapsedTime+=e)),r=(s.progress||0)+t/this._memoizedDuration,r=r>1?1:r<0?0:r,a.durationProgress=r),u=n+s.easing(r)*(c-n),i=(u-a.lastPosition)/e,d=1==r}a.lastVelocity=i,Number.isNaN(u)&&(console.warn("Got NaN while animating:",this),d=!0)}i&&!i[l].done&&(d=!1),d?a.done=!0:t=!1,a.setValue(u,s.round)&&(n=!0)});const a=wy(this),l=a.getValue();if(t){const e=Gb(r.to);l===e&&!n||s.decay?n&&s.decay&&this._onChange(l):(a.setValue(e),this._onChange(e)),this._stop()}else n&&this._onChange(l)}set(e){return Av.batchedUpdates(()=>{this._stop(),this._focus(e),this._set(e)}),this}pause(){this._update({pause:!0})}resume(){this._update({pause:!1})}finish(){if(px(this)){const{to:e,config:t}=this.animation;Av.batchedUpdates(()=>{this._onStart(),t.decay||this._set(e,!1),this._stop()})}return this}update(e){return(this.queue||(this.queue=[])).push(e),this}start(e,t){let n;return tb.und(e)?(n=this.queue||[],this.queue=[]):n=[tb.obj(e)?e:{...t,to:e}],Promise.all(n.map(e=>this._update(e))).then(e=>Qy(this,e))}stop(e){const{to:t}=this.animation;return this._focus(this.get()),ox(this._state,e&&this._lastCallId),Av.batchedUpdates(()=>this._stop(t,e)),this}reset(){this._update({reset:!0})}eventObserved(e){"change"==e.type?this._start():"priority"==e.type&&(this.priority=e.priority+1)}_prepareNode(e){const t=this.key||"";let{to:n,from:r}=e;n=tb.obj(n)?n[t]:n,(null==n||Gy(n))&&(n=void 0),r=tb.obj(r)?r[t]:r,null==r&&(r=void 0);const o={to:n,from:r};return ux(this)||(e.reverse&&([n,r]=[r,n]),r=Gb(r),tb.und(r)?wy(this)||this._set(n):this._set(r)),o}_update({...e},t){const{key:n,defaultProps:r}=this;e.default&&Object.assign(r,_y(e,(e,t)=>/^on/.test(t)?Fy(e,n):e)),Ex(this,e,"onProps"),Sx(this,"onProps",e,this);const o=this._prepareNode(e);if(Object.isFrozen(this))throw Error("Cannot animate a `SpringValue` object that is frozen. Did you forget to pass your component to `animated(...)` before animating its props?");const s=this._state;return Zy(++this._lastCallId,{key:n,props:e,defaultProps:r,state:s,actions:{pause:()=>{fx(this)||(hx(this,!0),cb(s.pauseQueue),Sx(this,"onPause",tx(this,vx(this,this.animation.to)),this))},resume:()=>{fx(this)&&(hx(this,!1),px(this)&&this._resume(),cb(s.resumeQueue),Sx(this,"onResume",tx(this,vx(this,this.animation.to)),this))},start:this._merge.bind(this,o)}}).then(n=>{if(e.loop&&n.finished&&(!t||!n.noop)){const t=bx(e);if(t)return this._update(t,!0)}return n})}_merge(e,t,n){if(t.cancel)return this.stop(!0),n(nx(this));const r=!tb.und(e.to),o=!tb.und(e.from);if(r||o){if(!(t.callId>this._lastToId))return n(nx(this));this._lastToId=t.callId}const{key:s,defaultProps:i,animation:a}=this,{to:l,from:c}=a;let{to:d=l,from:u=c}=e;!o||r||t.default&&!tb.und(d)||(d=u),t.reverse&&([d,u]=[u,d]);const p=!nb(u,c);p&&(a.from=u),u=Gb(u);const f=!nb(d,l);f&&this._focus(d);const g=Gy(t.to),{config:h}=a,{decay:m,velocity:v}=h;(r||o)&&(h.velocity=0),t.config&&!g&&function(e,t,n){n&&(Yy(n={...n},t),t={...n,...t}),Yy(e,t),Object.assign(e,t);for(const i in qy)null==e[i]&&(e[i]=qy[i]);let{frequency:r,damping:o}=e;const{mass:s}=e;tb.und(r)||(r<.01&&(r=.01),o<0&&(o=0),e.tension=Math.pow(2*Math.PI/r,2)*s,e.friction=4*Math.PI*o*s/r)}(h,Ly(t.config,s),t.config!==i.config?Ly(i.config,s):void 0);let b=wy(this);if(!b||tb.und(d))return n(tx(this,!0));const y=tb.und(t.reset)?o&&!t.default:!tb.und(u)&&zy(t.reset,s),x=y?u:this.get(),w=Wy(d),k=tb.num(w)||tb.arr(w)||gy(w),E=!g&&(!k||zy(i.immediate||t.immediate,s));if(f){const e=Oy(d);if(e!==b.constructor){if(!E)throw Error(`Cannot animate between ${b.constructor.name} and ${e.name}, as the "to" prop suggests`);b=this._set(w)}}const S=b.constructor;let C=Wb(d),I=!1;if(!C){const e=y||!ux(this)&&p;(f||e)&&(I=nb(Wy(x),w),C=!I),(nb(a.immediate,E)||E)&&nb(h.decay,m)&&nb(h.velocity,v)||(C=!0)}if(I&&px(this)&&(a.changed&&!y?C=!0:C||this._stop(l)),!g&&((C||Wb(l))&&(a.values=b.getPayload(),a.toValues=Wb(d)?null:S==Iy?[1]:sb(w)),a.immediate!=E&&(a.immediate=E,E||y||this._set(l)),C)){const{onRest:e}=a;rb(kx,e=>Ex(this,t,e));const r=tx(this,vx(this,l));cb(this._pendingCalls,r),this._pendingCalls.add(n),a.changed&&Av.batchedUpdates(()=>{var t;a.changed=!y,null==e||e(r,this),y?Ly(i.onRest,r):null==(t=a.onStart)||t.call(a,r,this)})}y&&this._set(x),g?n(rx(t.to,t,this._state,this)):C?this._start():px(this)&&!f?this._pendingCalls.add(n):n(ex(x))}_focus(e){const t=this.animation;e!==t.to&&(qb(this)&&this._detach(),t.to=e,qb(this)&&this._attach())}_attach(){let e=0;const{to:t}=this.animation;Wb(t)&&(Jb(t,this),ax(t)&&(e=t.priority+1)),this.priority=e}_detach(){const{to:e}=this.animation;Wb(e)&&Zb(e,this)}_set(e,t=!0){const n=Gb(e);if(!tb.und(n)){const e=wy(this);if(!e||!nb(n,e.getValue())){const r=Oy(n);e&&e.constructor==r?e.setValue(n):ky(this,r.create(n)),e&&Av.batchedUpdates(()=>{this._onChange(n,t)})}}return wy(this)}_onStart(){const e=this.animation;e.changed||(e.changed=!0,Sx(this,"onStart",tx(this,vx(this,e.to)),this))}_onChange(e,t){t||(this._onStart(),Ly(this.animation.onChange,e,this)),Ly(this.defaultProps.onChange,e,this),super._onChange(e,t)}_start(){const e=this.animation;wy(this).reset(Gb(e.to)),e.immediate||(e.fromValues=e.values.map(e=>e.lastPosition)),px(this)||(gx(this,!0),fx(this)||this._resume())}_resume(){Qv.skipAnimation?this.finish():yb.start(this)}_stop(e,t){if(px(this)){gx(this,!1);const n=this.animation;rb(n.values,e=>{e.done=!0}),n.toValues&&(n.onChange=n.onPause=n.onResume=void 0),Kb(this,{type:"idle",parent:this});const r=t?nx(this.get()):tx(this.get(),vx(this,e??n.to));cb(this._pendingCalls,r),n.changed&&(n.changed=!1,Sx(this,"onRest",r,this))}}};function vx(e,t){const n=Wy(t);return nb(Wy(e.get()),n)}function bx(e,t=e.loop,n=e.to){const r=Ly(t);if(r){const o=!0!==r&&Uy(r),s=(o||e).reverse,i=!o||o.reset;return yx({...e,loop:t,default:!1,pause:void 0,to:!s||Gy(n)?n:void 0,from:i?e.from:void 0,reset:i,...o})}}function yx(e){const{to:t,from:n}=e=Uy(e),r=new Set;return tb.obj(t)&&wx(t,r),tb.obj(n)&&wx(n,r),e.keys=r.size?Array.from(r):null,e}function xx(e){const t=yx(e);return tb.und(t.default)&&(t.default=_y(t)),t}function wx(e,t){ob(e,(e,n)=>null!=e&&t.add(n))}var kx=["onStart","onRest","onChange","onPause","onResume"];function Ex(e,t,n){e.animation[n]=t[n]!==By(t,n)?Fy(t[n],e.key):void 0}function Sx(e,t,...n){var r,o,s,i;null==(o=(r=e.animation)[t])||o.call(r,...n),null==(i=(s=e.defaultProps)[t])||i.call(s,...n)}var Cx=["onStart","onChange","onRest"],Ix=1,jx=class{constructor(e,t){this.id=Ix++,this.springs={},this.queue=[],this._lastAsyncId=0,this._active=new Set,this._changed=new Set,this._started=!1,this._state={paused:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._events={onStart:new Map,onChange:new Map,onRest:new Map},this._onFrame=this._onFrame.bind(this),t&&(this._flush=t),e&&this.start({default:!0,...e})}get idle(){return!this._state.asyncTo&&Object.values(this.springs).every(e=>e.idle&&!e.isDelayed&&!e.isPaused)}get item(){return this._item}set item(e){this._item=e}get(){const e={};return this.each((t,n)=>e[n]=t.get()),e}set(e){for(const t in e){const n=e[t];tb.und(n)||this.springs[t].set(n)}}update(e){return e&&this.queue.push(yx(e)),this}start(e){let{queue:t}=this;return e?t=sb(e).map(yx):this.queue=[],this._flush?this._flush(this,t):(Dx(this,t),Rx(this,t))}stop(e,t){if(e!==!!e&&(t=e),t){const n=this.springs;rb(sb(t),t=>n[t].stop(!!e))}else ox(this._state,this._lastAsyncId),this.each(t=>t.stop(!!e));return this}pause(e){if(tb.und(e))this.start({pause:!0});else{const t=this.springs;rb(sb(e),e=>t[e].pause())}return this}resume(e){if(tb.und(e))this.start({pause:!1});else{const t=this.springs;rb(sb(e),e=>t[e].resume())}return this}each(e){ob(this.springs,e)}_onFrame(){const{onStart:e,onChange:t,onRest:n}=this._events,r=this._active.size>0,o=this._changed.size>0;(r&&!this._started||o&&!this._started)&&(this._started=!0,ib(e,([e,t])=>{t.value=this.get(),e(t,this,this._item)}));const s=!r&&this._started,i=o||s&&n.size?this.get():null;o&&t.size&&ib(t,([e,t])=>{t.value=i,e(t,this,this._item)}),s&&(this._started=!1,ib(n,([e,t])=>{t.value=i,e(t,this,this._item)}))}eventObserved(e){if("change"==e.type)this._changed.add(e.parent),e.idle||this._active.add(e.parent);else{if("idle"!=e.type)return;this._active.delete(e.parent)}Av.onFrame(this._onFrame)}};function Rx(e,t){return Promise.all(t.map(t=>Nx(e,t))).then(t=>Qy(e,t))}async function Nx(e,t,n){const{keys:r,to:o,from:s,loop:i,onRest:a,onResolve:l}=t,c=tb.obj(t.default)&&t.default;i&&(t.loop=!1),!1===o&&(t.to=null),!1===s&&(t.from=null);const d=tb.arr(o)||tb.fun(o)?o:void 0;d?(t.to=void 0,t.onRest=void 0,c&&(c.onRest=void 0)):rb(Cx,n=>{const r=t[n];if(tb.fun(r)){const o=e._events[n];t[n]=({finished:e,cancelled:t})=>{const n=o.get(r);n?(e||(n.finished=!1),t&&(n.cancelled=!0)):o.set(r,{value:null,finished:e||!1,cancelled:t||!1})},c&&(c[n]=t[n])}});const u=e._state;t.pause===!u.paused?(u.paused=t.pause,cb(t.pause?u.pauseQueue:u.resumeQueue)):u.paused&&(t.pause=!0);const p=(r||Object.keys(e.springs)).map(n=>e.springs[n].start(t)),f=!0===t.cancel||!0===By(t,"cancel");(d||f&&u.asyncId)&&p.push(Zy(++e._lastAsyncId,{props:t,state:u,actions:{pause:eb,resume:eb,start(t,n){f?(ox(u,e._lastAsyncId),n(nx(e))):(t.onRest=a,n(rx(d,t,u,e)))}}})),u.paused&&await new Promise(e=>{u.resumeQueue.add(e)});const g=Qy(e,await Promise.all(p));if(i&&g.finished&&(!n||!g.noop)){const n=bx(t,i,o);if(n)return Dx(e,[n]),Nx(e,n,!0)}return l&&Av.batchedUpdates(()=>l(g,e,e.item)),g}function Px(e,t){const n={...e.springs};return t&&rb(sb(t),e=>{tb.und(e.keys)&&(e=yx(e)),tb.obj(e.to)||(e={...e,to:void 0}),Mx(n,e,e=>Tx(e))}),Ox(e,n),n}function Ox(e,t){ob(t,(t,n)=>{e.springs[n]||(e.springs[n]=t,Jb(t,e))})}function Tx(e,t){const n=new mx;return n.key=e,t&&Jb(n,t),n}function Mx(e,t,n){t.keys&&rb(t.keys,r=>{(e[r]||(e[r]=n(r)))._prepareNode(t)})}function Dx(e,t){rb(t,t=>{Mx(e.springs,t,t=>Tx(t,e))})}var Ax=d.createContext({pause:!1,immediate:!1}),Lx=()=>{const e=[],t=function(t){fy(`${dy}Directly calling start instead of using the api object is deprecated in v9 (use ".start" instead), this will be removed in later 0.X.0 versions`);const r=[];return rb(e,(e,o)=>{if(tb.und(t))r.push(e.start());else{const s=n(t,e,o);s&&r.push(e.start(s))}}),r};t.current=e,t.add=function(t){e.includes(t)||e.push(t)},t.delete=function(t){const n=e.indexOf(t);~n&&e.splice(n,1)},t.pause=function(){return rb(e,e=>e.pause(...arguments)),this},t.resume=function(){return rb(e,e=>e.resume(...arguments)),this},t.set=function(t){rb(e,(e,n)=>{const r=tb.fun(t)?t(n,e):t;r&&e.set(r)})},t.start=function(t){const n=[];return rb(e,(e,r)=>{if(tb.und(t))n.push(e.start());else{const o=this._getProps(t,e,r);o&&n.push(e.start(o))}}),n},t.stop=function(){return rb(e,e=>e.stop(...arguments)),this},t.update=function(t){return rb(e,(e,n)=>e.update(this._getProps(t,e,n))),this};const n=function(e,t,n){return tb.fun(e)?e(n,t):e};return t._getProps=n,t};function zx(e,t){const n=tb.fun(e),[[r],o]=function(e,t,n){const r=tb.fun(t)&&t;r&&!n&&(n=[]);const o=d.useMemo(()=>r||3==arguments.length?Lx():void 0,[]),s=d.useRef(0),i=my(),a=d.useMemo(()=>({ctrls:[],queue:[],flush(e,t){const n=Px(e,t);return s.current>0&&!a.queue.length&&!Object.keys(n).some(t=>!e.springs[t])?Rx(e,t):new Promise(r=>{Ox(e,n),a.queue.push(()=>{r(Rx(e,t))}),i()})}}),[]),l=d.useRef([...a.ctrls]),c=d.useRef([]),u=yy(e)||0;function p(e,n){for(let o=e;o<n;o++){const e=l.current[o]||(l.current[o]=new jx(null,a.flush)),n=r?r(o,e):t[o];n&&(c.current[o]=xx(n))}}d.useMemo(()=>{rb(l.current.slice(e,u),e=>{!function(e,t){var n;null==(n=e.ref)||n.delete(e),null==t||t.delete(e)}(e,o),e.stop(!0)}),l.current.length=e,p(u,e)},[e]),d.useMemo(()=>{p(0,Math.min(u,e))},n);const f=l.current.map((e,t)=>Px(e,c.current[t])),g=d.useContext(Ax),h=yy(g),m=g!==h&&function(e){for(const t in e)return!0;return!1}(g);hy(()=>{s.current++,a.ctrls=l.current;const{queue:e}=a;e.length&&(a.queue=[],rb(e,e=>e())),rb(l.current,(e,t)=>{null==o||o.add(e),m&&e.start({default:g});const n=c.current[t];n&&(function(e,t){var n;t&&e.ref!==t&&(null==(n=e.ref)||n.delete(e),t.add(e),e.ref=t)}(e,n.ref),e.ref?e.queue.push(n):e.start(n))})}),vy(()=>()=>{rb(a.ctrls,e=>e.stop(!0))});const v=f.map(e=>({...e}));return o?[v,o]:v}(1,n?e:[e],n?[]:t);return n||2==arguments.length?[r,o]:r}var Fx=class extends cx{constructor(e,t){super(),this.source=e,this.idle=!0,this._active=new Set,this.calc=Hb(...t);const n=this._get(),r=Oy(n);ky(this,r.create(n))}advance(e){const t=this._get();nb(t,this.get())||(wy(this).setValue(t),this._onChange(t,this.idle)),!this.idle&&$x(this._active)&&_x(this)}_get(){const e=tb.arr(this.source)?this.source.map(Gb):sb(Gb(this.source));return this.calc(...e)}_start(){this.idle&&!$x(this._active)&&(this.idle=!1,rb(Ey(this),e=>{e.done=!1}),Qv.skipAnimation?(Av.batchedUpdates(()=>this.advance()),_x(this)):yb.start(this))}_attach(){let e=1;rb(sb(this.source),t=>{Wb(t)&&Jb(t,this),ax(t)&&(t.idle||this._active.add(t),e=Math.max(e,t.priority+1))}),this.priority=e,this._start()}_detach(){rb(sb(this.source),e=>{Wb(e)&&Zb(e,this)}),this._active.clear(),_x(this)}eventObserved(e){"change"==e.type?e.idle?this.advance():(this._active.add(e.parent),this._start()):"idle"==e.type?this._active.delete(e.parent):"priority"==e.type&&(this.priority=sb(this.source).reduce((e,t)=>Math.max(e,(ax(t)?t.priority:0)+1),0))}};function Bx(e){return!1!==e.idle}function $x(e){return!e.size||Array.from(e).every(Bx)}function _x(e){e.idle||(e.idle=!0,rb(Ey(e),e=>{e.done=!0}),Kb(e,{type:"idle",parent:e}))}Qv.assign({createStringInterpolator:cy,to:(e,t)=>new Fx(e,t)});var Hx=/^--/;function Vx(e,t){return null==t||"boolean"==typeof t||""===t?"":"number"!=typeof t||0===t||Hx.test(e)||Wx.hasOwnProperty(e)&&Wx[e]?(""+t).trim():t+"px"}var Ux={};var Wx={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Gx=["Webkit","Ms","Moz","O"];Wx=Object.keys(Wx).reduce((e,t)=>(Gx.forEach(n=>e[((e,t)=>e+t.charAt(0).toUpperCase()+t.substring(1))(n,t)]=e[t]),e),Wx);var qx=/^(matrix|translate|scale|rotate|skew)/,Kx=/^(translate)/,Yx=/^(rotate|skew)/,Xx=(e,t)=>tb.num(e)&&0!==e?e+t:e,Jx=(e,t)=>tb.arr(e)?e.every(e=>Jx(e,t)):tb.num(e)?e===t:parseFloat(e)===t,Zx=class extends Ry{constructor({x:e,y:t,z:n,...r}){const o=[],s=[];(e||t||n)&&(o.push([e||0,t||0,n||0]),s.push(e=>[`translate3d(${e.map(e=>Xx(e,"px")).join(",")})`,Jx(e,0)])),ob(r,(e,t)=>{if("transform"===t)o.push([e||""]),s.push(e=>[e,""===e]);else if(qx.test(t)){if(delete r[t],tb.und(e))return;const n=Kx.test(t)?"px":Yx.test(t)?"deg":"";o.push(sb(e)),s.push("rotate3d"===t?([e,t,r,o])=>[`rotate3d(${e},${t},${r},${Xx(o,n)})`,Jx(o,0)]:e=>[`${t}(${e.map(e=>Xx(e,n)).join(",")})`,Jx(e,t.startsWith("scale")?1:0)])}}),o.length&&(r.transform=new Qx(o,s)),super(r)}},Qx=class extends Yb{constructor(e,t){super(),this.inputs=e,this.transforms=t,this._value=null}get(){return this._value||(this._value=this._get())}_get(){let e="",t=!0;return rb(this.inputs,(n,r)=>{const o=Gb(n[0]),[s,i]=this.transforms[r](tb.arr(o)?o:n.map(Gb));e+=" "+s,t=t&&i}),t?"none":e}observerAdded(e){1==e&&rb(this.inputs,e=>rb(e,e=>Wb(e)&&Jb(e,this)))}observerRemoved(e){0==e&&rb(this.inputs,e=>rb(e,e=>Wb(e)&&Zb(e,this)))}eventObserved(e){"change"==e.type&&(this._value=null),Kb(this,e)}};Qv.assign({batchedUpdates:c.unstable_batchedUpdates,createStringInterpolator:cy,colors:{transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199}});var ew=((e,{applyAnimatedValues:t=()=>!1,createAnimatedStyle:n=e=>new Ry(e),getComponentProps:r=e=>e}={})=>{const o={applyAnimatedValues:t,createAnimatedStyle:n,getComponentProps:r},s=e=>{const t=Ay(e)||"Anonymous";return(e=tb.str(e)?s[e]||(s[e]=Ty(e,o)):e[Dy]||(e[Dy]=Ty(e,o))).displayName=`Animated(${t})`,e};return ob(e,(t,n)=>{tb.arr(e)&&(n=Ay(t)),s[n]=s(t)}),{animated:s}})(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],{applyAnimatedValues:function(e,t){if(!e.nodeType||!e.setAttribute)return!1;const n="filter"===e.nodeName||e.parentNode&&"filter"===e.parentNode.nodeName,{className:r,style:o,children:s,scrollTop:i,scrollLeft:a,viewBox:l,...c}=t,d=Object.values(c),u=Object.keys(c).map(t=>n||e.hasAttribute(t)?t:Ux[t]||(Ux[t]=t.replace(/([A-Z])/g,e=>"-"+e.toLowerCase())));void 0!==s&&(e.textContent=s);for(const p in o)if(o.hasOwnProperty(p)){const t=Vx(p,o[p]);Hx.test(p)?e.style.setProperty(p,t):e.style[p]=t}u.forEach((t,n)=>{e.setAttribute(t,d[n])}),void 0!==r&&(e.className=r),void 0!==i&&(e.scrollTop=i),void 0!==a&&(e.scrollLeft=a),void 0!==l&&e.setAttribute("viewBox",l)},createAnimatedStyle:e=>new Zx(e),getComponentProps:({scrollTop:e,scrollLeft:t,...n})=>n}).animated;function tw({value:e,duration:t=500,className:r=""}){const o=d.useRef(0),{number:s}=zx({from:{number:o.current},to:{number:e},config:{duration:t}});return d.useEffect(()=>{o.current=e},[e]),n.jsx(ew.span,{className:r,children:s.to(e=>Math.round(e))})}function nw(){const{type:e,data:t,closeModal:r}=Jm(),[o,s]=d.useState(""),[i,a]=d.useState(!1),[l,c]=d.useState(null),u=d.useRef(null),p="rename"===e,f=t;d.useEffect(()=>{if(p&&f){const e=f.name,t=e.lastIndexOf(".");!f.isFolder&&t>0?s(e.substring(0,t)):s(e),c(null),setTimeout(()=>{var e;null==(e=u.current)||e.select()},100)}},[p,f]);const g=async()=>{if(!f||!o.trim())return;let e=o.trim();if(!f.isFolder){const t=f.name.substring(f.name.lastIndexOf("."));t&&t!==f.name&&(e=`${e}${t}`)}if(e!==f.name){a(!0),c(null);try{await Ou.rename(f.path,e),r(),window.location.reload()}catch(t){c(t instanceof Error?t.message:"Umbenennen fehlgeschlagen")}finally{a(!1)}}else r()};return n.jsx(Ph,{isOpen:p,onClose:r,title:"Umbenennen",size:"sm",children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-slate-800/50",children:[(null==f?void 0:f.isFolder)?n.jsx(Nd,{size:24,className:"text-cyan-400"}):n.jsx(Md,{size:24,className:"text-cyan-400"}),n.jsx("span",{className:"text-sm text-slate-400 truncate",children:null==f?void 0:f.name})]}),n.jsx(op,{ref:u,value:o,onChange:e=>s(e.target.value),onKeyDown:e=>{"Enter"!==e.key||i||g()},placeholder:"Neuer Name",autoFocus:!0}),l&&n.jsx("p",{className:"text-sm text-red-400",children:l}),n.jsxs("div",{className:"flex justify-end gap-3",children:[n.jsx(Xu,{variant:"ghost",onClick:r,disabled:i,children:"Abbrechen"}),n.jsx(Xu,{variant:"accent",onClick:g,disabled:i||!o.trim(),children:i?"Umbenennen...":"Umbenennen"})]})]})})}function rw(){const{type:e,data:t,closeModal:r}=Jm(),[o,s]=d.useState(!1),[i,a]=d.useState(null),l="deleteConfirm"===e,c=t,u=(null==c?void 0:c.paths.length)||0;return n.jsx(Ph,{isOpen:l,onClose:r,title:"Lschen besttigen",size:"sm",children:n.jsxs("div",{className:"space-y-4",children:[n.jsx("div",{className:"flex justify-center",children:n.jsx("div",{className:"w-16 h-16 rounded-full bg-red-500/20 flex items-center justify-center",children:n.jsx(nd,{size:32,className:"text-red-400"})})}),n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-slate-200",children:1===u?"Mchtest du dieses Element wirklich lschen?":`Mchtest du diese ${u} Elemente wirklich lschen?`}),n.jsx("p",{className:"text-sm text-slate-400 mt-2",children:"Die Elemente werden in den Papierkorb verschoben."})]}),u>1&&u<=5&&c&&n.jsx("div",{className:"max-h-32 overflow-y-auto rounded-lg bg-slate-800/50 p-2",children:c.paths.map((e,t)=>n.jsx("div",{className:"text-xs text-slate-400 truncate py-1",children:e.split(/[/\\]/).pop()},t))}),i&&n.jsx("p",{className:"text-sm text-red-400 text-center",children:i}),n.jsxs("div",{className:"flex justify-center gap-3",children:[n.jsx(Xu,{variant:"ghost",onClick:r,disabled:o,children:"Abbrechen"}),n.jsxs(Xu,{variant:"danger",onClick:async()=>{if(null==c?void 0:c.paths.length){s(!0),a(null);try{await Ou.deleteFiles(c.paths),qm.getState().success(1===u?"Element wurde gelscht":`${u} Elemente wurden gelscht`),r(),window.location.reload()}catch(e){a(e instanceof Error?e.message:"Lschen fehlgeschlagen"),qm.getState().error("Lschen fehlgeschlagen")}finally{s(!1)}}},disabled:o,className:"bg-red-500/20 hover:bg-red-500/30 text-red-400",children:[n.jsx(nu,{size:16}),o?"Lschen...":"Lschen"]})]})]})})}function ow(e){if(0===e)return"0 B";const t=Math.floor(Math.log(e)/Math.log(1024));return`${parseFloat((e/Math.pow(1024,t)).toFixed(2))} ${["B","KB","MB","GB","TB"][t]}`}function sw(e){return new Date(e).toLocaleString("de-DE",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}function iw(){const{type:e,data:t,closeModal:r}=Jm(),[o,s]=d.useState(null),[i,a]=d.useState(!1),[l,c]=d.useState(null),u="properties"===e,p=t;d.useEffect(()=>{u&&p&&f(p.path)},[u,p]);const f=async e=>{a(!0),c(null);try{const t=await Ou.getProperties(e);s(t)}catch(t){c(t instanceof Error?t.message:"Eigenschaften konnten nicht geladen werden")}finally{a(!1)}};return n.jsx(Ph,{isOpen:u,onClose:r,title:"Eigenschaften",size:"sm",children:n.jsxs("div",{className:"space-y-4",children:[i&&n.jsx("div",{className:"flex justify-center py-8",children:n.jsx(Xo,{color:"secondary"})}),l&&n.jsx("p",{className:"text-sm text-red-400 text-center",children:l}),o&&!i&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex items-center gap-4 p-4 rounded-lg bg-slate-800/50",children:[n.jsx("div",{className:"w-12 h-12 rounded-lg bg-cyan-500/20 flex items-center justify-center",children:o.isFolder?n.jsx(Nd,{size:24,className:"text-cyan-400"}):n.jsx(Md,{size:24,className:"text-cyan-400"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("h3",{className:"font-medium text-slate-200 truncate",children:o.name}),n.jsx("p",{className:"text-xs text-slate-500 truncate",children:o.path})]})]}),n.jsxs("div",{className:"space-y-3",children:[!o.isFolder&&n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Od,{size:16,className:"text-slate-500"}),n.jsx("span",{className:"text-sm text-slate-400",children:"Gre:"}),n.jsx("span",{className:"text-sm text-slate-200 ml-auto",children:ow(o.size)})]}),o.dimensions&&n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Md,{size:16,className:"text-slate-500"}),n.jsx("span",{className:"text-sm text-slate-400",children:"Abmessungen:"}),n.jsxs("span",{className:"text-sm text-slate-200 ml-auto",children:[o.dimensions.width,"  ",o.dimensions.height," px"]})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(ad,{size:16,className:"text-slate-500"}),n.jsx("span",{className:"text-sm text-slate-400",children:"Erstellt:"}),n.jsx("span",{className:"text-sm text-slate-200 ml-auto",children:sw(o.created)})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(ad,{size:16,className:"text-slate-500"}),n.jsx("span",{className:"text-sm text-slate-400",children:"Gendert:"}),n.jsx("span",{className:"text-sm text-slate-200 ml-auto",children:sw(o.modified)})]})]})]}),n.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[n.jsxs(Xu,{variant:"ghost",onClick:async()=>{p&&await Ou.openInExplorer(p.path)},children:[n.jsx(wd,{size:16}),"Im Explorer ffnen"]}),n.jsx(Xu,{variant:"accent",onClick:r,children:"Schlieen"})]})]})})}const aw=d.createContext(void 0);function lw(e){const t=d.useContext(aw);if(!1===e&&void 0===t)throw new Error($s(27));return t}const cw={...yp,...Yi},dw=d.forwardRef(function(e,t){const{render:n,className:r,forceRender:o=!1,...s}=e,{store:i}=lw(),a=i.useState("open"),l=i.useState("nested"),c=i.useState("mounted"),u=i.useState("transitionStatus");return ui("div",e,{state:d.useMemo(()=>({open:a,transitionStatus:u}),[a,u]),ref:[i.context.backdropRef,t],stateAttributesMapping:cw,props:[{role:"presentation",hidden:!c,style:{userSelect:"none",WebkitUserSelect:"none"}},s],enabled:o||!l})}),uw=d.forwardRef(function(e,t){const{render:n,className:r,disabled:o=!1,nativeButton:s=!0,...i}=e,{store:a}=lw(),l=a.useState("open");const{getButtonProps:c,buttonRef:u}=Oa({disabled:o,native:s});return ui("button",e,{state:d.useMemo(()=>({disabled:o}),[o]),ref:[t,u],props:[{onClick:function(e){l&&a.setOpen(!1,Di(Ci,e.nativeEvent))}},i,c]})});let pw=function(e){return e.nestedDialogs="--nested-dialogs",e}({}),fw=((gw={})[gw.open=cp.open]="open",gw[gw.closed=cp.closed]="closed",gw[gw.startingStyle=cp.startingStyle]="startingStyle",gw[gw.endingStyle=cp.endingStyle]="endingStyle",gw.nested="data-nested",gw.nestedDialogOpen="data-nested-dialog-open",gw);var gw;const hw=d.createContext(void 0);const mw={...yp,...Yi,nestedDialogOpen:e=>e?{[fw.nestedDialogOpen]:""}:null},vw=d.forwardRef(function(e,t){const{className:r,finalFocus:o,initialFocus:s,render:i,...a}=e,{store:l}=lw(),c=l.useState("descriptionElementId"),u=l.useState("disablePointerDismissal"),p=l.useState("floatingRootContext"),f=l.useState("popupProps"),g=l.useState("modal"),h=l.useState("mounted"),m=l.useState("nested"),v=l.useState("nestedOpenDialogCount"),b=l.useState("open"),y=l.useState("openMethod"),x=l.useState("titleElementId"),w=l.useState("transitionStatus"),k=l.useState("role");!function(){const e=d.useContext(hw);if(void 0===e)throw new Error($s(26))}(),La({open:b,ref:l.context.popupRef,onComplete(){var e,t;b&&(null==(t=(e=l.context).onOpenChangeComplete)||t.call(e,!0))}});const E=void 0===s?function(e){return"touch"!==e||l.context.popupRef.current}:s,S=v>0,C=ui("div",e,{state:d.useMemo(()=>({open:b,nested:m,transitionStatus:w,nestedDialogOpen:S}),[b,m,w,S]),props:[f,{"aria-labelledby":x??void 0,"aria-describedby":c??void 0,role:k,tabIndex:-1,hidden:!h,onKeyDown(e){Wg.has(e.key)&&e.stopPropagation()},style:{[pw.nestedDialogs]:v}},a],ref:[t,l.context.popupRef,l.useStateSetter("popupElement")],stateAttributesMapping:mw});return n.jsx(of,{context:p,openInteractionType:y,disabled:!h,closeOnFocusOut:!u,initialFocus:E,returnFocus:o,modal:!1!==g,restoreFocus:"popup",children:C})}),bw=d.forwardRef(function(e,t){const{keepMounted:r=!1,...o}=e,{store:s}=lw(),i=s.useState("mounted"),a=s.useState("modal");return i||r?n.jsx(hw.Provider,{value:r,children:n.jsxs(Qp,{ref:t,...o,children:[i&&!0===a&&n.jsx(dh,{ref:s.context.internalBackdropRef,inert:Jg(!open)}),e.children]})}):null});const yw={...fg,modal:tg(e=>e.modal),nested:tg(e=>e.nested),nestedOpenDialogCount:tg(e=>e.nestedOpenDialogCount),disablePointerDismissal:tg(e=>e.disablePointerDismissal),openMethod:tg(e=>e.openMethod),descriptionElementId:tg(e=>e.descriptionElementId),titleElementId:tg(e=>e.titleElementId),viewportElement:tg(e=>e.viewportElement),role:tg(e=>e.role)};class xw extends sg{constructor(e){super(function(e={}){return{...pg(),modal:!0,disablePointerDismissal:!1,popupElement:null,viewportElement:null,descriptionElementId:void 0,titleElementId:void 0,openMethod:null,nested:!1,nestedOpenDialogCount:0,role:"dialog",...e}}(e),{popupRef:d.createRef(),backdropRef:d.createRef(),internalBackdropRef:d.createRef(),triggerElements:new ug,onOpenChange:void 0,onOpenChangeComplete:void 0},yw),t(this,"setOpen",(e,t)=>{var n,r,o,s;if(t.preventUnmountOnClose=()=>{this.set("preventUnmountingOnClose",!0)},e||null!=t.trigger||null==this.state.activeTriggerId||(t.trigger=this.state.activeTriggerElement??void 0),null==(r=(n=this.context).onOpenChange)||r.call(n,e,t),t.isCanceled)return;const i={open:e,nativeEvent:t.event,reason:t.reason,nested:this.state.nested};null==(o=this.state.floatingRootContext.context.events)||o.emit("openchange",i);const a={open:e},l=(null==(s=t.trigger)?void 0:s.id)??null;(l||e)&&(a.activeTriggerId=l,a.activeTriggerElement=t.trigger??null),this.update(a)})}}function ww(e){const{children:t,open:r,defaultOpen:o=!1,onOpenChange:s,onOpenChangeComplete:i,disablePointerDismissal:a=!1,modal:l=!0,actionsRef:c,handle:u,triggerId:p,defaultTriggerId:f=null}=e,g=lw(!0),h=Boolean(g),m=Ds(()=>(null==u?void 0:u.store)??new xw({open:r??o,activeTriggerId:void 0!==p?p:f,modal:l,disablePointerDismissal:a,nested:h})).current;m.useControlledProp("open",r,o),m.useControlledProp("activeTriggerId",p,f),m.useSyncedValues({disablePointerDismissal:a,nested:h,modal:l}),m.useContextCallback("onOpenChange",s),m.useContextCallback("onOpenChangeComplete",i);const v=m.useState("payload");!function(e){const{store:t,parentContext:n,actionsRef:r}=e,o=t.useState("open"),s=t.useState("disablePointerDismissal"),i=t.useState("modal"),a=t.useState("popupElement"),{openMethod:l,triggerProps:c,reset:u}=yh(o);cg(t);const{forceUnmount:p}=dg(o,t,()=>{u()}),f=zs(e=>{const n=Di(e);return n.preventUnmountOnClose=()=>{t.set("preventUnmountingOnClose",!0)},n}),g=d.useCallback(()=>{t.setOpen(!1,f(Mi))},[t,f]);d.useImperativeHandle(r,()=>({unmount:p,close:g}),[p,g]);const h=mg({popupStore:t,onOpenChange:t.setOpen,treatPopupAsFloatingElement:!0,noEmit:!0}),[m,v]=d.useState(0),b=0===m,y=Ag(h),x=Uf(h,{outsidePressEvent:()=>t.context.internalBackdropRef.current||t.context.backdropRef.current?"intentional":{mouse:"trap-focus"===i?"sloppy":"intentional",touch:"sloppy"},outsidePress(e){if("button"in e&&0!==e.button)return!1;if("touches"in e&&1!==e.touches.length)return!1;const n=vl(e);if(b&&!s){const e=n;return!i||!t.context.internalBackdropRef.current&&!t.context.backdropRef.current||t.context.internalBackdropRef.current===e||t.context.backdropRef.current===e||ml(e,a)&&!(null==e?void 0:e.hasAttribute("data-base-ui-portal"))}return!1},escapeKey:b});mh(o&&!0===i,a);const{getReferenceProps:w,getFloatingProps:k,getTriggerProps:E}=jg([y,x]);t.useContextCallback("onNestedDialogOpen",e=>{v(e+1)}),t.useContextCallback("onNestedDialogClose",()=>{v(0)}),d.useEffect(()=>((null==n?void 0:n.onNestedDialogOpen)&&o&&n.onNestedDialogOpen(m),(null==n?void 0:n.onNestedDialogClose)&&!o&&n.onNestedDialogClose(),()=>{(null==n?void 0:n.onNestedDialogClose)&&o&&n.onNestedDialogClose()}),[o,n,m]);const S=d.useMemo(()=>w(c),[w,c]),C=d.useMemo(()=>E(c),[E,c]),I=d.useMemo(()=>k(),[k]);t.useSyncedValues({openMethod:l,activeTriggerProps:S,inactiveTriggerProps:C,popupProps:I,floatingRootContext:h,nestedOpenDialogCount:m})}({store:m,actionsRef:c,parentContext:null==g?void 0:g.store.context});const b=d.useMemo(()=>({store:m}),[m]);return n.jsx(aw.Provider,{value:b,children:"function"==typeof t?t({payload:v}):t})}const kw=d.forwardRef(function(e,t){const{render:n,className:r,id:o,...s}=e,{store:i}=lw(),a=bi(o);return i.useSyncedValueWithCleanup("titleElementId",a),ui("h2",e,{ref:t,props:[{id:a},s]})});function Ew(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var Sw=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")(),Cw=()=>Math.random().toString(36).substring(7).split("").join("."),Iw={INIT:`@@redux/INIT${Cw()}`,REPLACE:`@@redux/REPLACE${Cw()}`};function jw(e,t,n){if("function"!=typeof e)throw new Error(Ew(2));if("function"==typeof t&&"function"==typeof n||"function"==typeof n&&"function"==typeof arguments[3])throw new Error(Ew(0));if("function"==typeof t&&void 0===n&&(n=t,t=void 0),void 0!==n){if("function"!=typeof n)throw new Error(Ew(1));return n(jw)(e,t)}let r=e,o=t,s=new Map,i=s,a=0,l=!1;function c(){i===s&&(i=new Map,s.forEach((e,t)=>{i.set(t,e)}))}function d(){if(l)throw new Error(Ew(3));return o}function u(e){if("function"!=typeof e)throw new Error(Ew(4));if(l)throw new Error(Ew(5));let t=!0;c();const n=a++;return i.set(n,e),function(){if(t){if(l)throw new Error(Ew(6));t=!1,c(),i.delete(n),s=null}}}function p(e){if(!function(e){if("object"!=typeof e||null===e)return!1;let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||null===Object.getPrototypeOf(e)}(e))throw new Error(Ew(7));if(void 0===e.type)throw new Error(Ew(8));if("string"!=typeof e.type)throw new Error(Ew(17));if(l)throw new Error(Ew(9));try{l=!0,o=r(o,e)}finally{l=!1}return(s=i).forEach(e=>{e()}),e}p({type:Iw.INIT});return{dispatch:p,subscribe:u,getState:d,replaceReducer:function(e){if("function"!=typeof e)throw new Error(Ew(10));r=e,p({type:Iw.REPLACE})},[Sw]:function(){const e=u;return{subscribe(t){if("object"!=typeof t||null===t)throw new Error(Ew(11));function n(){const e=t;e.next&&e.next(d())}n();return{unsubscribe:e(n)}},[Sw](){return this}}}}}function Rw(e,t){return function(...n){return t(e.apply(this,n))}}function Nw(e,t){if("function"==typeof e)return Rw(e,t);if("object"!=typeof e||null===e)throw new Error(Ew(16));const n={};for(const r in e){const o=e[r];"function"==typeof o&&(n[r]=Rw(o,t))}return n}function Pw(...e){return 0===e.length?e=>e:1===e.length?e[0]:e.reduce((e,t)=>(...n)=>e(t(...n)))}var Ow=d;
/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */"function"==typeof Object.is&&Object.is,Ow.useSyncExternalStore,Ow.useRef,Ow.useEffect,Ow.useMemo,Ow.useDebugValue;var Tw=d.version.startsWith("19"),Mw=Symbol.for(Tw?"react.transitional.element":"react.element"),Dw=Symbol.for("react.portal"),Aw=Symbol.for("react.fragment"),Lw=Symbol.for("react.strict_mode"),zw=Symbol.for("react.profiler"),Fw=Symbol.for("react.consumer"),Bw=Symbol.for("react.context"),$w=Symbol.for("react.forward_ref"),_w=Symbol.for("react.suspense"),Hw=Symbol.for("react.suspense_list"),Vw=Symbol.for("react.memo"),Uw=Symbol.for("react.lazy"),Ww=$w,Gw=Vw;function qw(e){return function(e){if("object"==typeof e&&null!==e){const{$$typeof:t}=e;switch(t){case Mw:switch(e=e.type){case Aw:case zw:case Lw:case _w:case Hw:return e;default:switch(e=e&&e.$$typeof){case Bw:case $w:case Uw:case Vw:case Fw:return e;default:return t}}case Dw:return t}}}(e)===Vw}function Kw(e,t,n,r,{areStatesEqual:o,areOwnPropsEqual:s,areStatePropsEqual:i}){let a,l,c,d,u,p=!1;function f(p,f){const g=!s(f,l),h=!o(p,a,f,l);return a=p,l=f,g&&h?(c=e(a,l),t.dependsOnOwnProps&&(d=t(r,l)),u=n(c,d,l),u):g?(e.dependsOnOwnProps&&(c=e(a,l)),t.dependsOnOwnProps&&(d=t(r,l)),u=n(c,d,l),u):h?function(){const t=e(a,l),r=!i(t,c);return c=t,r&&(u=n(c,d,l)),u}():u}return function(o,s){return p?f(o,s):(a=o,l=s,c=e(a,l),d=t(r,l),u=n(c,d,l),p=!0,u)}}function Yw(e){return function(t){const n=e(t);function r(){return n}return r.dependsOnOwnProps=!1,r}}function Xw(e){return e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}function Jw(e,t){return function(t,{displayName:n}){const r=function(e,t){return r.dependsOnOwnProps?r.mapToProps(e,t):r.mapToProps(e,void 0)};return r.dependsOnOwnProps=!0,r.mapToProps=function(t,n){r.mapToProps=e,r.dependsOnOwnProps=Xw(e);let o=r(t,n);return"function"==typeof o&&(r.mapToProps=o,r.dependsOnOwnProps=Xw(o),o=r(t,n)),o},r}}function Zw(e,t){return(n,r)=>{throw new Error(`Invalid value of type ${typeof e} for ${t} argument when connecting component ${r.wrappedComponentName}.`)}}function Qw(e,t,n){return{...n,...e,...t}}var ek={notify(){},get:()=>[]};function tk(e,t){let n,r=ek,o=0,s=!1;function i(){c.onStateChange&&c.onStateChange()}function a(){o++,n||(n=t?t.addNestedSub(i):e.subscribe(i),r=function(){let e=null,t=null;return{clear(){e=null,t=null},notify(){(()=>{let t=e;for(;t;)t.callback(),t=t.next})()},get(){const t=[];let n=e;for(;n;)t.push(n),n=n.next;return t},subscribe(n){let r=!0;const o=t={callback:n,next:null,prev:t};return o.prev?o.prev.next=o:e=o,function(){r&&null!==e&&(r=!1,o.next?o.next.prev=o.prev:t=o.prev,o.prev?o.prev.next=o.next:e=o.next)}}}}())}function l(){o--,n&&0===o&&(n(),n=void 0,r.clear(),r=ek)}const c={addNestedSub:function(e){a();const t=r.subscribe(e);let n=!1;return()=>{n||(n=!0,t(),l())}},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:i,isSubscribed:function(){return s},trySubscribe:function(){s||(s=!0,a())},tryUnsubscribe:function(){s&&(s=!1,l())},getListeners:()=>r};return c}var nk=(()=>!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement))(),rk=(()=>"undefined"!=typeof navigator&&"ReactNative"===navigator.product)(),ok=(()=>nk||rk?d.useLayoutEffect:d.useEffect)();function sk(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}function ik(e,t){if(sk(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let o=0;o<n.length;o++)if(!Object.prototype.hasOwnProperty.call(t,n[o])||!sk(e[n[o]],t[n[o]]))return!1;return!0}var ak={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},lk={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},ck={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},dk={[Ww]:{$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},[Gw]:ck};function uk(e){return qw(e)?ck:dk[e.$$typeof]||ak}var pk=Object.defineProperty,fk=Object.getOwnPropertyNames,gk=Object.getOwnPropertySymbols,hk=Object.getOwnPropertyDescriptor,mk=Object.getPrototypeOf,vk=Object.prototype;function bk(e,t){if("string"!=typeof t){if(vk){const n=mk(t);n&&n!==vk&&bk(e,n)}let r=fk(t);gk&&(r=r.concat(gk(t)));const o=uk(e),s=uk(t);for(let i=0;i<r.length;++i){const a=r[i];if(!(lk[a]||s&&s[a]||o&&o[a])){const r=hk(t,a);try{pk(e,a,r)}catch(n){}}}}return e}var yk=Symbol.for("react-redux-context"),xk="undefined"!=typeof globalThis?globalThis:{};function wk(){if(!d.createContext)return{};const e=xk[yk]??(xk[yk]=new Map);let t=e.get(d.createContext);return t||(t=d.createContext(null),e.set(d.createContext,t)),t}var kk=wk(),Ek=[null,null];function Sk(e,t,n,r,o,s){e.current=r,n.current=!1,o.current&&(o.current=null,s())}function Ck(e,t){return e===t}var Ik=function(e,t,n,{pure:r,areStatesEqual:o=Ck,areOwnPropsEqual:s=ik,areStatePropsEqual:i=ik,areMergedPropsEqual:a=ik,forwardRef:l=!1,context:c=kk}={}){const u=c,p=function(e){return e?"function"==typeof e?Jw(e):Zw(e,"mapStateToProps"):Yw(()=>({}))}(e),f=function(e){return e&&"object"==typeof e?Yw(t=>function(e,t){const n={};for(const r in e){const o=e[r];"function"==typeof o&&(n[r]=(...e)=>t(o(...e)))}return n}(e,t)):e?"function"==typeof e?Jw(e):Zw(e,"mapDispatchToProps"):Yw(e=>({dispatch:e}))}(t),g=function(e){return e?"function"==typeof e?function(e){return function(t,{displayName:n,areMergedPropsEqual:r}){let o,s=!1;return function(t,n,i){const a=e(t,n,i);return s?r(a,o)||(o=a):(s=!0,o=a),o}}}(e):Zw(e,"mergeProps"):()=>Qw}(n),h=Boolean(e);return e=>{const t=e.displayName||e.name||"Component",n=`Connect(${t})`,r={shouldHandleStateChanges:h,displayName:n,wrappedComponentName:t,WrappedComponent:e,initMapStateToProps:p,initMapDispatchToProps:f,initMergeProps:g,areStatesEqual:o,areStatePropsEqual:i,areOwnPropsEqual:s,areMergedPropsEqual:a};function c(t){const[n,o,s]=d.useMemo(()=>{const{reactReduxForwardedRef:e,...n}=t;return[t.context,e,n]},[t]),i=d.useMemo(()=>{let e=u;return null==n||n.Consumer,e},[n,u]),a=d.useContext(i),l=Boolean(t.store)&&Boolean(t.store.getState)&&Boolean(t.store.dispatch),c=Boolean(a)&&Boolean(a.store),p=l?t.store:a.store,f=c?a.getServerState:p.getState,g=d.useMemo(()=>function(e,{initMapStateToProps:t,initMapDispatchToProps:n,initMergeProps:r,...o}){return Kw(t(e,o),n(e,o),r(e,o),e,o)}(p.dispatch,r),[p]),[m,v]=d.useMemo(()=>{if(!h)return Ek;const e=tk(p,l?void 0:a.subscription),t=e.notifyNestedSubs.bind(e);return[e,t]},[p,l,a]),b=d.useMemo(()=>l?a:{...a,subscription:m},[l,a,m]),y=d.useRef(void 0),x=d.useRef(s),w=d.useRef(void 0),k=d.useRef(!1),E=d.useRef(!1),S=d.useRef(void 0);ok(()=>(E.current=!0,()=>{E.current=!1}),[]);const C=d.useMemo(()=>()=>w.current&&s===x.current?w.current:g(p.getState(),s),[p,s]),I=d.useMemo(()=>e=>m?function(e,t,n,r,o,s,i,a,l,c,d){if(!e)return()=>{};let u=!1,p=null;const f=()=>{if(u||!a.current)return;const e=t.getState();let n,f;try{n=r(e,o.current)}catch(g){f=g,p=g}f||(p=null),n===s.current?i.current||c():(s.current=n,l.current=n,i.current=!0,d())};return n.onStateChange=f,n.trySubscribe(),f(),()=>{if(u=!0,n.tryUnsubscribe(),n.onStateChange=null,p)throw p}}(h,p,m,g,x,y,k,E,w,v,e):()=>{},[m]);var j,R,N;let P;j=Sk,R=[x,y,k,s,w,v],ok(()=>j(...R),N);try{P=d.useSyncExternalStore(I,C,f?()=>g(f(),s):C)}catch(T){throw S.current&&(T.message+=`\nThe error may be correlated with this previous error:\n${S.current.stack}\n\n`),T}ok(()=>{S.current=void 0,w.current=void 0,y.current=P});const O=d.useMemo(()=>d.createElement(e,{...P,ref:o}),[o,e,P]);return d.useMemo(()=>h?d.createElement(i.Provider,{value:b},O):O,[i,O,b])}const m=d.memo(c);if(m.WrappedComponent=e,m.displayName=c.displayName=n,l){const t=d.forwardRef(function(e,t){return d.createElement(m,{...e,reactReduxForwardedRef:t})});return t.displayName=n,t.WrappedComponent=e,bk(t,e)}return bk(m,e)}};var jk=function(e){const{children:t,context:n,serverState:r,store:o}=e,s=d.useMemo(()=>{const e=tk(o);return{store:o,subscription:e,getServerState:r?()=>r:void 0}},[o,r]),i=d.useMemo(()=>o.getState(),[o]);ok(()=>{const{subscription:e}=s;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),i!==o.getState()&&e.notifyNestedSubs(),()=>{e.tryUnsubscribe(),e.onStateChange=void 0}},[s,i]);const a=n||kk;return d.createElement(a.Provider,{value:s},t)};var Rk=function(e){var t=e.top,n=e.right,r=e.bottom,o=e.left;return{top:t,right:n,bottom:r,left:o,width:n-o,height:r-t,x:o,y:t,center:{x:(n+o)/2,y:(r+t)/2}}},Nk=function(e,t){return{top:e.top-t.top,left:e.left-t.left,bottom:e.bottom+t.bottom,right:e.right+t.right}},Pk=function(e,t){return{top:e.top+t.top,left:e.left+t.left,bottom:e.bottom-t.bottom,right:e.right-t.right}},Ok={top:0,right:0,bottom:0,left:0},Tk=function(e){var t=e.borderBox,n=e.margin,r=void 0===n?Ok:n,o=e.border,s=void 0===o?Ok:o,i=e.padding,a=void 0===i?Ok:i,l=Rk(Nk(t,r)),c=Rk(Pk(t,s)),d=Rk(Pk(c,a));return{marginBox:l,borderBox:Rk(t),paddingBox:c,contentBox:d,margin:r,border:s,padding:a}},Mk=function(e){var t=e.slice(0,-2);if("px"!==e.slice(-2))return 0;var n=Number(t);return isNaN(n)&&function(){throw new Error("Invariant failed")}(),n},Dk=function(e,t){var n,r,o=e.borderBox,s=e.border,i=e.margin,a=e.padding,l=(r=t,{top:(n=o).top+r.y,left:n.left+r.x,bottom:n.bottom+r.y,right:n.right+r.x});return Tk({borderBox:l,border:s,margin:i,padding:a})},Ak=function(e,t){return void 0===t&&(t={x:window.pageXOffset,y:window.pageYOffset}),Dk(e,t)},Lk=function(e,t){var n={top:Mk(t.marginTop),right:Mk(t.marginRight),bottom:Mk(t.marginBottom),left:Mk(t.marginLeft)},r={top:Mk(t.paddingTop),right:Mk(t.paddingRight),bottom:Mk(t.paddingBottom),left:Mk(t.paddingLeft)},o={top:Mk(t.borderTopWidth),right:Mk(t.borderRightWidth),bottom:Mk(t.borderBottomWidth),left:Mk(t.borderLeftWidth)};return Tk({borderBox:e,margin:n,padding:r,border:o})},zk=function(e){var t=e.getBoundingClientRect(),n=window.getComputedStyle(e);return Lk(t,n)},Fk=function(e){var t=[],n=null,r=function(){for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];t=o,n||(n=requestAnimationFrame(function(){n=null,e.apply(void 0,t)}))};return r.cancel=function(){n&&(cancelAnimationFrame(n),n=null)},r};function Bk(e,t){}function $k(){}function _k(e,t,n){const r=t.map(t=>{const r=(o=n,s=t.options,{...o,...s});var o,s;return e.addEventListener(t.eventName,t.fn,r),function(){e.removeEventListener(t.eventName,t.fn,r)}});return function(){r.forEach(e=>{e()})}}Bk.bind(null,"warn"),Bk.bind(null,"error");class Hk extends Error{}function Vk(e,t){throw new Hk("Invariant failed")}Hk.prototype.toString=function(){return this.message};let Uk=class extends u.Component{constructor(...e){super(...e),this.callbacks=null,this.unbind=$k,this.onWindowError=e=>{const t=this.getCallbacks();t.isDragging()&&t.tryAbort();e.error instanceof Hk&&e.preventDefault()},this.getCallbacks=()=>{if(!this.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return this.callbacks},this.setCallbacks=e=>{this.callbacks=e}}componentDidMount(){this.unbind=_k(window,[{eventName:"error",fn:this.onWindowError}])}componentDidCatch(e){if(!(e instanceof Hk))throw e;this.setState({})}componentWillUnmount(){this.unbind()}render(){return this.props.children(this.setCallbacks)}};const Wk=e=>e+1,Gk=(e,t)=>{const n=e.droppableId===t.droppableId,r=Wk(e.index),o=Wk(t.index);return n?`\n      You have moved the item from position ${r}\n      to position ${o}\n    `:`\n    You have moved the item from position ${r}\n    in list ${e.droppableId}\n    to list ${t.droppableId}\n    in position ${o}\n  `},qk=(e,t,n)=>t.droppableId===n.droppableId?`\n      The item ${e}\n      has been combined with ${n.draggableId}`:`\n      The item ${e}\n      in list ${t.droppableId}\n      has been combined with ${n.draggableId}\n      in list ${n.droppableId}\n    `,Kk=e=>`\n  The item has returned to its starting position\n  of ${Wk(e.index)}\n`,Yk={dragHandleUsageInstructions:"\n  Press space bar to start a drag.\n  When dragging you can use the arrow keys to move the item around and escape to cancel.\n  Some screen readers may require you to be in focus mode or to use your pass through key\n",onDragStart:e=>`\n  You have lifted an item in position ${Wk(e.source.index)}\n`,onDragUpdate:e=>{const t=e.destination;if(t)return Gk(e.source,t);const n=e.combine;return n?qk(e.draggableId,e.source,n):"You are over an area that cannot be dropped on"},onDragEnd:e=>{if("CANCEL"===e.reason)return`\n      Movement cancelled.\n      ${Kk(e.source)}\n    `;const t=e.destination,n=e.combine;return t?`\n      You have dropped the item.\n      ${Gk(e.source,t)}\n    `:n?`\n      You have dropped the item.\n      ${qk(e.draggableId,e.source,n)}\n    `:`\n    The item has been dropped while not over a drop area.\n    ${Kk(e.source)}\n  `}};function Xk(e,t){return e===t||!(!Number.isNaN(e)||!Number.isNaN(t))}function Jk(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(!Xk(e[n],t[n]))return!1;return!0}function Zk(e,t){const n=d.useState(()=>({inputs:t,result:e()}))[0],r=d.useRef(!0),o=d.useRef(n),s=r.current||Boolean(t&&o.current.inputs&&Jk(t,o.current.inputs))?o.current:{inputs:t,result:e()};return d.useEffect(()=>{r.current=!1,o.current=s},[s]),s.result}function Qk(e,t){return Zk(()=>e,t)}const eE={x:0,y:0},tE=(e,t)=>({x:e.x+t.x,y:e.y+t.y}),nE=(e,t)=>({x:e.x-t.x,y:e.y-t.y}),rE=(e,t)=>e.x===t.x&&e.y===t.y,oE=e=>({x:0!==e.x?-e.x:0,y:0!==e.y?-e.y:0}),sE=(e,t,n=0)=>"x"===e?{x:t,y:n}:{x:n,y:t},iE=(e,t)=>Math.sqrt((t.x-e.x)**2+(t.y-e.y)**2),aE=(e,t)=>Math.min(...t.map(t=>iE(e,t))),lE=e=>t=>({x:e(t.x),y:e(t.y)});const cE=(e,t)=>({top:e.top+t.y,left:e.left+t.x,bottom:e.bottom+t.y,right:e.right+t.x}),dE=e=>[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.left,y:e.bottom},{x:e.right,y:e.bottom}],uE=(e,t)=>t&&t.shouldClipSubject?((e,t)=>{const n=Rk({top:Math.max(t.top,e.top),right:Math.min(t.right,e.right),bottom:Math.min(t.bottom,e.bottom),left:Math.max(t.left,e.left)});return n.width<=0||n.height<=0?null:n})(t.pageMarginBox,e):Rk(e);var pE=({page:e,withPlaceholder:t,axis:n,frame:r})=>{const o=((e,t)=>t?cE(e,t.scroll.diff.displacement):e)(e.marginBox,r),s=((e,t,n)=>n&&n.increasedBy?{...e,[t.end]:e[t.end]+n.increasedBy[t.line]}:e)(o,n,t);return{page:e,withPlaceholder:t,active:uE(s,r)}},fE=(e,t)=>{e.frame||Vk();const n=e.frame,r=nE(t,n.scroll.initial),o=oE(r),s={...n,scroll:{initial:n.scroll.initial,current:t,diff:{value:r,displacement:o},max:n.scroll.max}},i=pE({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:s});return{...e,frame:s,subject:i}};function gE(e,t=Jk){let n=null;function r(...r){if(n&&n.lastThis===this&&t(r,n.lastArgs))return n.lastResult;const o=e.apply(this,r);return n={lastResult:o,lastArgs:r,lastThis:this},o}return r.clear=function(){n=null},r}const hE=gE(e=>e.reduce((e,t)=>(e[t.descriptor.id]=t,e),{})),mE=gE(e=>e.reduce((e,t)=>(e[t.descriptor.id]=t,e),{})),vE=gE(e=>Object.values(e)),bE=gE(e=>Object.values(e));var yE=gE((e,t)=>bE(t).filter(t=>e===t.descriptor.droppableId).sort((e,t)=>e.descriptor.index-t.descriptor.index));function xE(e){return e.at&&"REORDER"===e.at.type?e.at.destination:null}function wE(e){return e.at&&"COMBINE"===e.at.type?e.at.combine:null}var kE=gE((e,t)=>t.filter(t=>t.descriptor.id!==e.descriptor.id)),EE=(e,t)=>e.descriptor.droppableId===t.descriptor.id;const SE={point:eE,value:0},CE={invisible:{},visible:{},all:[]},IE={displaced:CE,displacedBy:SE,at:null};var jE=(e,t)=>n=>e<=n&&n<=t,RE=e=>{const t=jE(e.top,e.bottom),n=jE(e.left,e.right);return r=>{if(t(r.top)&&t(r.bottom)&&n(r.left)&&n(r.right))return!0;const o=t(r.top)||t(r.bottom),s=n(r.left)||n(r.right);if(o&&s)return!0;const i=r.top<e.top&&r.bottom>e.bottom,a=r.left<e.left&&r.right>e.right;if(i&&a)return!0;return i&&s||a&&o}},NE=e=>{const t=jE(e.top,e.bottom),n=jE(e.left,e.right);return e=>t(e.top)&&t(e.bottom)&&n(e.left)&&n(e.right)};const PE={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},OE={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"};const TE=({target:e,destination:t,viewport:n,withDroppableDisplacement:r,isVisibleThroughFrameFn:o})=>{const s=r?((e,t)=>{const n=t.frame?t.frame.scroll.diff.displacement:eE;return cE(e,n)})(e,t):e;return((e,t,n)=>!!t.subject.active&&n(t.subject.active)(e))(s,t,o)&&((e,t,n)=>n(t)(e))(s,n,o)},ME=e=>TE({...e,isVisibleThroughFrameFn:NE});function DE({afterDragging:e,destination:t,displacedBy:n,viewport:r,forceShouldAnimate:o,last:s}){return e.reduce(function(e,i){const a=function(e,t){const n=e.page.marginBox,r={top:t.point.y,right:0,bottom:0,left:t.point.x};return Rk(Nk(n,r))}(i,n),l=i.descriptor.id;e.all.push(l);var c;if(!(c={target:a,destination:t,viewport:r,withDroppableDisplacement:!0},TE({...c,isVisibleThroughFrameFn:RE})))return e.invisible[i.descriptor.id]=!0,e;const d=((e,t,n)=>{if("boolean"==typeof n)return n;if(!t)return!0;const{invisible:r,visible:o}=t;if(r[e])return!1;const s=o[e];return!s||s.shouldAnimate})(l,s,o),u={draggableId:l,shouldAnimate:d};return e.visible[l]=u,e},{all:[],visible:{},invisible:{}})}function AE({insideDestination:e,inHomeList:t,displacedBy:n,destination:r}){const o=function(e,t){if(!e.length)return 0;const n=e[e.length-1].descriptor.index;return t.inHomeList?n:n+1}(e,{inHomeList:t});return{displaced:CE,displacedBy:n,at:{type:"REORDER",destination:{droppableId:r.descriptor.id,index:o}}}}function LE({draggable:e,insideDestination:t,destination:n,viewport:r,displacedBy:o,last:s,index:i,forceShouldAnimate:a}){const l=EE(e,n);if(null==i)return AE({insideDestination:t,inHomeList:l,displacedBy:o,destination:n});const c=t.find(e=>e.descriptor.index===i);if(!c)return AE({insideDestination:t,inHomeList:l,displacedBy:o,destination:n});const d=kE(e,t),u=t.indexOf(c);return{displaced:DE({afterDragging:d.slice(u),destination:n,displacedBy:o,last:s,viewport:r.frame,forceShouldAnimate:a}),displacedBy:o,at:{type:"REORDER",destination:{droppableId:n.descriptor.id,index:i}}}}function zE(e,t){return Boolean(t.effected[e])}var FE=({isMovingForward:e,isInHomeList:t,draggable:n,draggables:r,destination:o,insideDestination:s,previousImpact:i,viewport:a,afterCritical:l})=>{const c=i.at;if(c||Vk(),"REORDER"===c.type){const r=(({isMovingForward:e,isInHomeList:t,insideDestination:n,location:r})=>{if(!n.length)return null;const o=r.index,s=e?o+1:o-1,i=n[0].descriptor.index,a=n[n.length-1].descriptor.index;return s<i||s>(t?a:a+1)?null:s})({isMovingForward:e,isInHomeList:t,location:c.destination,insideDestination:s});return null==r?null:LE({draggable:n,insideDestination:s,destination:o,viewport:a,last:i.displaced,displacedBy:i.displacedBy,index:r})}const d=(({isMovingForward:e,destination:t,draggables:n,combine:r,afterCritical:o})=>{if(!t.isCombineEnabled)return null;const s=r.draggableId,i=n[s].descriptor.index;return zE(s,o)?e?i:i-1:e?i+1:i})({isMovingForward:e,destination:o,displaced:i.displaced,draggables:r,combine:c.combine,afterCritical:l});return null==d?null:LE({draggable:n,insideDestination:s,destination:o,viewport:a,last:i.displaced,displacedBy:i.displacedBy,index:d})},BE=({afterCritical:e,impact:t,draggables:n})=>{const r=wE(t);r||Vk();const o=r.draggableId,s=n[o].page.borderBox.center,i=(({displaced:e,afterCritical:t,combineWith:n,displacedBy:r})=>{const o=Boolean(e.visible[n]||e.invisible[n]);return zE(n,t)?o?eE:oE(r.point):o?r.point:eE})({displaced:t.displaced,afterCritical:e,combineWith:o,displacedBy:t.displacedBy});return tE(s,i)};const $E=(e,t)=>t.margin[e.start]+t.borderBox[e.size]/2,_E=(e,t,n)=>t[e.crossAxisStart]+n.margin[e.crossAxisStart]+n.borderBox[e.crossAxisSize]/2,HE=({axis:e,moveRelativeTo:t,isMoving:n})=>sE(e.line,t.marginBox[e.end]+$E(e,n),_E(e,t.marginBox,n)),VE=({axis:e,moveRelativeTo:t,isMoving:n})=>sE(e.line,t.marginBox[e.start]-((e,t)=>t.margin[e.end]+t.borderBox[e.size]/2)(e,n),_E(e,t.marginBox,n));var UE=({impact:e,draggable:t,draggables:n,droppable:r,afterCritical:o})=>{const s=yE(r.descriptor.id,n),i=t.page,a=r.axis;if(!s.length)return(({axis:e,moveInto:t,isMoving:n})=>sE(e.line,t.contentBox[e.start]+$E(e,n),_E(e,t.contentBox,n)))({axis:a,moveInto:r.page,isMoving:i});const{displaced:l,displacedBy:c}=e,d=l.all[0];if(d){const e=n[d];if(zE(d,o))return VE({axis:a,moveRelativeTo:e.page,isMoving:i});const t=Dk(e.page,c.point);return VE({axis:a,moveRelativeTo:t,isMoving:i})}const u=s[s.length-1];if(u.descriptor.id===t.descriptor.id)return i.borderBox.center;if(zE(u.descriptor.id,o)){const e=Dk(u.page,oE(o.displacedBy.point));return HE({axis:a,moveRelativeTo:e,isMoving:i})}return HE({axis:a,moveRelativeTo:u.page,isMoving:i})},WE=(e,t)=>{const n=e.frame;return n?tE(t,n.scroll.diff.displacement):t};var GE=e=>{const t=(({impact:e,draggable:t,droppable:n,draggables:r,afterCritical:o})=>{const s=t.page.borderBox.center,i=e.at;return n&&i?"REORDER"===i.type?UE({impact:e,draggable:t,draggables:r,droppable:n,afterCritical:o}):BE({impact:e,draggables:r,afterCritical:o}):s})(e),n=e.droppable;return n?WE(n,t):t},qE=(e,t)=>{const n=nE(t,e.scroll.initial),r=oE(n);return{frame:Rk({top:t.y,bottom:t.y+e.frame.height,left:t.x,right:t.x+e.frame.width}),scroll:{initial:e.scroll.initial,max:e.scroll.max,current:t,diff:{value:n,displacement:r}}}};function KE(e,t){return e.map(e=>t[e])}var YE=({pageBorderBoxCenter:e,draggable:t,viewport:n})=>{const r=((e,t)=>tE(e.scroll.diff.displacement,t))(n,e),o=nE(r,t.page.borderBox.center);return tE(t.client.borderBox.center,o)},XE=({draggable:e,destination:t,newPageBorderBoxCenter:n,viewport:r,withDroppableDisplacement:o,onlyOnMainAxis:s=!1})=>{const i=nE(n,e.page.borderBox.center),a={target:cE(e.page.borderBox,i),destination:t,withDroppableDisplacement:o,viewport:r};return s?(e=>{return TE({...e,isVisibleThroughFrameFn:(t=e.destination.axis,e=>{const n=jE(e.top,e.bottom),r=jE(e.left,e.right);return e=>t===PE?n(e.top)&&n(e.bottom):r(e.left)&&r(e.right)})});var t})(a):ME(a)},JE=({isMovingForward:e,draggable:t,destination:n,draggables:r,previousImpact:o,viewport:s,previousPageBorderBoxCenter:i,previousClientSelection:a,afterCritical:l})=>{if(!n.isEnabled)return null;const c=yE(n.descriptor.id,r),d=EE(t,n),u=(({isMovingForward:e,draggable:t,destination:n,insideDestination:r,previousImpact:o})=>{if(!n.isCombineEnabled)return null;if(!xE(o))return null;function s(e){const t={type:"COMBINE",combine:{draggableId:e,droppableId:n.descriptor.id}};return{...o,at:t}}const i=o.displaced.all,a=i.length?i[0]:null;if(e)return a?s(a):null;const l=kE(t,r);if(!a)return l.length?s(l[l.length-1].descriptor.id):null;const c=l.findIndex(e=>e.descriptor.id===a);-1===c&&Vk();const d=c-1;return d<0?null:s(l[d].descriptor.id)})({isMovingForward:e,draggable:t,destination:n,insideDestination:c,previousImpact:o})||FE({isMovingForward:e,isInHomeList:d,draggable:t,draggables:r,destination:n,insideDestination:c,previousImpact:o,viewport:s,afterCritical:l});if(!u)return null;const p=GE({impact:u,draggable:t,droppable:n,draggables:r,afterCritical:l});if(XE({draggable:t,destination:n,newPageBorderBoxCenter:p,viewport:s.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})){return{clientSelection:YE({pageBorderBoxCenter:p,draggable:t,viewport:s}),impact:u,scrollJumpRequest:null}}const f=nE(p,i),g=(({impact:e,viewport:t,destination:n,draggables:r,maxScrollChange:o})=>{const s=qE(t,tE(t.scroll.current,o)),i=n.frame?fE(n,tE(n.frame.scroll.current,o)):n,a=e.displaced,l=DE({afterDragging:KE(a.all,r),destination:n,displacedBy:e.displacedBy,viewport:s.frame,last:a,forceShouldAnimate:!1}),c=DE({afterDragging:KE(a.all,r),destination:i,displacedBy:e.displacedBy,viewport:t.frame,last:a,forceShouldAnimate:!1}),d={},u={},p=[a,l,c];return a.all.forEach(e=>{const t=function(e,t){for(let n=0;n<t.length;n++){const r=t[n].visible[e];if(r)return r}return null}(e,p);t?u[e]=t:d[e]=!0}),{...e,displaced:{all:a.all,invisible:d,visible:u}}})({impact:u,viewport:s,destination:n,draggables:r,maxScrollChange:f});return{clientSelection:a,impact:g,scrollJumpRequest:f}};const ZE=e=>{const t=e.subject.active;return t||Vk(),t};const QE=(e,t)=>{const n=e.page.borderBox.center;return zE(e.descriptor.id,t)?nE(n,t.displacedBy.point):n},eS=(e,t)=>{const n=e.page.borderBox;return zE(e.descriptor.id,t)?cE(n,oE(t.displacedBy.point)):n};var tS=gE(function(e,t){const n=t[e.line];return{value:n,point:sE(e.line,n)}});const nS=(e,t)=>({...e,scroll:{...e.scroll,max:t}}),rS=(e,t,n)=>{const r=e.frame;EE(t,e)&&Vk(),e.subject.withPlaceholder&&Vk();const o=tS(e.axis,t.displaceBy).point,s=((e,t,n)=>{const r=e.axis;if("virtual"===e.descriptor.mode)return sE(r.line,t[r.line]);const o=e.subject.page.contentBox[r.size],s=yE(e.descriptor.id,n).reduce((e,t)=>e+t.client.marginBox[r.size],0)+t[r.line]-o;return s<=0?null:sE(r.line,s)})(e,o,n),i={placeholderSize:o,increasedBy:s,oldFrameMaxScroll:e.frame?e.frame.scroll.max:null};if(!r){const t=pE({page:e.subject.page,withPlaceholder:i,axis:e.axis,frame:e.frame});return{...e,subject:t}}const a=s?tE(r.scroll.max,s):r.scroll.max,l=nS(r,a),c=pE({page:e.subject.page,withPlaceholder:i,axis:e.axis,frame:l});return{...e,subject:c,frame:l}};var oS=({isMovingForward:e,previousPageBorderBoxCenter:t,draggable:n,isOver:r,draggables:o,droppables:s,viewport:i,afterCritical:a})=>{const l=(({isMovingForward:e,pageBorderBoxCenter:t,source:n,droppables:r,viewport:o})=>{const s=n.subject.active;if(!s)return null;const i=n.axis,a=jE(s[i.start],s[i.end]),l=vE(r).filter(e=>e!==n).filter(e=>e.isEnabled).filter(e=>Boolean(e.subject.active)).filter(e=>RE(o.frame)(ZE(e))).filter(t=>{const n=ZE(t);return e?s[i.crossAxisEnd]<n[i.crossAxisEnd]:n[i.crossAxisStart]<s[i.crossAxisStart]}).filter(e=>{const t=ZE(e),n=jE(t[i.start],t[i.end]);return a(t[i.start])||a(t[i.end])||n(s[i.start])||n(s[i.end])}).sort((t,n)=>{const r=ZE(t)[i.crossAxisStart],o=ZE(n)[i.crossAxisStart];return e?r-o:o-r}).filter((e,t,n)=>ZE(e)[i.crossAxisStart]===ZE(n[0])[i.crossAxisStart]);if(!l.length)return null;if(1===l.length)return l[0];const c=l.filter(e=>jE(ZE(e)[i.start],ZE(e)[i.end])(t[i.line]));return 1===c.length?c[0]:c.length>1?c.sort((e,t)=>ZE(e)[i.start]-ZE(t)[i.start])[0]:l.sort((e,n)=>{const r=aE(t,dE(ZE(e))),o=aE(t,dE(ZE(n)));return r!==o?r-o:ZE(e)[i.start]-ZE(n)[i.start]})[0]})({isMovingForward:e,pageBorderBoxCenter:t,source:r,droppables:s,viewport:i});if(!l)return null;const c=yE(l.descriptor.id,o),d=(({pageBorderBoxCenter:e,viewport:t,destination:n,insideDestination:r,afterCritical:o})=>r.filter(e=>ME({target:eS(e,o),destination:n,viewport:t.frame,withDroppableDisplacement:!0})).sort((t,r)=>{const s=iE(e,WE(n,QE(t,o))),i=iE(e,WE(n,QE(r,o)));return s<i?-1:i<s?1:t.descriptor.index-r.descriptor.index})[0]||null)({pageBorderBoxCenter:t,viewport:i,destination:l,insideDestination:c,afterCritical:a}),u=(({previousPageBorderBoxCenter:e,moveRelativeTo:t,insideDestination:n,draggable:r,draggables:o,destination:s,viewport:i,afterCritical:a})=>{if(!t){if(n.length)return null;const e={displaced:CE,displacedBy:SE,at:{type:"REORDER",destination:{droppableId:s.descriptor.id,index:0}}},t=GE({impact:e,draggable:r,droppable:s,draggables:o,afterCritical:a}),l=EE(r,s)?s:rS(s,r,o);return XE({draggable:r,destination:l,newPageBorderBoxCenter:t,viewport:i.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?e:null}const l=Boolean(e[s.axis.line]<=t.page.borderBox.center[s.axis.line]),c=(()=>{const e=t.descriptor.index;return t.descriptor.id===r.descriptor.id||l?e:e+1})(),d=tS(s.axis,r.displaceBy);return LE({draggable:r,insideDestination:n,destination:s,viewport:i,displacedBy:d,last:CE,index:c})})({previousPageBorderBoxCenter:t,destination:l,draggable:n,draggables:o,moveRelativeTo:d,insideDestination:c,viewport:i,afterCritical:a});if(!u)return null;const p=GE({impact:u,draggable:n,droppable:l,draggables:o,afterCritical:a});return{clientSelection:YE({pageBorderBoxCenter:p,draggable:n,viewport:i}),impact:u,scrollJumpRequest:null}},sS=e=>{const t=e.at;return t?"REORDER"===t.type?t.destination.droppableId:t.combine.droppableId:null};var iS=({state:e,type:t})=>{const n=((e,t)=>{const n=sS(e);return n?t[n]:null})(e.impact,e.dimensions.droppables),r=Boolean(n),o=e.dimensions.droppables[e.critical.droppable.id],s=n||o,i=s.axis.direction,a="vertical"===i&&("MOVE_UP"===t||"MOVE_DOWN"===t)||"horizontal"===i&&("MOVE_LEFT"===t||"MOVE_RIGHT"===t);if(a&&!r)return null;const l="MOVE_DOWN"===t||"MOVE_RIGHT"===t,c=e.dimensions.draggables[e.critical.draggable.id],d=e.current.page.borderBoxCenter,{draggables:u,droppables:p}=e.dimensions;return a?JE({isMovingForward:l,previousPageBorderBoxCenter:d,draggable:c,destination:s,draggables:u,viewport:e.viewport,previousClientSelection:e.current.client.selection,previousImpact:e.impact,afterCritical:e.afterCritical}):oS({isMovingForward:l,previousPageBorderBoxCenter:d,draggable:c,isOver:s,draggables:u,droppables:p,viewport:e.viewport,afterCritical:e.afterCritical})};function aS(e){return"DRAGGING"===e.phase||"COLLECTING"===e.phase}function lS(e){const t=jE(e.top,e.bottom),n=jE(e.left,e.right);return function(e){return t(e.y)&&n(e.x)}}function cS({pageBorderBox:e,draggable:t,droppables:n}){const r=vE(n).filter(t=>{if(!t.isEnabled)return!1;const n=t.subject.active;if(!n)return!1;if(o=n,!((r=e).left<o.right&&r.right>o.left&&r.top<o.bottom&&r.bottom>o.top))return!1;var r,o;if(lS(n)(e.center))return!0;const s=t.axis,i=n.center[s.crossAxisLine],a=e[s.crossAxisStart],l=e[s.crossAxisEnd],c=jE(n[s.crossAxisStart],n[s.crossAxisEnd]),d=c(a),u=c(l);return!d&&!u||(d?a<i:l>i)});return r.length?1===r.length?r[0].descriptor.id:function({pageBorderBox:e,draggable:t,candidates:n}){const r=t.page.borderBox.center,o=n.map(t=>{const n=t.axis,o=sE(t.axis.line,e.center[n.line],t.page.borderBox.center[n.crossAxisLine]);return{id:t.descriptor.id,distance:iE(r,o)}}).sort((e,t)=>t.distance-e.distance);return o[0]?o[0].id:null}({pageBorderBox:e,draggable:t,candidates:r}):null}const dS=(e,t)=>Rk(cE(e,t));function uS({displaced:e,id:t}){return Boolean(e.visible[t]||e.invisible[t])}var pS=({pageOffset:e,draggable:t,draggables:n,droppables:r,previousImpact:o,viewport:s,afterCritical:i})=>{const a=dS(t.page.borderBox,e),l=cS({pageBorderBox:a,draggable:t,droppables:r});if(!l)return IE;const c=r[l],d=yE(c.descriptor.id,n),u=((e,t)=>{const n=e.frame;return n?dS(t,n.scroll.diff.value):t})(c,a);return(({draggable:e,pageBorderBoxWithDroppableScroll:t,previousImpact:n,destination:r,insideDestination:o,afterCritical:s})=>{if(!r.isCombineEnabled)return null;const i=r.axis,a=tS(r.axis,e.displaceBy),l=a.value,c=t[i.start],d=t[i.end],u=kE(e,o).find(e=>{const t=e.descriptor.id,r=e.page.borderBox,o=r[i.size]/4,a=zE(t,s),u=uS({displaced:n.displaced,id:t});return a?u?d>r[i.start]+o&&d<r[i.end]-o:c>r[i.start]-l+o&&c<r[i.end]-l-o:u?d>r[i.start]+l+o&&d<r[i.end]+l-o:c>r[i.start]+o&&c<r[i.end]-o});return u?{displacedBy:a,displaced:n.displaced,at:{type:"COMBINE",combine:{draggableId:u.descriptor.id,droppableId:r.descriptor.id}}}:null})({pageBorderBoxWithDroppableScroll:u,draggable:t,previousImpact:o,destination:c,insideDestination:d,afterCritical:i})||(({pageBorderBoxWithDroppableScroll:e,draggable:t,destination:n,insideDestination:r,last:o,viewport:s,afterCritical:i})=>{const a=n.axis,l=tS(n.axis,t.displaceBy),c=l.value,d=e[a.start],u=e[a.end],p=function({draggable:e,closest:t,inHomeList:n}){return t?n&&t.descriptor.index>e.descriptor.index?t.descriptor.index-1:t.descriptor.index:null}({draggable:t,closest:kE(t,r).find(e=>{const t=e.descriptor.id,n=e.page.borderBox.center[a.line],r=zE(t,i),s=uS({displaced:o,id:t});return r?s?u<=n:d<n-c:s?u<=n+c:d<n})||null,inHomeList:EE(t,n)});return LE({draggable:t,insideDestination:r,destination:n,viewport:s,last:o,displacedBy:l,index:p})})({pageBorderBoxWithDroppableScroll:u,draggable:t,destination:c,insideDestination:d,last:o.displaced,viewport:s,afterCritical:i})},fS=(e,t)=>({...e,[t.descriptor.id]:t});const gS=({previousImpact:e,impact:t,droppables:n})=>{const r=sS(e),o=sS(t);if(!r)return n;if(r===o)return n;const s=n[r];if(!s.subject.withPlaceholder)return n;const i=(e=>{const t=e.subject.withPlaceholder;t||Vk();const n=e.frame;if(!n){const t=pE({page:e.subject.page,axis:e.axis,frame:null,withPlaceholder:null});return{...e,subject:t}}const r=t.oldFrameMaxScroll;r||Vk();const o=nS(n,r),s=pE({page:e.subject.page,axis:e.axis,frame:o,withPlaceholder:null});return{...e,subject:s,frame:o}})(s);return fS(n,i)};var hS=({state:e,clientSelection:t,dimensions:n,viewport:r,impact:o,scrollJumpRequest:s})=>{const i=r||e.viewport,a=n||e.dimensions,l=t||e.current.client.selection,c=nE(l,e.initial.client.selection),d={offset:c,selection:l,borderBoxCenter:tE(e.initial.client.borderBoxCenter,c)},u={selection:tE(d.selection,i.scroll.current),borderBoxCenter:tE(d.borderBoxCenter,i.scroll.current),offset:tE(d.offset,i.scroll.diff.value)},p={client:d,page:u};if("COLLECTING"===e.phase)return{...e,dimensions:a,viewport:i,current:p};const f=a.draggables[e.critical.draggable.id],g=o||pS({pageOffset:u.offset,draggable:f,draggables:a.draggables,droppables:a.droppables,previousImpact:e.impact,viewport:i,afterCritical:e.afterCritical}),h=(({draggable:e,draggables:t,droppables:n,previousImpact:r,impact:o})=>{const s=gS({previousImpact:r,impact:o,droppables:n}),i=sS(o);if(!i)return s;const a=n[i];if(EE(e,a))return s;if(a.subject.withPlaceholder)return s;const l=rS(a,e,t);return fS(s,l)})({draggable:f,impact:g,previousImpact:e.impact,draggables:a.draggables,droppables:a.droppables});return{...e,current:p,dimensions:{draggables:a.draggables,droppables:h},impact:g,viewport:i,scrollJumpRequest:s||null,forceShouldAnimate:!s&&null}};var mS=({impact:e,viewport:t,draggables:n,destination:r,forceShouldAnimate:o})=>{const s=e.displaced,i=function(e,t){return e.map(e=>t[e])}(s.all,n),a=DE({afterDragging:i,destination:r,displacedBy:e.displacedBy,viewport:t.frame,forceShouldAnimate:o,last:s});return{...e,displaced:a}},vS=({impact:e,draggable:t,droppable:n,draggables:r,viewport:o,afterCritical:s})=>{const i=GE({impact:e,draggable:t,draggables:r,droppable:n,afterCritical:s});return YE({pageBorderBoxCenter:i,draggable:t,viewport:o})},bS=({state:e,dimensions:t,viewport:n})=>{"SNAP"!==e.movementMode&&Vk();const r=e.impact,o=n||e.viewport,s=t||e.dimensions,{draggables:i,droppables:a}=s,l=i[e.critical.draggable.id],c=sS(r);c||Vk();const d=a[c],u=mS({impact:r,viewport:o,destination:d,draggables:i}),p=vS({impact:u,draggable:l,droppable:d,draggables:i,viewport:o,afterCritical:e.afterCritical});return hS({impact:u,clientSelection:p,state:e,dimensions:s,viewport:o})},yS=({draggable:e,home:t,draggables:n,viewport:r})=>{const o=tS(t.axis,e.displaceBy),s=yE(t.descriptor.id,n),i=s.indexOf(e);-1===i&&Vk();const a=s.slice(i+1),l=a.reduce((e,t)=>(e[t.descriptor.id]=!0,e),{}),c={inVirtualList:"virtual"===t.descriptor.mode,displacedBy:o,effected:l};var d;return{impact:{displaced:DE({afterDragging:a,destination:t,displacedBy:o,last:null,viewport:r.frame,forceShouldAnimate:!1}),displacedBy:o,at:{type:"REORDER",destination:(d=e.descriptor,{index:d.index,droppableId:d.droppableId})}},afterCritical:c}},xS=({additions:e,updatedDroppables:t,viewport:n})=>{const r=n.scroll.diff.value;return e.map(e=>{const o=e.descriptor.droppableId,s=(e=>{const t=e.frame;return t||Vk(),t})(t[o]).scroll.diff.value,i=(({draggable:e,offset:t,initialWindowScroll:n})=>{const r=Dk(e.client,t),o=Ak(r,n);return{...e,placeholder:{...e.placeholder,client:r},client:r,page:o}})({draggable:e,offset:tE(r,s),initialWindowScroll:n.scroll.initial});return i})};const wS=e=>"SNAP"===e.movementMode,kS=(e,t,n)=>{const r=((e,t)=>({draggables:e.draggables,droppables:fS(e.droppables,t)}))(e.dimensions,t);return!wS(e)||n?hS({state:e,dimensions:r}):bS({state:e,dimensions:r})};function ES(e){return e.isDragging&&"SNAP"===e.movementMode?{...e,scrollJumpRequest:null}:e}const SS={phase:"IDLE",completed:null,shouldFlush:!1};var CS=(e=SS,t)=>{if("FLUSH"===t.type)return{...SS,shouldFlush:!0};if("INITIAL_PUBLISH"===t.type){"IDLE"!==e.phase&&Vk();const{critical:n,clientSelection:r,viewport:o,dimensions:s,movementMode:i}=t.payload,a=s.draggables[n.draggable.id],l=s.droppables[n.droppable.id],c={selection:r,borderBoxCenter:a.client.borderBox.center,offset:eE},d={client:c,page:{selection:tE(c.selection,o.scroll.initial),borderBoxCenter:tE(c.selection,o.scroll.initial),offset:tE(c.selection,o.scroll.diff.value)}},u=vE(s.droppables).every(e=>!e.isFixedOnPage),{impact:p,afterCritical:f}=yS({draggable:a,home:l,draggables:s.draggables,viewport:o});return{phase:"DRAGGING",isDragging:!0,critical:n,movementMode:i,dimensions:s,initial:d,current:d,isWindowScrollAllowed:u,impact:p,afterCritical:f,onLiftImpact:p,viewport:o,scrollJumpRequest:null,forceShouldAnimate:null}}if("COLLECTION_STARTING"===t.type){if("COLLECTING"===e.phase||"DROP_PENDING"===e.phase)return e;"DRAGGING"!==e.phase&&Vk();return{...e,phase:"COLLECTING"}}if("PUBLISH_WHILE_DRAGGING"===t.type)return"COLLECTING"!==e.phase&&"DROP_PENDING"!==e.phase&&Vk(),(({state:e,published:t})=>{const n=t.modified.map(t=>{const n=e.dimensions.droppables[t.droppableId];return fE(n,t.scroll)}),r={...e.dimensions.droppables,...hE(n)},o=mE(xS({additions:t.additions,updatedDroppables:r,viewport:e.viewport})),s={...e.dimensions.draggables,...o};t.removals.forEach(e=>{delete s[e]});const i={droppables:r,draggables:s},a=sS(e.impact),l=a?i.droppables[a]:null,c=i.draggables[e.critical.draggable.id],d=i.droppables[e.critical.droppable.id],{impact:u,afterCritical:p}=yS({draggable:c,home:d,draggables:s,viewport:e.viewport}),f=l&&l.isCombineEnabled?e.impact:u,g=pS({pageOffset:e.current.page.offset,draggable:i.draggables[e.critical.draggable.id],draggables:i.draggables,droppables:i.droppables,previousImpact:f,viewport:e.viewport,afterCritical:p}),h={...e,phase:"DRAGGING",impact:g,onLiftImpact:u,dimensions:i,afterCritical:p,forceShouldAnimate:!1};return"COLLECTING"===e.phase?h:{...h,phase:"DROP_PENDING",reason:e.reason,isWaiting:!1}})({state:e,published:t.payload});if("MOVE"===t.type){if("DROP_PENDING"===e.phase)return e;aS(e)||Vk();const{client:n}=t.payload;return rE(n,e.current.client.selection)?e:hS({state:e,clientSelection:n,impact:wS(e)?e.impact:null})}if("UPDATE_DROPPABLE_SCROLL"===t.type){if("DROP_PENDING"===e.phase)return ES(e);if("COLLECTING"===e.phase)return ES(e);aS(e)||Vk();const{id:n,newScroll:r}=t.payload,o=e.dimensions.droppables[n];if(!o)return e;const s=fE(o,r);return kS(e,s,!1)}if("UPDATE_DROPPABLE_IS_ENABLED"===t.type){if("DROP_PENDING"===e.phase)return e;aS(e)||Vk();const{id:n,isEnabled:r}=t.payload,o=e.dimensions.droppables[n];o||Vk(),o.isEnabled===r&&Vk();const s={...o,isEnabled:r};return kS(e,s,!0)}if("UPDATE_DROPPABLE_IS_COMBINE_ENABLED"===t.type){if("DROP_PENDING"===e.phase)return e;aS(e)||Vk();const{id:n,isCombineEnabled:r}=t.payload,o=e.dimensions.droppables[n];o||Vk(),o.isCombineEnabled===r&&Vk();const s={...o,isCombineEnabled:r};return kS(e,s,!0)}if("MOVE_BY_WINDOW_SCROLL"===t.type){if("DROP_PENDING"===e.phase||"DROP_ANIMATING"===e.phase)return e;aS(e)||Vk(),e.isWindowScrollAllowed||Vk();const n=t.payload.newScroll;if(rE(e.viewport.scroll.current,n))return ES(e);const r=qE(e.viewport,n);return wS(e)?bS({state:e,viewport:r}):hS({state:e,viewport:r})}if("UPDATE_VIEWPORT_MAX_SCROLL"===t.type){if(!aS(e))return e;const n=t.payload.maxScroll;if(rE(n,e.viewport.scroll.max))return e;const r={...e.viewport,scroll:{...e.viewport.scroll,max:n}};return{...e,viewport:r}}if("MOVE_UP"===t.type||"MOVE_DOWN"===t.type||"MOVE_LEFT"===t.type||"MOVE_RIGHT"===t.type){if("COLLECTING"===e.phase||"DROP_PENDING"===e.phase)return e;"DRAGGING"!==e.phase&&Vk();const n=iS({state:e,type:t.type});return n?hS({state:e,impact:n.impact,clientSelection:n.clientSelection,scrollJumpRequest:n.scrollJumpRequest}):e}if("DROP_PENDING"===t.type){const n=t.payload.reason;"COLLECTING"!==e.phase&&Vk();return{...e,phase:"DROP_PENDING",isWaiting:!0,reason:n}}if("DROP_ANIMATE"===t.type){const{completed:n,dropDuration:r,newHomeClientOffset:o}=t.payload;"DRAGGING"!==e.phase&&"DROP_PENDING"!==e.phase&&Vk();return{phase:"DROP_ANIMATING",completed:n,dropDuration:r,newHomeClientOffset:o,dimensions:e.dimensions}}if("DROP_COMPLETE"===t.type){const{completed:e}=t.payload;return{phase:"IDLE",completed:e,shouldFlush:!1}}return e};function IS(e,t){return e instanceof Object&&"type"in e&&e.type===t}const jS=e=>({type:"PUBLISH_WHILE_DRAGGING",payload:e}),RS=()=>({type:"COLLECTION_STARTING",payload:null}),NS=e=>({type:"UPDATE_DROPPABLE_SCROLL",payload:e}),PS=e=>({type:"UPDATE_DROPPABLE_IS_ENABLED",payload:e}),OS=e=>({type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:e}),TS=e=>({type:"MOVE",payload:e}),MS=()=>({type:"MOVE_UP",payload:null}),DS=()=>({type:"MOVE_DOWN",payload:null}),AS=()=>({type:"MOVE_RIGHT",payload:null}),LS=()=>({type:"MOVE_LEFT",payload:null}),zS=e=>({type:"DROP_COMPLETE",payload:e}),FS=e=>({type:"DROP",payload:e}),BS=()=>({type:"DROP_ANIMATION_FINISHED",payload:null});const $S="cubic-bezier(.2,1,.1,1)",_S={drop:0,combining:.7},HS={drop:.75},VS={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},US=`${VS.outOfTheWay}s ${"cubic-bezier(0.2, 0, 0, 1)"}`,WS={fluid:`opacity ${US}`,snap:`transform ${US}, opacity ${US}`,drop:e=>{const t=`${e}s ${$S}`;return`transform ${t}, opacity ${t}`},outOfTheWay:`transform ${US}`,placeholder:`height ${US}, width ${US}, margin ${US}`},GS=e=>rE(e,eE)?void 0:`translate(${e.x}px, ${e.y}px)`,qS=GS,KS=(e,t)=>{const n=GS(e);if(n)return t?`${n} scale(${HS.drop})`:n},{minDropTime:YS,maxDropTime:XS}=VS,JS=XS-YS;const ZS=({getState:e,dispatch:t})=>n=>r=>{if(!IS(r,"DROP"))return void n(r);const o=e(),s=r.payload.reason;if("COLLECTING"===o.phase)return void t((e=>({type:"DROP_PENDING",payload:e}))({reason:s}));if("IDLE"===o.phase)return;"DROP_PENDING"===o.phase&&o.isWaiting&&Vk(),"DRAGGING"!==o.phase&&"DROP_PENDING"!==o.phase&&Vk();const i=o.critical,a=o.dimensions,l=a.draggables[o.critical.draggable.id],{impact:c,didDropInsideDroppable:d}=(({draggables:e,reason:t,lastImpact:n,home:r,viewport:o,onLiftImpact:s})=>{if(!n.at||"DROP"!==t)return{impact:mS({draggables:e,impact:s,destination:r,viewport:o,forceShouldAnimate:!0}),didDropInsideDroppable:!1};return"REORDER"===n.at.type?{impact:n,didDropInsideDroppable:!0}:{impact:{...n,displaced:CE},didDropInsideDroppable:!0}})({reason:s,lastImpact:o.impact,afterCritical:o.afterCritical,onLiftImpact:o.onLiftImpact,home:o.dimensions.droppables[o.critical.droppable.id],viewport:o.viewport,draggables:o.dimensions.draggables}),u=d?xE(c):null,p=d?wE(c):null,f={index:i.draggable.index,droppableId:i.droppable.id},g={draggableId:l.descriptor.id,type:l.descriptor.type,source:f,reason:s,mode:o.movementMode,destination:u,combine:p},h=(({impact:e,draggable:t,dimensions:n,viewport:r,afterCritical:o})=>{const{draggables:s,droppables:i}=n,a=sS(e),l=a?i[a]:null,c=i[t.descriptor.droppableId],d=vS({impact:e,draggable:t,draggables:s,afterCritical:o,droppable:l||c,viewport:r});return nE(d,t.client.borderBox.center)})({impact:c,draggable:l,dimensions:a,viewport:o.viewport,afterCritical:o.afterCritical}),m={critical:o.critical,afterCritical:o.afterCritical,result:g,impact:c};if(!(!rE(o.current.client.offset,h)||Boolean(g.combine)))return void t(zS({completed:m}));const v=(({current:e,destination:t,reason:n})=>{const r=iE(e,t);if(r<=0)return YS;if(r>=1500)return XS;const o=YS+JS*(r/1500);return Number(("CANCEL"===n?.6*o:o).toFixed(2))})({current:o.current.client.offset,destination:h,reason:s});t((e=>({type:"DROP_ANIMATE",payload:e}))({newHomeClientOffset:h,dropDuration:v,completed:m}))};var QS=()=>({x:window.pageXOffset,y:window.pageYOffset});function eC({onWindowScroll:e}){const t=Fk(function(){e(QS())}),n=(r=t,{eventName:"scroll",options:{passive:!0,capture:!1},fn:e=>{e.target!==window&&e.target!==window.document||r()}});var r;let o=$k;function s(){return o!==$k}return{start:function(){s()&&Vk(),o=_k(window,[n])},stop:function(){s()||Vk(),t.cancel(),o(),o=$k},isActive:s}}const tC=e=>{const t=eC({onWindowScroll:t=>{e.dispatch({type:"MOVE_BY_WINDOW_SCROLL",payload:{newScroll:t}})}});return e=>n=>{!t.isActive()&&IS(n,"INITIAL_PUBLISH")&&t.start(),t.isActive()&&(e=>IS(e,"DROP_COMPLETE")||IS(e,"DROP_ANIMATE")||IS(e,"FLUSH"))(n)&&t.stop(),e(n)}};var nC=()=>{const e=[];return{add:t=>{const n=setTimeout(()=>(t=>{const n=e.findIndex(e=>e.timerId===t);-1===n&&Vk();const[r]=e.splice(n,1);r.callback()})(n)),r={timerId:n,callback:t};e.push(r)},flush:()=>{if(!e.length)return;const t=[...e];e.length=0,t.forEach(e=>{clearTimeout(e.timerId),e.callback()})}}};const rC=(e,t)=>{t()},oC=(e,t)=>({draggableId:e.draggable.id,type:e.droppable.type,source:{droppableId:e.droppable.id,index:e.draggable.index},mode:t});function sC(e,t,n,r){if(!e)return void n(r(t));const o=(e=>{let t=!1,n=!1;const r=setTimeout(()=>{n=!0}),o=o=>{t||n||(t=!0,e(o),clearTimeout(r))};return o.wasCalled=()=>t,o})(n);e(t,{announce:o}),o.wasCalled()||n(r(t))}var iC=(e,t)=>{const n=((e,t)=>{const n=nC();let r=null;const o=n=>{r||Vk(),r=null,rC(0,()=>sC(e().onDragEnd,n,t,Yk.onDragEnd))};return{beforeCapture:(t,n)=>{r&&Vk(),rC(0,()=>{const r=e().onBeforeCapture;r&&r({draggableId:t,mode:n})})},beforeStart:(t,n)=>{r&&Vk(),rC(0,()=>{const r=e().onBeforeDragStart;r&&r(oC(t,n))})},start:(o,s)=>{r&&Vk();const i=oC(o,s);r={mode:s,lastCritical:o,lastLocation:i.source,lastCombine:null},n.add(()=>{rC(0,()=>sC(e().onDragStart,i,t,Yk.onDragStart))})},update:(o,s)=>{const i=xE(s),a=wE(s);r||Vk();const l=!((e,t)=>{if(e===t)return!0;const n=e.draggable.id===t.draggable.id&&e.draggable.droppableId===t.draggable.droppableId&&e.draggable.type===t.draggable.type&&e.draggable.index===t.draggable.index,r=e.droppable.id===t.droppable.id&&e.droppable.type===t.droppable.type;return n&&r})(o,r.lastCritical);l&&(r.lastCritical=o);const c=(u=i,!(null==(d=r.lastLocation)&&null==u||null!=d&&null!=u&&d.droppableId===u.droppableId&&d.index===u.index));var d,u;c&&(r.lastLocation=i);const p=!((e,t)=>null==e&&null==t||null!=e&&null!=t&&e.draggableId===t.draggableId&&e.droppableId===t.droppableId)(r.lastCombine,a);if(p&&(r.lastCombine=a),!l&&!c&&!p)return;const f={...oC(o,r.mode),combine:a,destination:i};n.add(()=>{rC(0,()=>sC(e().onDragUpdate,f,t,Yk.onDragUpdate))})},flush:()=>{r||Vk(),n.flush()},drop:o,abort:()=>{if(!r)return;const e={...oC(r.lastCritical,r.mode),combine:null,destination:null,reason:"CANCEL"};o(e)}}})(e,t);return e=>t=>r=>{if(IS(r,"BEFORE_INITIAL_CAPTURE"))return void n.beforeCapture(r.payload.draggableId,r.payload.movementMode);if(IS(r,"INITIAL_PUBLISH")){const e=r.payload.critical;return n.beforeStart(e,r.payload.movementMode),t(r),void n.start(e,r.payload.movementMode)}if(IS(r,"DROP_COMPLETE")){const e=r.payload.completed.result;return n.flush(),t(r),void n.drop(e)}if(t(r),IS(r,"FLUSH"))return void n.abort();const o=e.getState();"DRAGGING"===o.phase&&n.update(o.critical,o.impact)}};const aC=e=>t=>n=>{if(!IS(n,"DROP_ANIMATION_FINISHED"))return void t(n);const r=e.getState();"DROP_ANIMATING"!==r.phase&&Vk(),e.dispatch(zS({completed:r.completed}))},lC=e=>{let t=null,n=null;return r=>o=>{if((IS(o,"FLUSH")||IS(o,"DROP_COMPLETE")||IS(o,"DROP_ANIMATION_FINISHED"))&&(n&&(cancelAnimationFrame(n),n=null),t&&(t(),t=null)),r(o),!IS(o,"DROP_ANIMATE"))return;const s={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){"DROP_ANIMATING"===e.getState().phase&&e.dispatch({type:"DROP_ANIMATION_FINISHED",payload:null})}};n=requestAnimationFrame(()=>{n=null,t=_k(window,[s])})}};var cC=e=>t=>n=>r=>{if((e=>IS(e,"DROP_COMPLETE")||IS(e,"DROP_ANIMATE")||IS(e,"FLUSH"))(r))return e.stop(),void n(r);if(IS(r,"INITIAL_PUBLISH")){n(r);const o=t.getState();return"DRAGGING"!==o.phase&&Vk(),void e.start(o)}n(r),e.scroll(t.getState())};const dC=e=>t=>n=>{if(t(n),!IS(n,"PUBLISH_WHILE_DRAGGING"))return;const r=e.getState();"DROP_PENDING"===r.phase&&(r.isWaiting||e.dispatch(FS({reason:r.reason})))},uC=Pw;var pC=({dimensionMarshal:e,focusMarshal:t,styleMarshal:n,getResponders:r,announce:o,autoScroller:s})=>{return jw(CS,uC(function(...e){return t=>(n,r)=>{const o=t(n,r);let s=()=>{throw new Error(Ew(15))};const i={getState:o.getState,dispatch:(e,...t)=>s(e,...t)},a=e.map(e=>e(i));return s=Pw(...a)(o.dispatch),{...o,dispatch:s}}}((i=n,()=>e=>t=>{IS(t,"INITIAL_PUBLISH")&&i.dragging(),IS(t,"DROP_ANIMATE")&&i.dropping(t.payload.completed.result.reason),(IS(t,"FLUSH")||IS(t,"DROP_COMPLETE"))&&i.resting(),e(t)}),(e=>()=>t=>n=>{(IS(n,"DROP_COMPLETE")||IS(n,"FLUSH")||IS(n,"DROP_ANIMATE"))&&e.stopPublishing(),t(n)})(e),(e=>({getState:t,dispatch:n})=>r=>o=>{if(!IS(o,"LIFT"))return void r(o);const{id:s,clientSelection:i,movementMode:a}=o.payload,l=t();"DROP_ANIMATING"===l.phase&&n(zS({completed:l.completed})),"IDLE"!==t().phase&&Vk(),n({type:"FLUSH",payload:null}),n({type:"BEFORE_INITIAL_CAPTURE",payload:{draggableId:s,movementMode:a}});const c={draggableId:s,scrollOptions:{shouldPublishImmediately:"SNAP"===a}},{critical:d,dimensions:u,viewport:p}=e.startPublishing(c);n({type:"INITIAL_PUBLISH",payload:{critical:d,dimensions:u,clientSelection:i,movementMode:a,viewport:p}})})(e),ZS,aC,lC,dC,cC(s),tC,(e=>{let t=!1;return()=>n=>r=>{if(IS(r,"INITIAL_PUBLISH"))return t=!0,e.tryRecordFocus(r.payload.critical.draggable.id),n(r),void e.tryRestoreFocusRecorded();if(n(r),t){if(IS(r,"FLUSH"))return t=!1,void e.tryRestoreFocusRecorded();if(IS(r,"DROP_COMPLETE")){t=!1;const n=r.payload.completed.result;n.combine&&e.tryShiftRecord(n.draggableId,n.combine.draggableId),e.tryRestoreFocusRecorded()}}}})(t),iC(r,o))));var i};var fC=({scrollHeight:e,scrollWidth:t,height:n,width:r})=>{const o=nE({x:t,y:e},{x:r,y:n});return{x:Math.max(0,o.x),y:Math.max(0,o.y)}},gC=()=>{const e=document.documentElement;return e||Vk(),e},hC=()=>{const e=gC();return fC({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight})},mC=({critical:e,scrollOptions:t,registry:n})=>{const r=(()=>{const e=QS(),t=hC(),n=e.y,r=e.x,o=gC(),s=o.clientWidth,i=o.clientHeight;return{frame:Rk({top:n,left:r,right:r+s,bottom:n+i}),scroll:{initial:e,current:e,max:t,diff:{value:eE,displacement:eE}}}})(),o=r.scroll.current,s=e.droppable,i=n.droppable.getAllByType(s.type).map(e=>e.callbacks.getDimensionAndWatchScroll(o,t)),a=n.draggable.getAllByType(e.draggable.type).map(e=>e.getDimension(o));return{dimensions:{draggables:mE(a),droppables:hE(i)},critical:e,viewport:r}};function vC(e,t,n){if(n.descriptor.id===t.id)return!1;if(n.descriptor.type!==t.type)return!1;return"virtual"===e.droppable.getById(n.descriptor.droppableId).descriptor.mode}var bC=(e,t)=>{let n=null;const r=function({registry:e,callbacks:t}){let n={additions:{},removals:{},modified:{}},r=null;const o=()=>{r||(t.collectionStarting(),r=requestAnimationFrame(()=>{r=null;const{additions:o,removals:s,modified:i}=n,a=Object.keys(o).map(t=>e.draggable.getById(t).getDimension(eE)).sort((e,t)=>e.descriptor.index-t.descriptor.index),l=Object.keys(i).map(t=>({droppableId:t,scroll:e.droppable.getById(t).callbacks.getScrollWhileDragging()})),c={additions:a,removals:Object.keys(s),modified:l};n={additions:{},removals:{},modified:{}},t.publish(c)}))};return{add:e=>{const t=e.descriptor.id;n.additions[t]=e,n.modified[e.descriptor.droppableId]=!0,n.removals[t]&&delete n.removals[t],o()},remove:e=>{const t=e.descriptor;n.removals[t.id]=!0,n.modified[t.droppableId]=!0,n.additions[t.id]&&delete n.additions[t.id],o()},stop:()=>{r&&(cancelAnimationFrame(r),r=null,n={additions:{},removals:{},modified:{}})}}}({callbacks:{publish:t.publishWhileDragging,collectionStarting:t.collectionStarting},registry:e}),o=t=>{n||Vk();const o=n.critical.draggable;"ADDITION"===t.type&&vC(e,o,t.value)&&r.add(t.value),"REMOVAL"===t.type&&vC(e,o,t.value)&&r.remove(t.value)};return{updateDroppableIsEnabled:(r,o)=>{e.droppable.exists(r)||Vk(),n&&t.updateDroppableIsEnabled({id:r,isEnabled:o})},updateDroppableIsCombineEnabled:(r,o)=>{n&&(e.droppable.exists(r)||Vk(),t.updateDroppableIsCombineEnabled({id:r,isCombineEnabled:o}))},scrollDroppable:(t,r)=>{n&&e.droppable.getById(t).callbacks.scroll(r)},updateDroppableScroll:(r,o)=>{n&&(e.droppable.exists(r)||Vk(),t.updateDroppableScroll({id:r,newScroll:o}))},startPublishing:t=>{n&&Vk();const r=e.draggable.getById(t.draggableId),s=e.droppable.getById(r.descriptor.droppableId),i={draggable:r.descriptor,droppable:s.descriptor},a=e.subscribe(o);return n={critical:i,unsubscribe:a},mC({critical:i,registry:e,scrollOptions:t.scrollOptions})},stopPublishing:()=>{if(!n)return;r.stop();const t=n.critical.droppable;e.droppable.getAllByType(t.type).forEach(e=>e.callbacks.dragStopped()),n.unsubscribe(),n=null}}},yC=(e,t)=>"IDLE"===e.phase||"DROP_ANIMATING"===e.phase&&(e.completed.result.draggableId!==t&&"DROP"===e.completed.result.reason),xC=e=>{window.scrollBy(e.x,e.y)};const wC=gE(e=>vE(e).filter(e=>!!e.isEnabled&&!!e.frame));var kC=({center:e,destination:t,droppables:n})=>{if(t){const e=n[t];return e.frame?e:null}const r=((e,t)=>wC(t).find(t=>(t.frame||Vk(),lS(t.frame.pageMarginBox)(e)))||null)(e,n);return r};const EC={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:e=>e**2,durationDampening:{stopDampeningAt:1200,accelerateAt:360},disabled:!1};var SC=({startOfRange:e,endOfRange:t,current:n})=>{const r=t-e;if(0===r)return 0;return(n-e)/r},CC=({distanceToEdge:e,thresholds:t,dragStartTime:n,shouldUseTimeDampening:r,getAutoScrollerOptions:o})=>{const s=((e,t,n=()=>EC)=>{const r=n();if(e>t.startScrollingFrom)return 0;if(e<=t.maxScrollValueAt)return r.maxPixelScroll;if(e===t.startScrollingFrom)return 1;const o=1-SC({startOfRange:t.maxScrollValueAt,endOfRange:t.startScrollingFrom,current:e}),s=r.maxPixelScroll*r.ease(o);return Math.ceil(s)})(e,t,o);return 0===s?0:r?Math.max(((e,t,n)=>{const r=n(),o=r.durationDampening.accelerateAt,s=r.durationDampening.stopDampeningAt,i=t,a=s,l=Date.now()-i;if(l>=s)return e;if(l<o)return 1;const c=SC({startOfRange:o,endOfRange:a,current:l}),d=e*r.ease(c);return Math.ceil(d)})(s,n,o),1):s},IC=({container:e,distanceToEdges:t,dragStartTime:n,axis:r,shouldUseTimeDampening:o,getAutoScrollerOptions:s})=>{const i=((e,t,n=()=>EC)=>{const r=n();return{startScrollingFrom:e[t.size]*r.startFromPercentage,maxScrollValueAt:e[t.size]*r.maxScrollAtPercentage}})(e,r,s);return t[r.end]<t[r.start]?CC({distanceToEdge:t[r.end],thresholds:i,dragStartTime:n,shouldUseTimeDampening:o,getAutoScrollerOptions:s}):-1*CC({distanceToEdge:t[r.start],thresholds:i,dragStartTime:n,shouldUseTimeDampening:o,getAutoScrollerOptions:s})};const jC=lE(e=>0===e?0:e);var RC=({dragStartTime:e,container:t,subject:n,center:r,shouldUseTimeDampening:o,getAutoScrollerOptions:s})=>{const i={top:r.y-t.top,right:t.right-r.x,bottom:t.bottom-r.y,left:r.x-t.left},a=IC({container:t,distanceToEdges:i,dragStartTime:e,axis:PE,shouldUseTimeDampening:o,getAutoScrollerOptions:s}),l=IC({container:t,distanceToEdges:i,dragStartTime:e,axis:OE,shouldUseTimeDampening:o,getAutoScrollerOptions:s}),c=jC({x:l,y:a});if(rE(c,eE))return null;const d=(({container:e,subject:t,proposedScroll:n})=>{const r=t.height>e.height,o=t.width>e.width;return o||r?o&&r?null:{x:o?0:n.x,y:r?0:n.y}:n})({container:t,subject:n,proposedScroll:c});return d?rE(d,eE)?null:d:null};const NC=lE(e=>0===e?0:e>0?1:-1),PC=(()=>{const e=(e,t)=>e<0?e:e>t?e-t:0;return({current:t,max:n,change:r})=>{const o=tE(t,r),s={x:e(o.x,n.x),y:e(o.y,n.y)};return rE(s,eE)?null:s}})(),OC=({max:e,current:t,change:n})=>{const r={x:Math.max(t.x,e.x),y:Math.max(t.y,e.y)},o=NC(n),s=PC({max:r,current:t,change:o});return!s||(0!==o.x&&0===s.x||0!==o.y&&0===s.y)},TC=(e,t)=>OC({current:e.scroll.current,max:e.scroll.max,change:t}),MC=(e,t)=>{const n=e.frame;return!!n&&OC({current:n.scroll.current,max:n.scroll.max,change:t})};var DC=({state:e,dragStartTime:t,shouldUseTimeDampening:n,scrollWindow:r,scrollDroppable:o,getAutoScrollerOptions:s})=>{const i=e.current.page.borderBoxCenter,a=e.dimensions.draggables[e.critical.draggable.id].page.marginBox;if(e.isWindowScrollAllowed){const o=(({viewport:e,subject:t,center:n,dragStartTime:r,shouldUseTimeDampening:o,getAutoScrollerOptions:s})=>{const i=RC({dragStartTime:r,container:e.frame,subject:t,center:n,shouldUseTimeDampening:o,getAutoScrollerOptions:s});return i&&TC(e,i)?i:null})({dragStartTime:t,viewport:e.viewport,subject:a,center:i,shouldUseTimeDampening:n,getAutoScrollerOptions:s});if(o)return void r(o)}const l=kC({center:i,destination:sS(e.impact),droppables:e.dimensions.droppables});if(!l)return;const c=(({droppable:e,subject:t,center:n,dragStartTime:r,shouldUseTimeDampening:o,getAutoScrollerOptions:s})=>{const i=e.frame;if(!i)return null;const a=RC({dragStartTime:r,container:i.pageMarginBox,subject:t,center:n,shouldUseTimeDampening:o,getAutoScrollerOptions:s});return a&&MC(e,a)?a:null})({dragStartTime:t,droppable:l,subject:a,center:i,shouldUseTimeDampening:n,getAutoScrollerOptions:s});c&&o(l.descriptor.id,c)},AC=({move:e,scrollDroppable:t,scrollWindow:n})=>{const r=(e,n)=>{if(!MC(e,n))return n;const r=((e,t)=>{const n=e.frame;return n&&MC(e,t)?PC({current:n.scroll.current,max:n.scroll.max,change:t}):null})(e,n);if(!r)return t(e.descriptor.id,n),null;const o=nE(n,r);t(e.descriptor.id,o);return nE(n,o)},o=(e,t,r)=>{if(!e)return r;if(!TC(t,r))return r;const o=((e,t)=>{if(!TC(e,t))return null;const n=e.scroll.max,r=e.scroll.current;return PC({current:r,max:n,change:t})})(t,r);if(!o)return n(r),null;const s=nE(r,o);n(s);return nE(r,s)};return t=>{const n=t.scrollJumpRequest;if(!n)return;const s=sS(t.impact);s||Vk();const i=r(t.dimensions.droppables[s],n);if(!i)return;const a=t.viewport,l=o(t.isWindowScrollAllowed,a,i);l&&((t,n)=>{const r=tE(t.current.client.selection,n);e({client:r})})(t,l)}},LC=({scrollDroppable:e,scrollWindow:t,move:n,getAutoScrollerOptions:r})=>{const o=(({scrollWindow:e,scrollDroppable:t,getAutoScrollerOptions:n=()=>EC})=>{const r=Fk(e),o=Fk(t);let s=null;const i=e=>{s||Vk();const{shouldUseTimeDampening:t,dragStartTime:i}=s;DC({state:e,scrollWindow:r,scrollDroppable:o,dragStartTime:i,shouldUseTimeDampening:t,getAutoScrollerOptions:n})};return{start:e=>{s&&Vk();const t=Date.now();let r=!1;const o=()=>{r=!0};DC({state:e,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:o,scrollDroppable:o,getAutoScrollerOptions:n}),s={dragStartTime:t,shouldUseTimeDampening:r},r&&i(e)},stop:()=>{s&&(r.cancel(),o.cancel(),s=null)},scroll:i}})({scrollWindow:t,scrollDroppable:e,getAutoScrollerOptions:r}),s=AC({move:n,scrollWindow:t,scrollDroppable:e});return{scroll:e=>{r().disabled||"DRAGGING"!==e.phase||("FLUID"!==e.movementMode?e.scrollJumpRequest&&s(e):o.scroll(e))},start:o.start,stop:o.stop}};const zC="data-rfd",FC=(()=>{const e=`${zC}-drag-handle`;return{base:e,draggableId:`${e}-draggable-id`,contextId:`${e}-context-id`}})(),BC=(()=>{const e=`${zC}-draggable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),$C=(()=>{const e=`${zC}-droppable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),_C={contextId:`${zC}-scroll-container-context-id`},HC=(e,t)=>e.map(e=>{const n=e.styles[t];return n?`${e.selector} { ${n} }`:""}).join(" ");const VC="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?d.useLayoutEffect:d.useEffect,UC=()=>{const e=document.querySelector("head");return e||Vk(),e},WC=e=>{const t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.type="text/css",t};function GC(e,t){const n=Zk(()=>(e=>{const t=(n=e,e=>`[${e}="${n}"]`);var n;const r=(()=>{const e="\n      cursor: -webkit-grab;\n      cursor: grab;\n    ";return{selector:t(FC.contextId),styles:{always:"\n          -webkit-touch-callout: none;\n          -webkit-tap-highlight-color: rgba(0,0,0,0);\n          touch-action: manipulation;\n        ",resting:e,dragging:"pointer-events: none;",dropAnimating:e}}})(),o=[(()=>{const e=`\n      transition: ${WS.outOfTheWay};\n    `;return{selector:t(BC.contextId),styles:{dragging:e,dropAnimating:e,userCancel:e}}})(),r,{selector:t($C.contextId),styles:{always:"overflow-anchor: none;"}},{selector:"body",styles:{dragging:"\n        cursor: grabbing;\n        cursor: -webkit-grabbing;\n        user-select: none;\n        -webkit-user-select: none;\n        -moz-user-select: none;\n        -ms-user-select: none;\n        overflow-anchor: none;\n      "}}];return{always:HC(o,"always"),resting:HC(o,"resting"),dragging:HC(o,"dragging"),dropAnimating:HC(o,"dropAnimating"),userCancel:HC(o,"userCancel")}})(e),[e]),r=d.useRef(null),o=d.useRef(null),s=Qk(gE(e=>{const t=o.current;t||Vk(),t.textContent=e}),[]),i=Qk(e=>{const t=r.current;t||Vk(),t.textContent=e},[]);VC(()=>{(r.current||o.current)&&Vk();const a=WC(t),l=WC(t);return r.current=a,o.current=l,a.setAttribute(`${zC}-always`,e),l.setAttribute(`${zC}-dynamic`,e),UC().appendChild(a),UC().appendChild(l),i(n.always),s(n.resting),()=>{const e=e=>{const t=e.current;t||Vk(),UC().removeChild(t),e.current=null};e(r),e(o)}},[t,i,s,n.always,n.resting,e]);const a=Qk(()=>s(n.dragging),[s,n.dragging]),l=Qk(e=>{s("DROP"!==e?n.userCancel:n.dropAnimating)},[s,n.dropAnimating,n.userCancel]),c=Qk(()=>{o.current&&s(n.resting)},[s,n.resting]);return Zk(()=>({dragging:a,dropping:l,resting:c}),[a,l,c])}function qC(e,t){return Array.from(e.querySelectorAll(t))}var KC=e=>e&&e.ownerDocument&&e.ownerDocument.defaultView?e.ownerDocument.defaultView:window;function YC(e){return e instanceof KC(e).HTMLElement}function XC(e){const t=d.useRef({}),n=d.useRef(null),r=d.useRef(null),o=d.useRef(!1),s=Qk(function(e,n){const r={id:e,focus:n};return t.current[e]=r,function(){const n=t.current;n[e]!==r&&delete n[e]}},[]),i=Qk(function(t){const n=function(e,t){const n=`[${FC.contextId}="${e}"]`,r=qC(document,n);if(!r.length)return null;const o=r.find(e=>e.getAttribute(FC.draggableId)===t);return o&&YC(o)?o:null}(e,t);n&&n!==document.activeElement&&n.focus()},[e]),a=Qk(function(e,t){n.current===e&&(n.current=t)},[]),l=Qk(function(){r.current||o.current&&(r.current=requestAnimationFrame(()=>{r.current=null;const e=n.current;e&&i(e)}))},[i]),c=Qk(function(e){n.current=null;const t=document.activeElement;t&&t.getAttribute(FC.draggableId)===e&&(n.current=e)},[]);VC(()=>(o.current=!0,function(){o.current=!1;const e=r.current;e&&cancelAnimationFrame(e)}),[]);return Zk(()=>({register:s,tryRecordFocus:c,tryRestoreFocusRecorded:l,tryShiftRecord:a}),[s,c,l,a])}function JC(){const e={draggables:{},droppables:{}},t=[];function n(e){t.length&&t.forEach(t=>t(e))}function r(t){return e.draggables[t]||null}function o(t){return e.droppables[t]||null}return{draggable:{register:t=>{e.draggables[t.descriptor.id]=t,n({type:"ADDITION",value:t})},update:(t,n)=>{const r=e.draggables[n.descriptor.id];r&&r.uniqueId===t.uniqueId&&(delete e.draggables[n.descriptor.id],e.draggables[t.descriptor.id]=t)},unregister:t=>{const o=t.descriptor.id,s=r(o);s&&t.uniqueId===s.uniqueId&&(delete e.draggables[o],e.droppables[t.descriptor.droppableId]&&n({type:"REMOVAL",value:t}))},getById:function(e){const t=r(e);return t||Vk(),t},findById:r,exists:e=>Boolean(r(e)),getAllByType:t=>Object.values(e.draggables).filter(e=>e.descriptor.type===t)},droppable:{register:t=>{e.droppables[t.descriptor.id]=t},unregister:t=>{const n=o(t.descriptor.id);n&&t.uniqueId===n.uniqueId&&delete e.droppables[t.descriptor.id]},getById:function(e){const t=o(e);return t||Vk(),t},findById:o,exists:e=>Boolean(o(e)),getAllByType:t=>Object.values(e.droppables).filter(e=>e.descriptor.type===t)},subscribe:function(e){return t.push(e),function(){const n=t.indexOf(e);-1!==n&&t.splice(n,1)}},clean:function(){e.draggables={},e.droppables={},t.length=0}}}var ZC=u.createContext(null),QC=()=>{const e=document.body;return e||Vk(),e};const eI={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"};const tI={separator:"::"};function nI(e,t=tI){const n=u.useId();return Zk(()=>`${e}${t.separator}${n}`,[t.separator,e,n])}var rI=u.createContext(null);function oI(e){const t=d.useRef(e);return d.useEffect(()=>{t.current=e}),t}function sI(e){return"IDLE"!==e.phase&&"DROP_ANIMATING"!==e.phase&&e.isDragging}const iI=9,aI=13,lI=33,cI=34,dI=35,uI=36,pI={[aI]:!0,[iI]:!0};var fI=e=>{pI[e.keyCode]&&e.preventDefault()};const gI=(()=>{const e="visibilitychange";if("undefined"==typeof document)return e;return[e,`ms${e}`,`webkit${e}`,`moz${e}`,`o${e}`].find(e=>`on${e}`in document)||e})();const hI={type:"IDLE"};function mI({cancel:e,completed:t,getPhase:n,setPhase:r}){return[{eventName:"mousemove",fn:e=>{const{button:t,clientX:o,clientY:s}=e;if(0!==t)return;const i={x:o,y:s},a=n();if("DRAGGING"===a.type)return e.preventDefault(),void a.actions.move(i);"PENDING"!==a.type&&Vk();const l=a.point;if(c=l,d=i,!(Math.abs(d.x-c.x)>=5||Math.abs(d.y-c.y)>=5))return;var c,d;e.preventDefault();const u=a.actions.fluidLift(i);r({type:"DRAGGING",actions:u})}},{eventName:"mouseup",fn:r=>{const o=n();"DRAGGING"===o.type?(r.preventDefault(),o.actions.drop({shouldBlockNextClick:!0}),t()):e()}},{eventName:"mousedown",fn:t=>{"DRAGGING"===n().type&&t.preventDefault(),e()}},{eventName:"keydown",fn:t=>{if("PENDING"!==n().type)return 27===t.keyCode?(t.preventDefault(),void e()):void fI(t);e()}},{eventName:"resize",fn:e},{eventName:"scroll",options:{passive:!0,capture:!1},fn:()=>{"PENDING"===n().type&&e()}},{eventName:"webkitmouseforcedown",fn:t=>{const r=n();"IDLE"===r.type&&Vk(),r.actions.shouldRespectForcePress()?e():t.preventDefault()}},{eventName:gI,fn:e}]}function vI(){}const bI={[cI]:!0,[lI]:!0,[uI]:!0,[dI]:!0};function yI(e,t){function n(){t(),e.cancel()}return[{eventName:"keydown",fn:r=>27===r.keyCode?(r.preventDefault(),void n()):32===r.keyCode?(r.preventDefault(),t(),void e.drop()):40===r.keyCode?(r.preventDefault(),void e.moveDown()):38===r.keyCode?(r.preventDefault(),void e.moveUp()):39===r.keyCode?(r.preventDefault(),void e.moveRight()):37===r.keyCode?(r.preventDefault(),void e.moveLeft()):void(bI[r.keyCode]?r.preventDefault():fI(r))},{eventName:"mousedown",fn:n},{eventName:"mouseup",fn:n},{eventName:"click",fn:n},{eventName:"touchstart",fn:n},{eventName:"resize",fn:n},{eventName:"wheel",fn:n,options:{passive:!0}},{eventName:gI,fn:n}]}const xI={type:"IDLE"};const wI=["input","button","textarea","select","option","optgroup","video","audio"];function kI(e,t){if(null==t)return!1;if(wI.includes(t.tagName.toLowerCase()))return!0;const n=t.getAttribute("contenteditable");return"true"===n||""===n||t!==e&&kI(e,t.parentElement)}function EI(e,t){const n=t.target;return!!YC(n)&&kI(e,n)}var SI=e=>Rk(e.getBoundingClientRect()).center;const CI=(()=>{const e="matches";if("undefined"==typeof document)return e;return[e,"msMatchesSelector","webkitMatchesSelector"].find(e=>e in Element.prototype)||e})();function II(e,t){return null==e?null:e[CI](t)?e:II(e.parentElement,t)}function jI(e,t){return e.closest?e.closest(t):II(e,t)}function RI(e,t){const n=t.target;if(!((r=n)instanceof KC(r).Element))return null;var r;const o=function(e){return`[${FC.contextId}="${e}"]`}(e),s=jI(n,o);return s&&YC(s)?s:null}function NI(e){e.preventDefault()}function PI({expected:e,phase:t,isLockActive:n,shouldWarn:r}){return!!n()&&e===t}function OI({lockAPI:e,store:t,registry:n,draggableId:r}){if(e.isClaimed())return!1;const o=n.draggable.findById(r);return!!o&&(!!o.options.isEnabled&&!!yC(t.getState(),r))}function TI({lockAPI:e,contextId:t,store:n,registry:r,draggableId:o,forceSensorStop:s,sourceEvent:i}){if(!OI({lockAPI:e,store:n,registry:r,draggableId:o}))return null;const a=r.draggable.getById(o),l=function(e,t){const n=`[${BC.contextId}="${e}"]`,r=qC(document,n).find(e=>e.getAttribute(BC.id)===t);return r&&YC(r)?r:null}(t,a.descriptor.id);if(!l)return null;if(i&&!a.options.canDragInteractiveElements&&EI(l,i))return null;const c=e.claim(s||$k);let d="PRE_DRAG";function u(){return a.options.shouldRespectForcePress}function p(){return e.isActive(c)}const f=function(e,t){PI({expected:e,phase:d,isLockActive:p,shouldWarn:!0})&&n.dispatch(t())}.bind(null,"DRAGGING");function g(t){function r(){e.release(),d="COMPLETED"}function o(e,o={shouldBlockNextClick:!1}){if(t.cleanup(),o.shouldBlockNextClick){const e=_k(window,[{eventName:"click",fn:NI,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(e)}r(),n.dispatch(FS({reason:e}))}return"PRE_DRAG"!==d&&(r(),Vk()),n.dispatch((e=>({type:"LIFT",payload:e}))(t.liftActionArgs)),d="DRAGGING",{isActive:()=>PI({expected:"DRAGGING",phase:d,isLockActive:p,shouldWarn:!1}),shouldRespectForcePress:u,drop:e=>o("DROP",e),cancel:e=>o("CANCEL",e),...t.actions}}return{isActive:()=>PI({expected:"PRE_DRAG",phase:d,isLockActive:p,shouldWarn:!1}),shouldRespectForcePress:u,fluidLift:function(e){const t=Fk(e=>{f(()=>TS({client:e}))});return{...g({liftActionArgs:{id:o,clientSelection:e,movementMode:"FLUID"},cleanup:()=>t.cancel(),actions:{move:t}}),move:t}},snapLift:function(){const e={moveUp:()=>f(MS),moveRight:()=>f(AS),moveDown:()=>f(DS),moveLeft:()=>f(LS)};return g({liftActionArgs:{id:o,clientSelection:SI(l),movementMode:"SNAP"},cleanup:$k,actions:e})},abort:function(){PI({expected:"PRE_DRAG",phase:d,isLockActive:p,shouldWarn:!0})&&e.release()}}}const MI=[function(e){const t=d.useRef(hI),n=d.useRef($k),r=Zk(()=>({eventName:"mousedown",fn:function(t){if(t.defaultPrevented)return;if(0!==t.button)return;if(t.ctrlKey||t.metaKey||t.shiftKey||t.altKey)return;const r=e.findClosestDraggableId(t);if(!r)return;const o=e.tryGetLock(r,i,{sourceEvent:t});if(!o)return;t.preventDefault();const s={x:t.clientX,y:t.clientY};n.current(),c(o,s)}}),[e]),o=Zk(()=>({eventName:"webkitmouseforcewillbegin",fn:t=>{if(t.defaultPrevented)return;const n=e.findClosestDraggableId(t);if(!n)return;const r=e.findOptionsForDraggable(n);r&&(r.shouldRespectForcePress||e.canGetLock(n)&&t.preventDefault())}}),[e]),s=Qk(function(){n.current=_k(window,[o,r],{passive:!1,capture:!0})},[o,r]),i=Qk(()=>{"IDLE"!==t.current.type&&(t.current=hI,n.current(),s())},[s]),a=Qk(()=>{const e=t.current;i(),"DRAGGING"===e.type&&e.actions.cancel({shouldBlockNextClick:!0}),"PENDING"===e.type&&e.actions.abort()},[i]),l=Qk(function(){const e=mI({cancel:a,completed:i,getPhase:()=>t.current,setPhase:e=>{t.current=e}});n.current=_k(window,e,{capture:!0,passive:!1})},[a,i]),c=Qk(function(e,n){"IDLE"!==t.current.type&&Vk(),t.current={type:"PENDING",point:n,actions:e},l()},[l]);VC(function(){return s(),function(){n.current()}},[s])},function(e){const t=d.useRef(vI),n=Zk(()=>({eventName:"keydown",fn:function(n){if(n.defaultPrevented)return;if(32!==n.keyCode)return;const o=e.findClosestDraggableId(n);if(!o)return;const s=e.tryGetLock(o,l,{sourceEvent:n});if(!s)return;n.preventDefault();let i=!0;const a=s.snapLift();function l(){i||Vk(),i=!1,t.current(),r()}t.current(),t.current=_k(window,yI(a,l),{capture:!0,passive:!1})}}),[e]),r=Qk(function(){t.current=_k(window,[n],{passive:!1,capture:!0})},[n]);VC(function(){return r(),function(){t.current()}},[r])},function(e){const t=d.useRef(xI),n=d.useRef($k),r=Qk(function(){return t.current},[]),o=Qk(function(e){t.current=e},[]),s=Zk(()=>({eventName:"touchstart",fn:function(t){if(t.defaultPrevented)return;const r=e.findClosestDraggableId(t);if(!r)return;const o=e.tryGetLock(r,a,{sourceEvent:t});if(!o)return;const s=t.touches[0],{clientX:i,clientY:l}=s,c={x:i,y:l};n.current(),p(o,c)}}),[e]),i=Qk(function(){n.current=_k(window,[s],{capture:!0,passive:!1})},[s]),a=Qk(()=>{const e=t.current;"IDLE"!==e.type&&("PENDING"===e.type&&clearTimeout(e.longPressTimerId),o(xI),n.current(),i())},[i,o]),l=Qk(()=>{const e=t.current;a(),"DRAGGING"===e.type&&e.actions.cancel({shouldBlockNextClick:!0}),"PENDING"===e.type&&e.actions.abort()},[a]),c=Qk(function(){const e={capture:!0,passive:!1},t={cancel:l,completed:a,getPhase:r},o=_k(window,function({cancel:e,completed:t,getPhase:n}){return[{eventName:"touchmove",options:{capture:!1},fn:t=>{const r=n();if("DRAGGING"!==r.type)return void e();r.hasMoved=!0;const{clientX:o,clientY:s}=t.touches[0],i={x:o,y:s};t.preventDefault(),r.actions.move(i)}},{eventName:"touchend",fn:r=>{const o=n();"DRAGGING"===o.type?(r.preventDefault(),o.actions.drop({shouldBlockNextClick:!0}),t()):e()}},{eventName:"touchcancel",fn:t=>{"DRAGGING"===n().type?(t.preventDefault(),e()):e()}},{eventName:"touchforcechange",fn:t=>{const r=n();"IDLE"===r.type&&Vk();const o=t.touches[0];if(!o)return;if(!(o.force>=.15))return;const s=r.actions.shouldRespectForcePress();if("PENDING"!==r.type)return s?r.hasMoved?void t.preventDefault():void e():void t.preventDefault();s&&e()}},{eventName:gI,fn:e}]}(t),e),s=_k(window,function({cancel:e,getPhase:t}){return[{eventName:"orientationchange",fn:e},{eventName:"resize",fn:e},{eventName:"contextmenu",fn:e=>{e.preventDefault()}},{eventName:"keydown",fn:n=>{"DRAGGING"===t().type?(27===n.keyCode&&n.preventDefault(),e()):e()}},{eventName:gI,fn:e}]}(t),e);n.current=function(){o(),s()}},[l,r,a]),u=Qk(function(){const e=r();"PENDING"!==e.type&&Vk();const t=e.actions.fluidLift(e.point);o({type:"DRAGGING",actions:t,hasMoved:!1})},[r,o]),p=Qk(function(e,t){"IDLE"!==r().type&&Vk();const n=setTimeout(u,120);o({type:"PENDING",point:t,actions:e,longPressTimerId:n}),c()},[c,r,o,u]);VC(function(){return i(),function(){n.current();const e=r();"PENDING"===e.type&&(clearTimeout(e.longPressTimerId),o(xI))}},[r,i,o]),VC(function(){return _k(window,[{eventName:"touchmove",fn:()=>{},options:{capture:!1,passive:!1}}])},[])}];function DI({contextId:e,store:t,registry:n,customSensors:r,enableDefaultSensors:o}){const s=[...o?MI:[],...r||[]],i=d.useState(()=>function(){let e=null;function t(){e||Vk(),e=null}return{isClaimed:function(){return Boolean(e)},isActive:function(t){return t===e},claim:function(t){e&&Vk();const n={abandon:t};return e=n,n},release:t,tryAbandon:function(){e&&(e.abandon(),t())}}}())[0],a=Qk(function(e,t){sI(e)&&!sI(t)&&i.tryAbandon()},[i]);VC(function(){let e=t.getState();return t.subscribe(()=>{const n=t.getState();a(e,n),e=n})},[i,t,a]),VC(()=>i.tryAbandon,[i.tryAbandon]);const l=Qk(e=>OI({lockAPI:i,registry:n,store:t,draggableId:e}),[i,n,t]),c=Qk((r,o,s)=>TI({lockAPI:i,registry:n,contextId:e,store:t,draggableId:r,forceSensorStop:o||null,sourceEvent:s&&s.sourceEvent?s.sourceEvent:null}),[e,i,n,t]),u=Qk(t=>function(e,t){const n=RI(e,t);return n?n.getAttribute(FC.draggableId):null}(e,t),[e]),p=Qk(e=>{const t=n.draggable.findById(e);return t?t.options:null},[n.draggable]),f=Qk(function(){i.isClaimed()&&(i.tryAbandon(),"IDLE"!==t.getState().phase&&t.dispatch({type:"FLUSH",payload:null}))},[i,t]),g=Qk(()=>i.isClaimed(),[i]),h=Zk(()=>({canGetLock:l,tryGetLock:c,findClosestDraggableId:u,findOptionsForDraggable:p,tryReleaseLock:f,isLockClaimed:g}),[l,c,u,p,f,g]);for(let d=0;d<s.length;d++)s[d](h)}function AI(e){return e.current||Vk(),e.current}function LI(e){const{contextId:t,setCallbacks:n,sensors:r,nonce:o,dragHandleUsageInstructions:s}=e,i=d.useRef(null),a=oI(e),l=Qk(()=>(e=>({onBeforeCapture:t=>{c.flushSync(()=>{e.onBeforeCapture&&e.onBeforeCapture(t)})},onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragEnd:e.onDragEnd,onDragUpdate:e.onDragUpdate}))(a.current),[a]),p=Qk(()=>(e=>({...EC,...e.autoScrollerOptions,durationDampening:{...EC.durationDampening,...e.autoScrollerOptions}}))(a.current),[a]),f=function(e){const t=Zk(()=>(e=>`rfd-announcement-${e}`)(e),[e]),n=d.useRef(null);return d.useEffect(function(){const e=document.createElement("div");return n.current=e,e.id=t,e.setAttribute("aria-live","assertive"),e.setAttribute("aria-atomic","true"),ws(e.style,eI),QC().appendChild(e),function(){setTimeout(function(){const t=QC();t.contains(e)&&t.removeChild(e),e===n.current&&(n.current=null)})}},[t]),Qk(e=>{const t=n.current;t&&(t.textContent=e)},[])}(t),g=function({contextId:e,text:t}){const n=nI("hidden-text",{separator:"-"}),r=Zk(()=>function({contextId:e,uniqueId:t}){return`rfd-hidden-text-${e}-${t}`}({contextId:e,uniqueId:n}),[n,e]);return d.useEffect(function(){const e=document.createElement("div");return e.id=r,e.textContent=t,e.style.display="none",QC().appendChild(e),function(){const t=QC();t.contains(e)&&t.removeChild(e)}},[r,t]),r}({contextId:t,text:s}),h=GC(t,o),m=Qk(e=>{AI(i).dispatch(e)},[]),v=Zk(()=>Nw({publishWhileDragging:jS,updateDroppableScroll:NS,updateDroppableIsEnabled:PS,updateDroppableIsCombineEnabled:OS,collectionStarting:RS},m),[m]),b=function(){const e=Zk(JC,[]);return d.useEffect(()=>function(){e.clean()},[e]),e}(),y=Zk(()=>bC(b,v),[b,v]),x=Zk(()=>LC({scrollWindow:xC,scrollDroppable:y.scrollDroppable,getAutoScrollerOptions:p,...Nw({move:TS},m)}),[y.scrollDroppable,m,p]),w=XC(t),k=Zk(()=>pC({announce:f,autoScroller:x,dimensionMarshal:y,focusMarshal:w,getResponders:l,styleMarshal:h}),[f,x,y,w,l,h]);i.current=k;const E=Qk(()=>{const e=AI(i);"IDLE"!==e.getState().phase&&e.dispatch({type:"FLUSH",payload:null})},[]),S=Qk(()=>{const e=AI(i).getState();return"DROP_ANIMATING"===e.phase||"IDLE"!==e.phase&&e.isDragging},[]);n(Zk(()=>({isDragging:S,tryAbort:E}),[S,E]));const C=Qk(e=>yC(AI(i).getState(),e),[]),I=Qk(()=>aS(AI(i).getState()),[]),j=Zk(()=>({marshal:y,focus:w,contextId:t,canLift:C,isMovementAllowed:I,dragHandleUsageInstructionsId:g,registry:b}),[t,y,g,w,C,I,b]);return DI({contextId:t,store:k,registry:b,customSensors:r||null,enableDefaultSensors:!1!==e.enableDefaultSensors}),d.useEffect(()=>E,[E]),u.createElement(rI.Provider,{value:j},u.createElement(jk,{context:ZC,store:k},e.children))}function zI(e){const t=u.useId(),n=e.dragHandleUsageInstructions||Yk.dragHandleUsageInstructions;return u.createElement(Uk,null,r=>u.createElement(LI,{nonce:e.nonce,contextId:t,setCallbacks:r,dragHandleUsageInstructions:n,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd,autoScrollerOptions:e.autoScrollerOptions},e.children))}const FI=5e3,BI=4500,$I=(e,t)=>t?WS.drop(t.duration):e?WS.snap:WS.fluid,_I=(e,t)=>{if(e)return t?_S.drop:_S.combining};function HI(e){return"DRAGGING"===e.type?function(e){const t=e.dimension.client,{offset:n,combineWith:r,dropping:o}=e,s=Boolean(r),i=(e=>null!=e.forceShouldAnimate?e.forceShouldAnimate:"SNAP"===e.mode)(e),a=Boolean(o),l=a?KS(n,s):qS(n);return{position:"fixed",top:t.marginBox.top,left:t.marginBox.left,boxSizing:"border-box",width:t.borderBox.width,height:t.borderBox.height,transition:$I(i,o),transform:l,opacity:_I(s,a),zIndex:a?BI:FI,pointerEvents:"none"}}(e):{transform:qS((t=e).offset),transition:t.shouldAnimateDisplacement?void 0:"none"};var t}function VI(e){const t=nI("draggable"),{descriptor:n,registry:r,getDraggableRef:o,canDragInteractiveElements:s,shouldRespectForcePress:i,isEnabled:a}=e,l=Zk(()=>({canDragInteractiveElements:s,shouldRespectForcePress:i,isEnabled:a}),[s,a,i]),c=Qk(e=>{const t=o();return t||Vk(),function(e,t,n=eE){const r=window.getComputedStyle(t),o=t.getBoundingClientRect(),s=Lk(o,r),i=Ak(s,n);return{descriptor:e,placeholder:{client:s,tagName:t.tagName.toLowerCase(),display:r.display},displaceBy:{x:s.marginBox.width,y:s.marginBox.height},client:s,page:i}}(n,t,e)},[n,o]),u=Zk(()=>({uniqueId:t,descriptor:n,options:l,getDimension:c}),[n,c,l,t]),p=d.useRef(u),f=d.useRef(!0);VC(()=>(r.draggable.register(p.current),()=>r.draggable.unregister(p.current)),[r.draggable]),VC(()=>{if(f.current)return void(f.current=!1);const e=p.current;p.current=u,r.draggable.update(u,e)},[u,r.draggable])}var UI=u.createContext(null);function WI(e){const t=d.useContext(e);return t||Vk(),t}function GI(e){e.preventDefault()}var qI=(e,t)=>e===t,KI=e=>{const{combine:t,destination:n}=e;return n?n.droppableId:t?t.droppableId:null};function YI(e=null){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:e,combineWith:null}}const XI={mapped:{type:"SECONDARY",offset:eE,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:YI(null)}};const JI=Ik(()=>{const e=function(){const e=gE((e,t)=>({x:e,y:t})),t=gE((e,t,n=null,r=null,o=null)=>({isDragging:!0,isClone:t,isDropAnimating:Boolean(o),dropAnimation:o,mode:e,draggingOver:n,combineWith:r,combineTargetFor:null})),n=gE((e,n,r,o,s=null,i=null,a=null)=>({mapped:{type:"DRAGGING",dropping:null,draggingOver:s,combineWith:i,mode:n,offset:e,dimension:r,forceShouldAnimate:a,snapshot:t(n,o,s,i,null)}}));return(r,o)=>{if(sI(r)){if(r.critical.draggable.id!==o.draggableId)return null;const t=r.current.client.offset,i=r.dimensions.draggables[o.draggableId],a=sS(r.impact),l=(s=r.impact).at&&"COMBINE"===s.at.type?s.at.combine.draggableId:null,c=r.forceShouldAnimate;return n(e(t.x,t.y),r.movementMode,i,o.isClone,a,l,c)}var s;if("DROP_ANIMATING"===r.phase){const e=r.completed;if(e.result.draggableId!==o.draggableId)return null;const n=o.isClone,s=r.dimensions.draggables[o.draggableId],i=e.result,a=i.mode,l=KI(i),c=(e=>e.combine?e.combine.draggableId:null)(i),d={duration:r.dropDuration,curve:$S,moveTo:r.newHomeClientOffset,opacity:c?_S.drop:null,scale:c?HS.drop:null};return{mapped:{type:"DRAGGING",offset:r.newHomeClientOffset,dimension:s,dropping:d,draggingOver:l,combineWith:c,mode:a,forceShouldAnimate:null,snapshot:t(a,n,l,c,d)}}}return null}}(),t=function(){const e=gE((e,t)=>({x:e,y:t})),t=gE(YI),n=gE((e,n=null,r)=>({mapped:{type:"SECONDARY",offset:e,combineTargetFor:n,shouldAnimateDisplacement:r,snapshot:t(n)}})),r=e=>e?n(eE,e,!0):null,o=(t,o,s,i)=>{const a=s.displaced.visible[t],l=Boolean(i.inVirtualList&&i.effected[t]),c=wE(s),d=c&&c.draggableId===t?o:null;if(!a){if(!l)return r(d);if(s.displaced.invisible[t])return null;const o=oE(i.displacedBy.point),a=e(o.x,o.y);return n(a,d,!0)}if(l)return r(d);const u=s.displacedBy.point,p=e(u.x,u.y);return n(p,d,a.shouldAnimate)};return(e,t)=>{if(sI(e))return e.critical.draggable.id===t.draggableId?null:o(t.draggableId,e.critical.draggable.id,e.impact,e.afterCritical);if("DROP_ANIMATING"===e.phase){const n=e.completed;return n.result.draggableId===t.draggableId?null:o(t.draggableId,n.result.draggableId,n.impact,n.afterCritical)}return null}}();return(n,r)=>e(n,r)||t(n,r)||XI},{dropAnimationFinished:BS},null,{context:ZC,areStatePropsEqual:qI})(e=>{const t=d.useRef(null),n=Qk((e=null)=>{t.current=e},[]),r=Qk(()=>t.current,[]),{contextId:o,dragHandleUsageInstructionsId:s,registry:i}=WI(rI),{type:a,droppableId:l}=WI(UI),p=Zk(()=>({id:e.draggableId,index:e.index,type:a,droppableId:l}),[e.draggableId,e.index,a,l]),{children:f,draggableId:g,isEnabled:h,shouldRespectForcePress:m,canDragInteractiveElements:v,isClone:b,mapped:y,dropAnimationFinished:x}=e;if(!b){VI(Zk(()=>({descriptor:p,registry:i,getDraggableRef:r,canDragInteractiveElements:v,shouldRespectForcePress:m,isEnabled:h}),[p,i,r,v,m,h]))}const w=Zk(()=>h?{tabIndex:0,role:"button","aria-describedby":s,"data-rfd-drag-handle-draggable-id":g,"data-rfd-drag-handle-context-id":o,draggable:!1,onDragStart:GI}:null,[o,s,g,h]),k=Qk(e=>{"DRAGGING"===y.type&&y.dropping&&"transform"===e.propertyName&&c.flushSync(x)},[x,y]),E=Zk(()=>{const e=HI(y),t="DRAGGING"===y.type&&y.dropping?k:void 0;return{innerRef:n,draggableProps:{"data-rfd-draggable-context-id":o,"data-rfd-draggable-id":g,style:e,onTransitionEnd:t},dragHandleProps:w}},[o,w,g,y,k,n]),S=Zk(()=>({draggableId:p.id,type:p.type,source:{index:p.index,droppableId:p.droppableId}}),[p.droppableId,p.id,p.index,p.type]);return u.createElement(u.Fragment,null,f(E,y.snapshot,S))});function ZI(e){return WI(UI).isUsingCloneFor!==e.draggableId||e.isClone?u.createElement(JI,e):null}function QI(e){const t="boolean"!=typeof e.isDragDisabled||!e.isDragDisabled,n=Boolean(e.disableInteractiveElementBlocking),r=Boolean(e.shouldRespectForcePress);return u.createElement(ZI,ws({},e,{isClone:!1,isEnabled:t,canDragInteractiveElements:n,shouldRespectForcePress:r}))}const ej=e=>t=>e===t,tj=ej("scroll"),nj=ej("auto"),rj=(e,t)=>t(e.overflowX)||t(e.overflowY),oj=e=>null==e||e===document.body||e===document.documentElement?null:(e=>{const t=window.getComputedStyle(e),n={overflowX:t.overflowX,overflowY:t.overflowY};return rj(n,tj)||rj(n,nj)})(e)?e:oj(e.parentElement);var sj=e=>({x:e.scrollLeft,y:e.scrollTop});const ij=e=>{if(!e)return!1;return"fixed"===window.getComputedStyle(e).position||ij(e.parentElement)};var aj=({ref:e,descriptor:t,env:n,windowScroll:r,direction:o,isDropDisabled:s,isCombineEnabled:i,shouldClipSubject:a})=>{const l=n.closestScrollable,c=((e,t)=>{const n=zk(e);if(!t)return n;if(e!==t)return n;const r=n.paddingBox.top-t.scrollTop,o=n.paddingBox.left-t.scrollLeft,s=r+t.scrollHeight,i=o+t.scrollWidth,a=Nk({top:r,right:i,bottom:s,left:o},n.border);return Tk({borderBox:a,margin:n.margin,border:n.border,padding:n.padding})})(e,l),d=Ak(c,r),u=(()=>{if(!l)return null;const e=zk(l),t={scrollHeight:l.scrollHeight,scrollWidth:l.scrollWidth};return{client:e,page:Ak(e,r),scroll:sj(l),scrollSize:t,shouldClipSubject:a}})(),p=(({descriptor:e,isEnabled:t,isCombineEnabled:n,isFixedOnPage:r,direction:o,client:s,page:i,closest:a})=>{const l=(()=>{if(!a)return null;const{scrollSize:e,client:t}=a,n=fC({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,height:t.paddingBox.height,width:t.paddingBox.width});return{pageMarginBox:a.page.marginBox,frameClient:t,scrollSize:e,shouldClipSubject:a.shouldClipSubject,scroll:{initial:a.scroll,current:a.scroll,max:n,diff:{value:eE,displacement:eE}}}})(),c="vertical"===o?PE:OE;return{descriptor:e,isCombineEnabled:n,isFixedOnPage:r,axis:c,isEnabled:t,client:s,page:i,frame:l,subject:pE({page:i,withPlaceholder:null,axis:c,frame:l})}})({descriptor:t,isEnabled:!s,isCombineEnabled:i,isFixedOnPage:n.isFixedOnPage,direction:o,client:c,page:d,closest:u});return p};const lj={passive:!1},cj={passive:!0};var dj=e=>e.shouldPublishImmediately?lj:cj;const uj=e=>e&&e.env.closestScrollable||null;function pj(e){const t=d.useRef(null),n=WI(rI),r=nI("droppable"),{registry:o,marshal:s}=n,i=oI(e),a=Zk(()=>({id:e.droppableId,type:e.type,mode:e.mode}),[e.droppableId,e.mode,e.type]),l=d.useRef(a),c=Zk(()=>gE((e,n)=>{t.current||Vk();const r={x:e,y:n};s.updateDroppableScroll(a.id,r)}),[a.id,s]),u=Qk(()=>{const e=t.current;return e&&e.env.closestScrollable?sj(e.env.closestScrollable):eE},[]),p=Qk(()=>{const e=u();c(e.x,e.y)},[u,c]),f=Zk(()=>Fk(p),[p]),g=Qk(()=>{const e=t.current,n=uj(e);e&&n||Vk();e.scrollOptions.shouldPublishImmediately?p():f()},[f,p]),h=Qk((e,r)=>{t.current&&Vk();const o=i.current,s=o.getDroppableRef();s||Vk();const l={closestScrollable:oj(c=s),isFixedOnPage:ij(c)};var c;const d={ref:s,descriptor:a,env:l,scrollOptions:r};t.current=d;const u=aj({ref:s,descriptor:a,env:l,windowScroll:e,direction:o.direction,isDropDisabled:o.isDropDisabled,isCombineEnabled:o.isCombineEnabled,shouldClipSubject:!o.ignoreContainerClipping}),p=l.closestScrollable;return p&&(p.setAttribute(_C.contextId,n.contextId),p.addEventListener("scroll",g,dj(d.scrollOptions))),u},[n.contextId,a,g,i]),m=Qk(()=>{const e=t.current,n=uj(e);return e&&n||Vk(),sj(n)},[]),v=Qk(()=>{const e=t.current;e||Vk();const n=uj(e);t.current=null,n&&(f.cancel(),n.removeAttribute(_C.contextId),n.removeEventListener("scroll",g,dj(e.scrollOptions)))},[g,f]),b=Qk(e=>{const n=t.current;n||Vk();const r=uj(n);r||Vk(),r.scrollTop+=e.y,r.scrollLeft+=e.x},[]),y=Zk(()=>({getDimensionAndWatchScroll:h,getScrollWhileDragging:m,dragStopped:v,scroll:b}),[v,h,m,b]),x=Zk(()=>({uniqueId:r,descriptor:a,callbacks:y}),[y,a,r]);VC(()=>(l.current=x.descriptor,o.droppable.register(x),()=>{t.current&&v(),o.droppable.unregister(x)}),[y,a,v,x,s,o.droppable]),VC(()=>{t.current&&s.updateDroppableIsEnabled(l.current.id,!e.isDropDisabled)},[e.isDropDisabled,s]),VC(()=>{t.current&&s.updateDroppableIsCombineEnabled(l.current.id,e.isCombineEnabled)},[e.isCombineEnabled,s])}function fj(){}const gj={width:0,height:0,margin:{top:0,right:0,bottom:0,left:0}},hj=({isAnimatingOpenOnMount:e,placeholder:t,animate:n})=>{const r=(({isAnimatingOpenOnMount:e,placeholder:t,animate:n})=>e||"close"===n?gj:{height:t.client.borderBox.height,width:t.client.borderBox.width,margin:t.client.margin})({isAnimatingOpenOnMount:e,placeholder:t,animate:n});return{display:t.display,boxSizing:"border-box",width:r.width,height:r.height,marginTop:r.margin.top,marginRight:r.margin.right,marginBottom:r.margin.bottom,marginLeft:r.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:"none"!==n?WS.placeholder:null}};var mj=u.memo(e=>{const t=d.useRef(null),n=Qk(()=>{t.current&&(clearTimeout(t.current),t.current=null)},[]),{animate:r,onTransitionEnd:o,onClose:s,contextId:i}=e,[a,l]=d.useState("open"===e.animate);d.useEffect(()=>a?"open"!==r?(n(),l(!1),fj):t.current?fj:(t.current=setTimeout(()=>{t.current=null,l(!1)}),n):fj,[r,a,n]);const c=Qk(e=>{"height"===e.propertyName&&(o(),"close"===r&&s())},[r,s,o]),p=hj({isAnimatingOpenOnMount:a,animate:e.animate,placeholder:e.placeholder});return u.createElement(e.placeholder.tagName,{style:p,"data-rfd-placeholder-context-id":i,onTransitionEnd:c,ref:e.innerRef})});class vj extends u.PureComponent{constructor(...e){super(...e),this.state={isVisible:Boolean(this.props.on),data:this.props.on,animate:this.props.shouldAnimate&&this.props.on?"open":"none"},this.onClose=()=>{"close"===this.state.animate&&this.setState({isVisible:!1})}}static getDerivedStateFromProps(e,t){return e.shouldAnimate?e.on?{isVisible:!0,data:e.on,animate:"open"}:t.isVisible?{isVisible:!0,data:t.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:Boolean(e.on),data:e.on,animate:"none"}}render(){if(!this.state.isVisible)return null;const e={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(e)}}const bj={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:function(){return document.body||Vk(),document.body}},yj=e=>{let t,n={...e};for(t in bj)void 0===e[t]&&(n={...n,[t]:bj[t]});return n},xj=(e,t)=>e===t.droppable.type,wj=(e,t)=>t.draggables[e.draggable.id],kj=Ik(()=>{const e={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},t={...e,shouldAnimatePlaceholder:!1},n=gE(e=>({draggableId:e.id,type:e.type,source:{index:e.index,droppableId:e.droppableId}})),r=gE((r,o,s,i,a,l)=>{const c=a.descriptor.id;if(a.descriptor.droppableId===r){const e=l?{render:l,dragging:n(a.descriptor)}:null,t={isDraggingOver:s,draggingOverWith:s?c:null,draggingFromThisWith:c,isUsingPlaceholder:!0};return{placeholder:a.placeholder,shouldAnimatePlaceholder:!1,snapshot:t,useClone:e}}if(!o)return t;if(!i)return e;const d={isDraggingOver:s,draggingOverWith:c,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:a.placeholder,shouldAnimatePlaceholder:!0,snapshot:d,useClone:null}});return(n,o)=>{const s=yj(o),i=s.droppableId,a=s.type,l=!s.isDropDisabled,c=s.renderClone;if(sI(n)){const e=n.critical;if(!xj(a,e))return t;const o=wj(e,n.dimensions),s=sS(n.impact)===i;return r(i,l,s,s,o,c)}if("DROP_ANIMATING"===n.phase){const e=n.completed;if(!xj(a,e.critical))return t;const o=wj(e.critical,n.dimensions);return r(i,l,KI(e.result)===i,sS(e.impact)===i,o,c)}if("IDLE"===n.phase&&n.completed&&!n.shouldFlush){const r=n.completed;if(!xj(a,r.critical))return t;const o=sS(r.impact)===i,s=Boolean(r.impact.at&&"COMBINE"===r.impact.at.type),l=r.critical.droppable.id===i;return o?s?e:t:l?e:t}return t}},{updateViewportMaxScroll:e=>({type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:e})},(e,t,n)=>({...yj(n),...e,...t}),{context:ZC,areStatePropsEqual:qI})(e=>{const t=d.useContext(rI);t||Vk();const{contextId:n,isMovementAllowed:r}=t,o=d.useRef(null),s=d.useRef(null),{children:i,droppableId:a,type:l,mode:c,direction:f,ignoreContainerClipping:g,isDropDisabled:h,isCombineEnabled:m,snapshot:v,useClone:b,updateViewportMaxScroll:y,getContainerForClone:x}=e,w=Qk(()=>o.current,[]),k=Qk((e=null)=>{o.current=e},[]);Qk(()=>s.current,[]);const E=Qk((e=null)=>{s.current=e},[]),S=Qk(()=>{r()&&y({maxScroll:hC()})},[r,y]);pj({droppableId:a,type:l,mode:c,direction:f,isDropDisabled:h,isCombineEnabled:m,ignoreContainerClipping:g,getDroppableRef:w});const C=Zk(()=>u.createElement(vj,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder},({onClose:e,data:t,animate:r})=>u.createElement(mj,{placeholder:t,onClose:e,innerRef:E,animate:r,contextId:n,onTransitionEnd:S})),[n,S,e.placeholder,e.shouldAnimatePlaceholder,E]),I=Zk(()=>({innerRef:k,placeholder:C,droppableProps:{"data-rfd-droppable-id":a,"data-rfd-droppable-context-id":n}}),[n,a,C,k]),j=b?b.dragging.draggableId:null,R=Zk(()=>({droppableId:a,type:l,isUsingCloneFor:j}),[a,j,l]);return u.createElement(UI.Provider,{value:R},i(I,v),function(){if(!b)return null;const{dragging:e,render:t}=b,n=u.createElement(ZI,{draggableId:e.draggableId,index:e.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},(n,r)=>t(n,r,e));return p.createPortal(n,x())}())}),Ej={};function Sj(e,t){let n;try{n=e()}catch(r){return}return{getItem:e=>{var t;const r=e=>null===e?null:JSON.parse(e,void 0),o=null!=(t=n.getItem(e))?t:null;return o instanceof Promise?o.then(r):r(o)},setItem:(e,t)=>n.setItem(e,JSON.stringify(t,void 0)),removeItem:e=>n.removeItem(e)}}const Cj=e=>t=>{try{const n=e(t);return n instanceof Promise?n:{then:e=>Cj(e)(n),catch(e){return this}}}catch(n){return{then(e){return this},catch:e=>Cj(e)(n)}}},Ij=(e,t)=>"getStorage"in t||"serialize"in t||"deserialize"in t?("production"!==(Ej?"production":void 0)&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),((e,t)=>(n,r,o)=>{let s={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:e=>e,version:0,merge:(e,t)=>({...t,...e}),...t},i=!1;const a=new Set,l=new Set;let c;try{c=s.getStorage()}catch(m){}if(!c)return e((...e)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),n(...e)},r,o);const d=Cj(s.serialize),u=()=>{const e=s.partialize({...r()});let t;const n=d({state:e,version:s.version}).then(e=>c.setItem(s.name,e)).catch(e=>{t=e});if(t)throw t;return n},p=o.setState;o.setState=(e,t)=>{p(e,t),u()};const f=e((...e)=>{n(...e),u()},r,o);let g;const h=()=>{var e;if(!c)return;i=!1,a.forEach(e=>e(r()));const t=(null==(e=s.onRehydrateStorage)?void 0:e.call(s,r()))||void 0;return Cj(c.getItem.bind(c))(s.name).then(e=>{if(e)return s.deserialize(e)}).then(e=>{if(e){if("number"!=typeof e.version||e.version===s.version)return e.state;if(s.migrate)return s.migrate(e.state,e.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}}).then(e=>{var t;return g=s.merge(e,null!=(t=r())?t:f),n(g,!0),u()}).then(()=>{null==t||t(g,void 0),i=!0,l.forEach(e=>e(g))}).catch(e=>{null==t||t(void 0,e)})};return o.persist={setOptions:e=>{s={...s,...e},e.getStorage&&(c=e.getStorage())},clearStorage:()=>{null==c||c.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>h(),hasHydrated:()=>i,onHydrate:e=>(a.add(e),()=>{a.delete(e)}),onFinishHydration:e=>(l.add(e),()=>{l.delete(e)})},h(),g||f})(e,t)):((e,t)=>(n,r,o)=>{let s={storage:Sj(()=>localStorage),partialize:e=>e,version:0,merge:(e,t)=>({...t,...e}),...t},i=!1;const a=new Set,l=new Set;let c=s.storage;if(!c)return e((...e)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),n(...e)},r,o);const d=()=>{const e=s.partialize({...r()});return c.setItem(s.name,{state:e,version:s.version})},u=o.setState;o.setState=(e,t)=>{u(e,t),d()};const p=e((...e)=>{n(...e),d()},r,o);let f;o.getInitialState=()=>p;const g=()=>{var e,t;if(!c)return;i=!1,a.forEach(e=>{var t;return e(null!=(t=r())?t:p)});const o=(null==(t=s.onRehydrateStorage)?void 0:t.call(s,null!=(e=r())?e:p))||void 0;return Cj(c.getItem.bind(c))(s.name).then(e=>{if(e){if("number"!=typeof e.version||e.version===s.version)return[!1,e.state];if(s.migrate)return[!0,s.migrate(e.state,e.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}return[!1,void 0]}).then(e=>{var t;const[o,i]=e;if(f=s.merge(i,null!=(t=r())?t:p),n(f,!0),o)return d()}).then(()=>{null==o||o(f,void 0),f=r(),i=!0,l.forEach(e=>e(f))}).catch(e=>{null==o||o(void 0,e)})};return o.persist={setOptions:e=>{s={...s,...e},e.storage&&(c=e.storage)},clearStorage:()=>{null==c||c.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>g(),hasHydrated:()=>i,onHydrate:e=>(a.add(e),()=>{a.delete(e)}),onFinishHydration:e=>(l.add(e),()=>{l.delete(e)})},s.skipHydration||g(),f||p})(e,t),{slice:jj,forEach:Rj}=[];const Nj=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,Pj={create(e,t,n,r){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{path:"/",sameSite:"strict"};n&&(o.expires=new Date,o.expires.setTime(o.expires.getTime()+60*n*1e3)),r&&(o.domain=r),document.cookie=function(e,t){const n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{path:"/"};let r=`${e}=${encodeURIComponent(t)}`;if(n.maxAge>0){const e=n.maxAge-0;if(Number.isNaN(e))throw new Error("maxAge should be a Number");r+=`; Max-Age=${Math.floor(e)}`}if(n.domain){if(!Nj.test(n.domain))throw new TypeError("option domain is invalid");r+=`; Domain=${n.domain}`}if(n.path){if(!Nj.test(n.path))throw new TypeError("option path is invalid");r+=`; Path=${n.path}`}if(n.expires){if("function"!=typeof n.expires.toUTCString)throw new TypeError("option expires is invalid");r+=`; Expires=${n.expires.toUTCString()}`}if(n.httpOnly&&(r+="; HttpOnly"),n.secure&&(r+="; Secure"),n.sameSite)switch("string"==typeof n.sameSite?n.sameSite.toLowerCase():n.sameSite){case!0:r+="; SameSite=Strict";break;case"lax":r+="; SameSite=Lax";break;case"strict":r+="; SameSite=Strict";break;case"none":r+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return n.partitioned&&(r+="; Partitioned"),r}(e,t,o)},read(e){const t=`${e}=`,n=document.cookie.split(";");for(let r=0;r<n.length;r++){let e=n[r];for(;" "===e.charAt(0);)e=e.substring(1,e.length);if(0===e.indexOf(t))return e.substring(t.length,e.length)}return null},remove(e,t){this.create(e,"",-1,t)}};var Oj={name:"cookie",lookup(e){let{lookupCookie:t}=e;if(t&&"undefined"!=typeof document)return Pj.read(t)||void 0},cacheUserLanguage(e,t){let{lookupCookie:n,cookieMinutes:r,cookieDomain:o,cookieOptions:s}=t;n&&"undefined"!=typeof document&&Pj.create(n,e,r,o,s)}},Tj={name:"querystring",lookup(e){var t;let n,{lookupQuerystring:r}=e;if("undefined"!=typeof window){let{search:e}=window.location;!window.location.search&&(null==(t=window.location.hash)?void 0:t.indexOf("?"))>-1&&(e=window.location.hash.substring(window.location.hash.indexOf("?")));const o=e.substring(1).split("&");for(let t=0;t<o.length;t++){const e=o[t].indexOf("=");if(e>0){o[t].substring(0,e)===r&&(n=o[t].substring(e+1))}}}return n}},Mj={name:"hash",lookup(e){var t;let n,{lookupHash:r,lookupFromHashIndex:o}=e;if("undefined"!=typeof window){const{hash:e}=window.location;if(e&&e.length>2){const s=e.substring(1);if(r){const e=s.split("&");for(let t=0;t<e.length;t++){const o=e[t].indexOf("=");if(o>0){e[t].substring(0,o)===r&&(n=e[t].substring(o+1))}}}if(n)return n;if(!n&&o>-1){const n=e.match(/\/([a-zA-Z-]*)/g);if(!Array.isArray(n))return;return null==(t=n["number"==typeof o?o:0])?void 0:t.replace("/","")}}}return n}};let Dj=null;const Aj=()=>{if(null!==Dj)return Dj;try{if(Dj="undefined"!=typeof window&&null!==window.localStorage,!Dj)return!1;const e="i18next.translate.boo";window.localStorage.setItem(e,"foo"),window.localStorage.removeItem(e)}catch(e){Dj=!1}return Dj};var Lj={name:"localStorage",lookup(e){let{lookupLocalStorage:t}=e;if(t&&Aj())return window.localStorage.getItem(t)||void 0},cacheUserLanguage(e,t){let{lookupLocalStorage:n}=t;n&&Aj()&&window.localStorage.setItem(n,e)}};let zj=null;const Fj=()=>{if(null!==zj)return zj;try{if(zj="undefined"!=typeof window&&null!==window.sessionStorage,!zj)return!1;const e="i18next.translate.boo";window.sessionStorage.setItem(e,"foo"),window.sessionStorage.removeItem(e)}catch(e){zj=!1}return zj};var Bj={name:"sessionStorage",lookup(e){let{lookupSessionStorage:t}=e;if(t&&Fj())return window.sessionStorage.getItem(t)||void 0},cacheUserLanguage(e,t){let{lookupSessionStorage:n}=t;n&&Fj()&&window.sessionStorage.setItem(n,e)}},$j={name:"navigator",lookup(e){const t=[];if("undefined"!=typeof navigator){const{languages:e,userLanguage:n,language:r}=navigator;if(e)for(let o=0;o<e.length;o++)t.push(e[o]);n&&t.push(n),r&&t.push(r)}return t.length>0?t:void 0}},_j={name:"htmlTag",lookup(e){let t,{htmlTag:n}=e;const r=n||("undefined"!=typeof document?document.documentElement:null);return r&&"function"==typeof r.getAttribute&&(t=r.getAttribute("lang")),t}},Hj={name:"path",lookup(e){var t;let{lookupFromPathIndex:n}=e;if("undefined"==typeof window)return;const r=window.location.pathname.match(/\/([a-zA-Z-]*)/g);if(!Array.isArray(r))return;return null==(t=r["number"==typeof n?n:0])?void 0:t.replace("/","")}},Vj={name:"subdomain",lookup(e){var t,n;let{lookupFromSubdomainIndex:r}=e;const o="number"==typeof r?r+1:1,s="undefined"!=typeof window&&(null==(n=null==(t=window.location)?void 0:t.hostname)?void 0:n.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i));if(s)return s[o]}};let Uj=!1;try{document.cookie,Uj=!0}catch(wN){}const Wj=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];Uj||Wj.splice(1,1);class Gj{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(e,t)}init(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{languageUtils:{}},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.services=e,this.options=function(e){return Rj.call(jj.call(arguments,1),t=>{if(t)for(const n in t)void 0===e[n]&&(e[n]=t[n])}),e}(t,this.options||{},{order:Wj,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:e=>e}),"string"==typeof this.options.convertDetectedLanguage&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=e=>e.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=n,this.addDetector(Oj),this.addDetector(Tj),this.addDetector(Lj),this.addDetector(Bj),this.addDetector($j),this.addDetector(_j),this.addDetector(Hj),this.addDetector(Vj),this.addDetector(Mj)}addDetector(e){return this.detectors[e.name]=e,this}detect(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options.order,t=[];return e.forEach(e=>{if(this.detectors[e]){let n=this.detectors[e].lookup(this.options);n&&"string"==typeof n&&(n=[n]),n&&(t=t.concat(n))}}),t=t.filter(e=>{return null!=e&&!("string"==typeof(t=e)&&[/<\s*script.*?>/i,/<\s*\/\s*script\s*>/i,/<\s*img.*?on\w+\s*=/i,/<\s*\w+\s*on\w+\s*=.*?>/i,/javascript\s*:/i,/vbscript\s*:/i,/expression\s*\(/i,/eval\s*\(/i,/alert\s*\(/i,/document\.cookie/i,/document\.write\s*\(/i,/window\.location/i,/innerHTML/i].some(e=>e.test(t)));var t}).map(e=>this.options.convertDetectedLanguage(e)),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes?t:t.length>0?t[0]:null}cacheUserLanguage(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.options.caches;t&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(e)>-1||t.forEach(t=>{this.detectors[t]&&this.detectors[t].cacheUserLanguage(e,this.options)}))}}Gj.type="languageDetector";const qj={de:{common:{toolbar:{search:"Bilder oder Tags suchen...",home:"Startseite",sort:{name:"Name",date:"Datum",size:"Gre",rating:"Bewertung"},rating:"Bewertung",clearFilters:"Alle Filter zurcksetzen",resetFilter:"Filter zurcksetzen",rotate90Left:"90 links drehen",rotate90Right:"90 rechts drehen",rotate180:"180 drehen",flipHorizontal:"Horizontal spiegeln",flipVertical:"Vertikal spiegeln",selected:"ausgewhlt",file:"Datei",tag:"Tag",noSuggestions:"Keine Vorschlge gefunden"},sidebar:{openFile:"Datei ffnen",selectFolder:"Ordner auswhlen",recentFolders:"Zuletzt geffnet",favorites:"Favoriten",noFavorites:"Keine Favoriten",noRecentFolders:"Keine Ordner"},tagPanel:{title:"Tags",addTag:"Tag hinzufgen",noTags:"Keine Tags",folderTags:"Tags im Ordner",imageTags:"Bild-Tags",selectImage:"Bild auswhlen"},settings:{title:"Einstellungen",language:"Sprache",theme:"Design",themeLight:"Hell",themeDark:"Dunkel",performanceMode:"Leistungsmodus",performanceModeDesc:"Reduziert Glaseffekte"},common:{loading:"Laden...",error:"Fehler",save:"Speichern",cancel:"Abbrechen",delete:"Lschen",edit:"Bearbeiten",close:"Schlieen",parentFolder:"bergeordneter Ordner"},emptyState:{folderEmpty:"Ordner ist leer",noImages:"Dieser Ordner enthlt keine Unterordner oder untersttzten Bilddateien."},statusBar:{images:"Bilder",folders:"Ordner",selected:"ausgewhlt"},tagManager:{title:"Tag Manager",newCategory:"Neue Kategorie hinzufgen...",newSubcategory:"Neue Unterkategorie...",newTag:"Neuer Tag...",import:"Importieren",export:"Exportieren"},hero:{title:"Willkommen bei TagFusion",subtitle:"Organisiere deine Bildersammlung mit modernem Tagging, blitzschneller Suche und intuitiver Bedienung.",drives:"Gerte und Laufwerke",savedTags:"Gespeicherte Tags",imagesIndexed:"Bilder Indexiert",collections:"Sammlungen",popularTags:"Beliebte Tags",noTagsFound:"Keine Tags gefunden",freeOf:"frei von"}}},en:{common:{toolbar:{search:"Search images or tags...",home:"Home",sort:{name:"Name",date:"Date",size:"Size",rating:"Rating"},rating:"Rating",clearFilters:"Clear all filters",resetFilter:"Reset filter",rotate90Left:"Rotate 90 left",rotate90Right:"Rotate 90 right",rotate180:"Rotate 180",flipHorizontal:"Flip horizontal",flipVertical:"Flip vertical",selected:"selected",file:"File",tag:"Tag",noSuggestions:"No suggestions found"},sidebar:{openFile:"Open file",selectFolder:"Select folder",recentFolders:"Recent folders",favorites:"Favorites",noFavorites:"No favorites",noRecentFolders:"No folders"},tagPanel:{title:"Tags",addTag:"Add tag",noTags:"No tags",folderTags:"Folder tags",imageTags:"Image tags",selectImage:"Select image"},settings:{title:"Settings",language:"Language",theme:"Theme",themeLight:"Light",themeDark:"Dark",performanceMode:"Performance mode",performanceModeDesc:"Reduces glass effects"},common:{loading:"Loading...",error:"Error",save:"Save",cancel:"Cancel",delete:"Delete",edit:"Edit",close:"Close",parentFolder:"Parent folder"},emptyState:{folderEmpty:"Folder is empty",noImages:"This folder contains no subfolders or supported image files."},statusBar:{images:"images",folders:"folders",selected:"selected"},tagManager:{title:"Tag Manager",newCategory:"Add new category...",newSubcategory:"New subcategory...",newTag:"New tag...",import:"Import",export:"Export"},hero:{title:"Welcome to TagFusion",subtitle:"Organize your image collection with modern tagging, lightning-fast search, and intuitive controls.",drives:"Devices and Drives",savedTags:"Saved Tags",imagesIndexed:"Images Indexed",collections:"Collections",popularTags:"Popular Tags",noTagsFound:"No tags found",freeOf:"free of"}}}};Cm.use(Gj).use(zm).init({resources:qj,fallbackLng:"de",defaultNS:"common",ns:["common"],detection:{order:["localStorage","navigator"],caches:["localStorage"],lookupLocalStorage:"tagfusion-language"},interpolation:{escapeValue:!1},react:{useSuspense:!1}});const Kj=e=>{"dark"===e?(document.documentElement.classList.add("dark"),document.documentElement.classList.remove("light-mode")):(document.documentElement.classList.remove("dark"),document.documentElement.classList.add("light-mode"))},Yj=Pu()(Ij(e=>({performanceMode:!1,language:"de",theme:"dark",setPerformanceMode:t=>{e({performanceMode:t}),t?document.documentElement.classList.add("performance-mode"):document.documentElement.classList.remove("performance-mode")},togglePerformanceMode:()=>{e(e=>{const t=!e.performanceMode;return t?document.documentElement.classList.add("performance-mode"):document.documentElement.classList.remove("performance-mode"),{performanceMode:t}})},setLanguage:t=>{e({language:t}),Cm.changeLanguage(t)},setTheme:t=>{e({theme:t}),Kj(t)},toggleTheme:()=>{e(e=>{const t="dark"===e.theme?"light":"dark";return Kj(t),{theme:t}})}}),{name:"tagfusion-settings",onRehydrateStorage:()=>e=>{(null==e?void 0:e.performanceMode)&&document.documentElement.classList.add("performance-mode"),(null==e?void 0:e.theme)&&Kj(e.theme),(null==e?void 0:e.language)&&Cm.changeLanguage(e.language)}}));function Xj(){const{t:e}=Hm(),t=Yj(e=>e.theme),{categories:r,isModalOpen:o,closeModal:s,addCategory:i,renameCategory:a,deleteCategory:l,toggleCategoryExpand:c,addSubcategory:u,renameSubcategory:p,deleteSubcategory:f,addTag:g,removeTag:h,importLibrary:m,exportLibrary:v,reorderCategories:b,reorderSubcategories:y,reorderTags:x}=vv(),[w,k]=d.useState(null),[E,S]=d.useState(""),[C,I]=d.useState(""),[j,R]=d.useState(null),[N,P]=d.useState(null),O=d.useRef(null),T=(e,t)=>{k(e),S(t)},M=(e,t,n)=>{E.trim()&&("category"===e?a(t,E.trim()):n&&p(t,n,E.trim()),k(null),S(""))};return n.jsx(ww,{open:o,onOpenChange:e=>!e&&s(),children:n.jsxs(bw,{children:[n.jsx(dw,{className:"fixed inset-0 z-50 bg-black/60 backdrop-blur-sm transition-opacity data-[ending-style]:opacity-0 data-[starting-style]:opacity-0"}),n.jsxs(vw,{className:"fixed left-1/2 top-1/2 z-50 -translate-x-1/2 -translate-y-1/2 w-[800px] max-h-[80vh] rounded-2xl overflow-hidden flex flex-col transition-all data-[ending-style]:scale-95 data-[ending-style]:opacity-0 data-[starting-style]:scale-95 data-[starting-style]:opacity-0 glass-card",style:{background:"dark"===t?"linear-gradient(135deg, rgba(15, 23, 42, 0.95) 0%, rgba(30, 41, 59, 0.95) 100%)":"linear-gradient(135deg, rgba(248, 250, 252, 0.95) 0%, rgba(241, 245, 249, 0.95) 100%)",border:"dark"===t?"1px solid rgba(6, 182, 212, 0.20)":"1px solid rgba(8, 145, 178, 0.20)",boxShadow:"dark"===t?"0 25px 50px -12px rgba(0, 0, 0, 0.6), 0 0 0 1px rgba(6, 182, 212, 0.1)":"0 25px 50px -12px rgba(0, 0, 0, 0.1), 0 0 0 1px rgba(0, 0, 0, 0.05)"},children:[n.jsx("div",{className:"absolute inset-x-0 top-0 h-[1px] z-10",style:{background:"dark"===t?"linear-gradient(90deg, transparent 0%, rgba(255,255,255,0.25) 50%, transparent 100%)":"linear-gradient(90deg, transparent 0%, rgba(0,0,0,0.05) 50%, transparent 100%)"}}),n.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-cyan-500/20",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(eu,{className:"text-cyan-600 dark:text-cyan-400",size:24}),n.jsx(kw,{className:"text-xl font-semibold text-slate-900 dark:text-white",children:e("tagManager.title")})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("input",{type:"file",ref:O,accept:".json",onChange:t=>{var n;const r=null==(n=t.target.files)?void 0:n[0];if(!r)return;const o=new FileReader;o.onload=t=>{var n;const r=null==(n=t.target)?void 0:n.result;m(r)?alert(e("tagManager.importSuccess","Import successful!")):alert(e("tagManager.importFailed","Import failed!"))},o.readAsText(r),t.target.value=""},className:"hidden"}),n.jsxs(yv,{variant:"ghost",size:"sm",onClick:()=>{var e;return null==(e=O.current)?void 0:e.click()},children:[n.jsx(ru,{size:16})," ",e("tagManager.import")]}),n.jsxs(yv,{variant:"ghost",size:"sm",onClick:()=>{const e=v(),t=new Blob([e],{type:"application/json"}),n=URL.createObjectURL(t),r=document.createElement("a");r.href=n,r.download=`TagFusion_Tags_${(new Date).toISOString().slice(0,10)}.json`,r.click(),URL.revokeObjectURL(n)},children:[n.jsx(bd,{size:16})," ",e("tagManager.export")]}),n.jsx(uw,{className:"p-2 hover:bg-white/10 rounded-lg transition-colors",children:n.jsx(iu,{size:20,className:"text-slate-400"})})]})]}),n.jsxs("div",{className:"flex-1 overflow-y-auto p-4",children:[n.jsxs("div",{className:"flex gap-2 mb-4",children:[n.jsx(Mv,{value:C,onChange:e=>I(e.target.value),placeholder:e("tagManager.newCategory"),onKeyDown:e=>{"Enter"===e.key&&C.trim()&&(i(C.trim()),I(""))}}),n.jsx(yv,{variant:"primary",onClick:()=>{C.trim()&&(i(C.trim()),I(""))},children:n.jsx(jd,{size:18})})]}),n.jsx(zI,{onDragEnd:e=>{const{source:t,destination:n,type:r}=e;if(n&&(t.droppableId!==n.droppableId||t.index!==n.index))if("CATEGORY"===r)b(t.index,n.index);else if("SUBCATEGORY"===r){const e=t.droppableId.replace("subs-","");y(e,t.index,n.index)}else if("TAG"===r){const[e,r]=t.droppableId.replace("tags-","").split(":");x(e,r,t.index,n.index)}},children:n.jsx(kj,{droppableId:"categories-root",type:"CATEGORY",children:e=>n.jsxs("div",{...e.droppableProps,ref:e.innerRef,className:"space-y-2",children:[r.map((e,t)=>n.jsx(Jj,{category:e,index:t,isFirst:0===t,isLast:t===r.length-1,editingId:w,editValue:E,setEditValue:S,startEdit:T,confirmEdit:M,setEditingId:k,newSubName:j,setNewSubName:R,newTagInput:N,setNewTagInput:P,toggleCategoryExpand:c,deleteCategory:l,reorderCategories:b,addSubcategory:u,renameSubcategory:p,deleteSubcategory:f,reorderSubcategories:y,addTag:g,removeTag:h},e.id)),e.placeholder]})})})]})]})]})})}function Jj({category:e,index:t,isFirst:r,isLast:o,editingId:s,editValue:i,setEditValue:a,startEdit:l,confirmEdit:c,setEditingId:d,newSubName:u,setNewSubName:p,newTagInput:f,setNewTagInput:g,toggleCategoryExpand:h,deleteCategory:m,reorderCategories:v,addSubcategory:b,deleteSubcategory:y,reorderSubcategories:x,addTag:w,removeTag:k}){const{t:E}=Hm(),S=Yj(e=>e.theme);return n.jsx(QI,{draggableId:e.id,index:t,children:(C,I)=>n.jsxs("div",{ref:C.innerRef,...C.draggableProps,className:"rounded-xl overflow-hidden transition-shadow "+(I.isDragging?"shadow-2xl ring-2 ring-cyan-500/50":""),style:{...C.draggableProps.style,background:I.isDragging?"dark"===S?"rgba(30, 41, 59, 0.95)":"rgba(241, 245, 249, 0.95)":"dark"===S?"rgba(255,255,255,0.03)":"rgba(0,0,0,0.03)"},children:[n.jsxs("div",{className:"flex items-center gap-2 p-3 hover:bg-black/5 dark:hover:bg-white/5 group",children:[n.jsx("div",{...C.dragHandleProps,className:"p-1 cursor-grab active:cursor-grabbing text-slate-500 hover:text-cyan-600 dark:hover:text-cyan-400 opacity-0 group-hover:opacity-100 transition-opacity",children:n.jsx(Pd,{size:16})}),n.jsx("button",{onClick:()=>h(e.id),className:"p-1",children:e.isExpanded?n.jsx(ud,{size:16,className:"text-cyan-600 dark:text-cyan-400"}):n.jsx(fd,{size:16,className:"text-slate-500 dark:text-slate-400"})}),s===e.id?n.jsxs("div",{className:"flex-1 flex gap-2",children:[n.jsx("input",{autoFocus:!0,value:i,onChange:e=>a(e.target.value),onKeyDown:t=>"Enter"===t.key&&c("category",e.id),className:"flex-1 bg-slate-100 dark:bg-slate-800 px-2 py-1 rounded text-sm text-slate-900 dark:text-white border border-cyan-500/30"}),n.jsx("button",{onClick:()=>c("category",e.id),className:"text-green-400",children:n.jsx(dd,{size:16})}),n.jsx("button",{onClick:()=>d(null),className:"text-slate-400",children:n.jsx(iu,{size:16})})]}):n.jsxs(n.Fragment,{children:[n.jsx("span",{className:"flex-1 font-medium text-slate-900 dark:text-white",children:e.name}),n.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[n.jsx("button",{disabled:r,onClick:()=>v(t,t-1),className:"p-1 "+(r?"text-slate-300 dark:text-slate-700":"text-slate-500 hover:text-slate-800 dark:hover:text-white"),children:n.jsx(id,{size:14})}),n.jsx("button",{disabled:o,onClick:()=>v(t,t+1),className:"p-1 "+(o?"text-slate-300 dark:text-slate-700":"text-slate-500 hover:text-slate-800 dark:hover:text-white"),children:n.jsx(od,{size:14})})]}),n.jsx("button",{onClick:()=>l(e.id,e.name),className:"p-1 opacity-40 hover:opacity-100 text-slate-700 dark:text-slate-200",children:n.jsx(Hd,{size:14})}),n.jsx("button",{onClick:()=>p({catId:e.id,value:""}),className:"p-1 opacity-40 hover:opacity-100 text-cyan-600 dark:text-cyan-400",children:n.jsx(xd,{size:14})}),n.jsx("button",{onClick:()=>m(e.id),className:"p-1 opacity-40 hover:opacity-100 text-red-500",children:n.jsx(nu,{size:14})})]})]}),e.isExpanded&&n.jsx(kj,{droppableId:`subs-${e.id}`,type:"SUBCATEGORY",children:t=>n.jsxs("div",{...t.droppableProps,ref:t.innerRef,className:"pl-6 pb-2 min-h-[32px]",children:[u&&u.catId===e.id&&n.jsx("div",{className:"flex gap-2 p-2",children:n.jsx("input",{autoFocus:!0,value:u.value,onChange:e=>p({catId:u.catId,value:e.target.value}),onKeyDown:t=>{"Enter"===t.key&&u.value.trim()?(b(e.id,u.value.trim()),p(null)):"Escape"===t.key&&p(null)},placeholder:E("tagManager.newSubcategory"),className:"flex-1 bg-slate-100 dark:bg-slate-800 px-2 py-1 rounded text-sm text-slate-900 dark:text-white border border-cyan-500/30"})}),e.subcategories.map((t,r)=>n.jsx(Zj,{sub:t,index:r,isFirst:0===r,isLast:r===e.subcategories.length-1,catId:e.id,editingId:s,editValue:i,setEditValue:a,startEdit:l,confirmEdit:c,setEditingId:d,newTagInput:f,setNewTagInput:g,deleteSubcategory:y,reorderSubcategories:x,addTag:w,removeTag:k},t.id)),t.placeholder]})})]})})}function Zj({sub:e,index:t,isFirst:r,isLast:o,catId:s,editingId:i,editValue:a,setEditValue:l,startEdit:c,confirmEdit:d,setEditingId:u,newTagInput:p,setNewTagInput:f,deleteSubcategory:g,reorderSubcategories:h,addTag:m,removeTag:v}){const{t:b}=Hm(),y=Yj(e=>e.theme);return n.jsx(QI,{draggableId:e.id,index:t,children:(x,w)=>n.jsxs("div",{ref:x.innerRef,...x.draggableProps,className:"mb-2 rounded-lg transition-colors "+(w.isDragging?"bg-cyan-500/10 ring-1 ring-cyan-500/30":""),children:[n.jsxs("div",{className:"flex items-center gap-2 p-2 group",children:[n.jsx("div",{...x.dragHandleProps,className:"p-1 cursor-grab active:cursor-grabbing text-slate-500 dark:text-slate-600 hover:text-cyan-600 dark:hover:text-cyan-400 opacity-0 group-hover:opacity-100 transition-opacity",children:n.jsx(Pd,{size:14})}),i===e.id?n.jsxs("div",{className:"flex-1 flex gap-2",children:[n.jsx("input",{autoFocus:!0,value:a,onChange:e=>l(e.target.value),onKeyDown:t=>"Enter"===t.key&&d("subcategory",s,e.id),className:"flex-1 bg-slate-100 dark:bg-slate-800 px-2 py-1 rounded text-sm text-slate-900 dark:text-white border border-cyan-500/30"}),n.jsx("button",{onClick:()=>d("subcategory",s,e.id),className:"text-green-600 dark:text-green-400",children:n.jsx(dd,{size:16})}),n.jsx("button",{onClick:()=>u(null),className:"text-slate-500 dark:text-slate-400",children:n.jsx(iu,{size:16})})]}):n.jsxs(n.Fragment,{children:[n.jsx("span",{className:"flex-1 text-sm text-slate-700 dark:text-slate-300",children:e.name}),n.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[n.jsx("button",{disabled:r,onClick:()=>h(s,t,t-1),className:"p-1 "+(r?"text-slate-300 dark:text-slate-800":"text-slate-500 hover:text-slate-800 dark:hover:text-white"),children:n.jsx(id,{size:12})}),n.jsx("button",{disabled:o,onClick:()=>h(s,t,t+1),className:"p-1 "+(o?"text-slate-300 dark:text-slate-800":"text-slate-500 hover:text-white"),children:n.jsx(od,{size:12})})]}),n.jsx("button",{onClick:()=>c(e.id,e.name),className:"p-1 opacity-40 hover:opacity-100 text-slate-700 dark:text-slate-200",children:n.jsx(Hd,{size:12})}),n.jsx("button",{onClick:()=>f({catId:s,subId:e.id,value:""}),className:"p-1 opacity-40 hover:opacity-100 text-cyan-600 dark:text-cyan-400",children:n.jsx(Vd,{size:12})}),n.jsx("button",{onClick:()=>g(s,e.id),className:"p-1 opacity-40 hover:opacity-100 text-red-500",children:n.jsx(nu,{size:12})})]})]}),(null==p?void 0:p.catId)===s&&(null==p?void 0:p.subId)===e.id&&n.jsx("div",{className:"flex gap-2 px-8 py-1",children:n.jsx("input",{autoFocus:!0,value:p.value,onChange:e=>f({...p,value:e.target.value}),onKeyDown:t=>{"Enter"===t.key&&p.value.trim()?(m(s,e.id,p.value.trim()),f({...p,value:""})):"Escape"===t.key&&f(null)},placeholder:b("tagManager.newTag"),className:"flex-1 bg-slate-100 dark:bg-slate-800 px-2 py-1 rounded text-xs text-slate-900 dark:text-white border border-cyan-500/20 shadow-inner"})}),n.jsx(kj,{droppableId:`tags-${s}:${e.id}`,type:"TAG",direction:"horizontal",children:t=>n.jsxs("div",{...t.droppableProps,ref:t.innerRef,className:"flex flex-wrap gap-1 px-8 min-h-[24px]",children:[e.tags.map((t,r)=>n.jsx(QI,{draggableId:`${e.id}-${t}`,index:r,children:(r,o)=>n.jsxs("span",{ref:r.innerRef,...r.draggableProps,...r.dragHandleProps,className:"inline-flex items-center gap-1 px-2 py-0.5 rounded-full text-xs font-medium text-slate-700 dark:text-slate-200 group transition-all "+(o.isDragging?"scale-110 shadow-lg ring-1 ring-cyan-400":""),style:{...r.draggableProps.style,background:o.isDragging?"dark"===y?"rgba(6, 182, 212, 0.4)":"rgba(8, 145, 178, 0.4)":"dark"===y?"linear-gradient(135deg, rgba(6, 182, 212, 0.15) 0%, rgba(6, 182, 212, 0.05) 100%)":"linear-gradient(135deg, rgba(8, 145, 178, 0.1) 0%, rgba(8, 145, 178, 0.05) 100%)",border:"dark"===y?"1px solid rgba(6, 182, 212, 0.25)":"1px solid rgba(8, 145, 178, 0.25)"},children:[t,n.jsx("button",{onClick:()=>v(s,e.id,t),className:"opacity-40 group-hover:opacity-100 text-red-600 dark:text-red-400 transition-opacity hover:text-red-500",children:n.jsx(iu,{size:10})})]})},`${e.id}-${t}`)),t.placeholder]})})]})})}function Qj({onTagClick:e,searchQuery:t=""}){const{categories:r}=vv(),{selectedImages:o,images:s,updateImageTags:i}=zu(),a=d.useMemo(()=>{const e=s.filter(e=>o.has(e.path));return new Set(e.flatMap(e=>e.tags))},[s,o]),l=d.useMemo(()=>{if(!t.trim())return r;const e=t.toLowerCase();return r.map(t=>({...t,subcategories:t.subcategories.map(t=>({...t,tags:t.tags.filter(t=>t.toLowerCase().includes(e))})).filter(e=>e.tags.length>0)})).filter(e=>e.subcategories.length>0)},[r,t]);return 0===l.length?n.jsxs("div",{className:"text-center py-4 text-slate-500",children:[n.jsx(Rd,{size:20,className:"mx-auto mb-2 opacity-50"}),n.jsx("p",{className:"text-xs",children:t?"Keine Tags gefunden":"Keine Tag-Bibliothek"})]}):n.jsx("div",{className:"space-y-2",children:l.map(t=>n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-1.5 px-2 py-1 text-sm text-cyan-400 font-medium",children:[n.jsx("span",{children:t.name}),n.jsx("span",{className:"text-xs text-slate-500 ml-auto",children:t.subcategories.reduce((e,t)=>e+t.tags.length,0)})]}),n.jsx("div",{className:"pl-2 space-y-1",children:t.subcategories.map(t=>n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-1.5 px-2 py-0.5 text-xs text-slate-400",children:[n.jsx("span",{children:t.name}),n.jsx("span",{className:"text-slate-500 ml-auto",children:t.tags.length})]}),t.tags.length>0&&n.jsx("div",{className:"pl-3 py-1 flex flex-wrap gap-1.5",children:t.tags.map(t=>{const r=o.size>0&&a.has(t);return n.jsxs("div",{className:"inline-flex items-center gap-0.5 rounded-full text-xs cursor-pointer hover:scale-105 transition-transform",style:{background:r?"linear-gradient(135deg, rgba(6, 182, 212, 0.4) 0%, rgba(6, 182, 212, 0.2) 100%)":"linear-gradient(135deg, rgba(6, 182, 212, 0.15) 0%, rgba(6, 182, 212, 0.05) 100%)",border:r?"1px solid rgba(6, 182, 212, 0.6)":"1px solid rgba(6, 182, 212, 0.25)"},children:[n.jsx("button",{onClick:()=>(async t=>{if(e)e(t);else if(0!==o.size)for(const e of o){const n=s.find(t=>t.path===e);n&&!n.tags.includes(t)&&await i(e,[...n.tags,t])}})(t),className:"px-2 py-0.5 "+(r?"text-cyan-300":"text-slate-200"),title:o.size>0?`"${t}" zu ${o.size} Bild(ern) hinzufgen`:t,children:t}),r&&n.jsx("button",{onClick:e=>(async(e,t)=>{if(t.stopPropagation(),0!==o.size)for(const n of o){const t=s.find(e=>e.path===n);t&&t.tags.includes(e)&&await i(n,t.tags.filter(t=>t!==e))}})(t,e),className:"pr-1.5 pl-0.5 py-0.5 text-cyan-400 hover:text-red-400 transition-colors",title:`"${t}" von ${o.size} Bild(ern) entfernen`,children:n.jsx(iu,{size:12})})]},t)})})]},t.id))})]},t.id))})}function eR(){const{t:e}=Hm(),{images:t,tagPanelWidth:r,setTagPanelWidth:o,filterTags:s,setFilterTags:a}=zu(),{openModal:c,categories:u}=vv(),[p,f]=d.useState(!1),[g,h]=d.useState(""),m=d.useRef(null),[v,b]=d.useState(()=>"true"===localStorage.getItem("tagfusion-folder-tags-collapsed"));d.useEffect(()=>{localStorage.setItem("tagfusion-folder-tags-collapsed",String(v))},[v]);const y=d.useCallback(e=>{e.preventDefault(),f(!0);const t=e.clientX,n=r,s=e=>{const r=t-e.clientX,s=Math.min(600,Math.max(200,n+r));o(s)},i=()=>{f(!1),document.removeEventListener("mousemove",s),document.removeEventListener("mouseup",i)};document.addEventListener("mousemove",s),document.addEventListener("mouseup",i)},[r,o]),x=d.useMemo(()=>{const e=new Map;return t.forEach(t=>{var n;null==(n=t.tags)||n.forEach(t=>{e.set(t,(e.get(t)||0)+1)})}),Array.from(e.entries()).map(([e,t])=>({name:e,count:t})).sort((e,t)=>t.count-e.count)},[t]);return n.jsxs("aside",{ref:m,className:"h-full flex flex-col glass-tagpanel relative",style:{width:r},"data-testid":"tag-panel",children:[n.jsx("div",{onMouseDown:y,className:"absolute left-0 top-0 bottom-0 w-1 cursor-ew-resize group hover:bg-cyan-500/30 transition-colors z-10 "+(p?"bg-cyan-500/50":""),children:n.jsx("div",{className:"absolute left-0 top-1/2 -translate-y-1/2 -translate-x-1/2 opacity-0 group-hover:opacity-100 transition-opacity",children:n.jsx(Pd,{size:12,className:"text-cyan-400"})})}),n.jsxs(Hc,{className:"flex-1 overflow-hidden",children:[n.jsxs(Yc,{className:"h-full w-full p-4 space-y-4",children:[n.jsxs("div",{className:"glass-section p-3",children:[n.jsx("div",{className:"absolute inset-x-0 top-0 h-[1px] glass-specular"}),n.jsxs("button",{onClick:()=>b(!v),className:"flex items-center gap-2 w-full text-left cursor-pointer group "+(v?"":"mb-3"),children:[n.jsx(Id,{size:14,className:"text-cyan-400"}),n.jsx("h4",{className:"text-xs font-semibold text-cyan-400 uppercase tracking-wider",children:e("tagPanel.folderTags")}),n.jsxs("span",{className:"text-xs text-[var(--color-text-muted)]",children:["(",n.jsx(tw,{value:x.length,className:"text-cyan-400"}),")"]}),n.jsx(ud,{size:14,className:"text-cyan-400 ml-auto transition-transform duration-200 "+(v?"-rotate-90":"")})]}),n.jsx(i,{initial:!1,children:!v&&n.jsx(l.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.2,ease:"easeInOut"},className:"overflow-hidden",children:0===x.length?n.jsxs("div",{className:"text-center py-6 text-[var(--color-text-muted)]",children:[n.jsx(eu,{size:24,className:"mx-auto mb-2 opacity-50"}),n.jsx("p",{className:"text-sm",children:e("tagPanel.noTags")})]}):n.jsx("div",{className:"flex flex-wrap gap-2",children:x.map(({name:e,count:t},r)=>{const o=s.includes(e);return n.jsx(Mh,{active:o,count:t,variant:"cyan",delay:r,onClick:()=>{a(o?s.filter(t=>t!==e):[...s,e])},removable:!1,children:e},e)})})})})]}),n.jsxs("div",{className:"glass-section p-3",children:[n.jsx("div",{className:"absolute inset-x-0 top-0 h-[1px] glass-specular"}),n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Rd,{size:14,className:"text-cyan-400"}),n.jsx("h4",{className:"text-xs font-semibold text-cyan-400 uppercase tracking-wider",children:e("tagPanel.title")})]}),n.jsx(ep,{onClick:c,title:e("common.edit"),size:"xs",variant:"ghost",children:n.jsx(Xd,{size:14})})]}),n.jsx(op,{leftIcon:n.jsx(Yd,{size:14}),value:g,onChange:e=>h(e.target.value),placeholder:e("tagPanel.addTag"),className:"mb-3"}),u.length>0?n.jsx(Qj,{searchQuery:g}):n.jsx("p",{className:"text-xs text-[var(--color-text-muted)] text-center py-2",children:e("tagPanel.selectImage")})]})]}),n.jsx(Zc,{orientation:"vertical",className:"w-2 p-0.5 flex touch-none select-none transition-colors bg-transparent hover:bg-white/5",children:n.jsx(Qc,{className:"flex-1 rounded-full bg-cyan-500/30 hover:bg-cyan-500/50 transition-colors"})})]})]})}const tR=d.createContext(void 0),nR=d.createContext(void 0),rR=d.createContext(void 0),oR=d.createContext("");function sR(){const e=d.useContext(tR);if(!e)throw new Error($s(22));return e}function iR(){const e=d.useContext(nR);if(!e)throw new Error($s(23));return e}function aR(){const e=d.useContext(rR);if(!e)throw new Error($s(24));return e}function lR(){return d.useContext(oR)}const cR=(e,t)=>Object.is(e,t);function dR(e,t,n){return null==e||null==t?Object.is(e,t):n(e,t)}function uR(e,t,n){return!(!e||0===e.length)&&e.some(e=>void 0!==e&&dR(e,t,n))}function pR(e,t,n){return e&&0!==e.length?e.findIndex(e=>void 0!==e&&dR(e,t,n)):-1}const fR={id:tg(e=>e.id),query:tg(e=>e.query),items:tg(e=>e.items),selectedValue:tg(e=>e.selectedValue),open:tg(e=>e.open),mounted:tg(e=>e.mounted),forceMounted:tg(e=>e.forceMounted),inline:tg(e=>e.inline),activeIndex:tg(e=>e.activeIndex),selectedIndex:tg(e=>e.selectedIndex),isActive:tg((e,t)=>e.activeIndex===t),isSelected:tg((e,t)=>{const n=e.isItemEqualToValue,r=e.selectedValue;return Array.isArray(r)?r.some(e=>dR(e,t,n)):dR(r,t,n)}),transitionStatus:tg(e=>e.transitionStatus),popupProps:tg(e=>e.popupProps),inputProps:tg(e=>e.inputProps),triggerProps:tg(e=>e.triggerProps),getItemProps:tg(e=>e.getItemProps),positionerElement:tg(e=>e.positionerElement),listElement:tg(e=>e.listElement),triggerElement:tg(e=>e.triggerElement),inputElement:tg(e=>e.inputElement),popupSide:tg(e=>e.popupSide),openMethod:tg(e=>e.openMethod),inputInsidePopup:tg(e=>e.inputInsidePopup),selectionMode:tg(e=>e.selectionMode),listRef:tg(e=>e.listRef),labelsRef:tg(e=>e.labelsRef),popupRef:tg(e=>e.popupRef),emptyRef:tg(e=>e.emptyRef),inputRef:tg(e=>e.inputRef),keyboardActiveRef:tg(e=>e.keyboardActiveRef),chipsContainerRef:tg(e=>e.chipsContainerRef),clearRef:tg(e=>e.clearRef),valuesRef:tg(e=>e.valuesRef),allValuesRef:tg(e=>e.allValuesRef),name:tg(e=>e.name),disabled:tg(e=>e.disabled),readOnly:tg(e=>e.readOnly),required:tg(e=>e.required),grid:tg(e=>e.grid),isGrouped:tg(e=>e.isGrouped),virtualized:tg(e=>e.virtualized),onOpenChangeComplete:tg(e=>e.onOpenChangeComplete),openOnInputClick:tg(e=>e.openOnInputClick),itemToStringLabel:tg(e=>e.itemToStringLabel),isItemEqualToValue:tg(e=>e.isItemEqualToValue),modal:tg(e=>e.modal),autoHighlight:tg(e=>e.autoHighlight),submitOnItemClick:tg(e=>e.submitOnItemClick)};function gR(e){if(null==e)return"";if("string"==typeof e)return e;try{return JSON.stringify(e)}catch{return String(e)}}function hR(e,t){if(t&&null!=e)return t(e)??"";if(e&&"object"==typeof e){if("label"in e&&null!=e.label)return String(e.label);if("value"in e)return String(e.value)}return gR(e)}function mR(e,t){return t&&null!=e?t(e)??"":gR(e&&"object"==typeof e&&"value"in e&&"label"in e?e.value:e)}const vR=new Map;function bR(e){return Array.isArray(e)?e.map(e=>bR(e)).join(","):null==e?"":String(e)}const yR=function(e={}){const t={usage:"search",sensitivity:"base",ignorePunctuation:!0,...e},n=`${bR(e.locale)}|${JSON.stringify(t)}`,r=vR.get(n);if(r)return r;const o=new Intl.Collator(e.locale,t),s={contains(e,t,n){if(!t)return!0;const r=hR(e,n);for(let s=0;s<=r.length-t.length;s+=1)if(0===o.compare(r.slice(s,s+t.length),t))return!0;return!1},startsWith(e,t,n){if(!t)return!0;const r=hR(e,n);return 0===o.compare(r.slice(0,t.length),t)},endsWith(e,t,n){if(!t)return!0;const r=hR(e,n),s=t.length;return r.length>=s&&0===o.compare(r.slice(r.length-s),t)}};return vR.set(n,s),s};function xR(e,t){const n=d.useRef(e),r=zs(t);fi(()=>{n.current!==e&&r(n.current)},[e,r]),fi(()=>{n.current=e},[e])}const wR=Symbol("none"),kR={value:wR,index:-1};function ER(e){const{id:t,onOpenChangeComplete:r,defaultSelectedValue:o=null,selectedValue:s,onSelectedValueChange:i,defaultInputValue:a,inputValue:l,selectionMode:c="none",onItemHighlighted:u,name:p,disabled:f=!1,readOnly:g=!1,required:h=!1,inputRef:m,grid:v=!1,items:b,filteredItems:y,filter:x,openOnInputClick:w=!0,autoHighlight:k=!1,keepHighlight:E=!1,highlightItemOnHover:S=!0,itemToStringLabel:C,itemToStringValue:I,isItemEqualToValue:j=cR,virtualized:R=!1,inline:N=!1,fillInputOnItemPress:P=!0,modal:O=!1,limit:T=-1,autoComplete:M="list",locale:D,submitOnItemClick:A=!1}=e,{clearErrors:L}=Cv(),{setDirty:z,validityData:F,shouldValidateOnChange:B,setFilled:$,name:_,disabled:H,validation:V}=Ev(),U=Nv({id:t}),W=yR({locale:D}),[G,q]=d.useState(!1),[K,Y]=d.useState(null),X=d.useRef([]),J=d.useRef([]),Z=d.useRef(null),Q=d.useRef(null),ee=d.useRef(null),te=d.useRef(!0),ne=d.useRef(!1),re=d.useRef(null),oe=d.useRef(null),se=d.useRef(null),ie=d.useRef(kR),ae=d.useRef(null),le=d.useRef([]),ce=d.useRef([]),de=H||f,ue=_??p,pe="multiple"===c,fe="single"===c,ge=void 0!==l||void 0!==a,he=void 0!==b,me=void 0!==y;let ve;ve="always"===k?"always":!!k&&"input-change";const[be,ye]=pi({controlled:s,default:pe?o??oi:o,name:"Combobox",state:"selectedValue"}),xe=d.useMemo(()=>null===x?()=>!0:void 0!==x?x:fe&&!G?function(e,t,n){return(r,o)=>{if(null==r)return!1;if(!o)return!0;const s=hR(r,t),i=null!=n?hR(n,t):"";return!(!i||!e.contains(i,o)||i.length!==o.length)||e.contains(s,o)}}(W,C,be):function(e,t){return(n,r)=>{if(null==n)return!1;const o=hR(n,t);return e.contains(o,r)}}(W,C),[x,fe,be,G,W,C]),we=Ds(()=>ge?a??"":fe?hR(be,C):"").current,[ke,Ee]=pi({controlled:l,default:we,name:"Combobox",state:"inputValue"}),[Se,Ce]=pi({controlled:e.open,default:e.defaultOpen,name:"Combobox",state:"open"}),Ie=function(e){return null!=e&&e.length>0&&"object"==typeof e[0]&&null!=e[0]&&"items"in e[0]}(b),je=K??(""===ke?"":String(ke).trim()),Re=fe?hR(be,C):"",Ne=fe&&!G&&""!==je&&""!==Re&&Re.length===je.length&&W.contains(Re,je),Pe=Ne?"":je,Oe=he&&me&&Ne,Te=d.useMemo(()=>b?Ie?b.flatMap(e=>e.items):b:oi,[b,Ie]),Me=d.useMemo(()=>{if(y&&!Oe)return y;if(!b)return oi;if(Ie){const e=b,t=[];let n=0;for(const r of e){if(T>-1&&n>=T)break;const e=""===Pe?r.items:r.items.filter(e=>xe(e,Pe,C));if(0===e.length)continue;const o=T>-1?T-n:1/0,s=e.slice(0,o);if(s.length>0){const e={...r,items:s};t.push(e),n+=s.length}}return t}if(""===Pe)return T>-1?Te.slice(0,T):Te;const e=[];for(const t of Te){if(T>-1&&e.length>=T)break;xe(t,Pe,C)&&e.push(t)}return e},[y,Oe,b,Ie,Pe,T,xe,C,Te]),De=d.useMemo(()=>{if(Ie){return Me.flatMap(e=>e.items)}return Me},[Me,Ie]),Ae=Ds(()=>new og({id:U,selectedValue:be,open:Se,filter:xe,query:je,items:b,selectionMode:c,listRef:X,labelsRef:J,popupRef:Z,emptyRef:ee,inputRef:Q,keyboardActiveRef:te,chipsContainerRef:re,clearRef:oe,valuesRef:le,allValuesRef:ce,selectionEventRef:se,name:ue,disabled:de,readOnly:g,required:h,grid:v,isGrouped:Ie,virtualized:R,openOnInputClick:w,itemToStringLabel:C,isItemEqualToValue:j,modal:O,autoHighlight:ve,submitOnItemClick:A,hasInputValue:ge,mounted:!1,forceMounted:!1,transitionStatus:"idle",inline:N,activeIndex:null,selectedIndex:null,popupProps:{},inputProps:{},triggerProps:{},positionerElement:null,listElement:null,triggerElement:null,inputElement:null,popupSide:null,openMethod:null,inputInsidePopup:!0,onOpenChangeComplete:r||ri,setOpen:ri,setInputValue:ri,setSelectedValue:ri,setIndices:ri,onItemHighlighted:ri,handleSelection:ri,getItemProps:()=>si,forceMount:ri,requestSubmit:ri})).current,Le="none"===c?ke:be,ze=zs(u),Fe=zs(r),Be=rg(Ae,fR.activeIndex),$e=rg(Ae,fR.selectedIndex),_e=rg(Ae,fR.positionerElement),He=rg(Ae,fR.listElement),Ve=rg(Ae,fR.triggerElement),Ue=rg(Ae,fR.inputElement),We=rg(Ae,fR.inline),Ge=rg(Ae,fR.inputInsidePopup),qe=Da(Ve),{mounted:Ke,setMounted:Ye,transitionStatus:Xe}=Ui(Se),{openMethod:Je,triggerProps:Ze,reset:Qe}=yh(Se);Pv({id:U,name:ue,commit:V.commit,value:Le,controlRef:Ge?qe:Q,getValue:()=>Le});const et=zs(()=>{b?J.current=De.map(e=>hR(e,C)):Ae.set("forceMounted",!0)}),tt=d.useRef(be);fi(()=>{be!==tt.current&&et()},[et,be]);const nt=zs(e=>{Ae.update(e);const t=e.type||"none";if(void 0!==e.activeIndex)if(null===e.activeIndex)ie.current!==kR&&(ie.current=kR,ze(void 0,Ai(t,void 0,{index:-1})));else{const n=le.current[e.activeIndex];ie.current={value:n,index:e.activeIndex},ze(n,Ai(t,void 0,{index:e.activeIndex}))}}),rt=zs((t,n)=>{var r;if(ne.current=n.reason===Ri,null==(r=e.onInputValueChange)||r.call(e,t,n),!n.isCanceled){if(n.reason===ji){const e=""!==t.trim();e&&q(!0),ae.current={hasQuery:e},e&&ve&&null==Ae.state.activeIndex&&Ae.set("activeIndex",0)}Ee(t)}}),ot=zs((t,n)=>{var r;Se!==t&&("escape-key"===n.reason&&he&&0===De.length&&!Ae.state.emptyRef.current&&n.allowPropagation(),null==(r=e.onOpenChange)||r.call(e,t,n),n.isCanceled||(!t&&G&&(fe?(Y(je),""===je&&q(!1)):pe&&(We||Ge?nt({activeIndex:null}):Y(je),rt("",Di(Ri,n.event)))),Ce(t)))}),st=zs((e,t)=>{if(null==i||i(e,t),t.isCanceled)return;ye(e);("none"===c&&Z.current&&P||fe&&!Ae.state.inputInsidePopup)&&rt(hR(e,C),Di(t.reason,t.event)),fe&&null!=e&&t.reason!==ji&&G&&Y(je)}),it=zs((e,t)=>{var n;let r=t;if(void 0===r){if(null===Be)return;r=le.current[Be]}const o=vl(e),s=se.current??e;se.current=null;const i=Di(Si,s),a=null==(n=null==o?void 0:o.closest("a"))?void 0:n.getAttribute("href");if(a)a.startsWith("#")&&ot(!1,i);else if(pe){const e=Array.isArray(be)?be:[],t=uR(e,r,Ae.state.isItemEqualToValue)?function(e,t,n){return e.filter(e=>!dR(e,t,n))}(e,r,Ae.state.isItemEqualToValue):[...e,r];st(t,i);if(!(!!Q.current&&""!==Q.current.value.trim()))return;Ae.state.inputInsidePopup?rt("",Di(Ri,i.event)):ot(!1,i)}else st(r,i),ot(!1,i)}),at=zs(()=>{var e;if(!Ae.state.submitOnItemClick)return;const t=null==(e=Ae.state.inputElement)?void 0:e.form;t&&"function"==typeof t.requestSubmit&&t.requestSubmit()}),lt=zs(()=>{if(Ye(!1),null==Fe||Fe(!1),q(!1),Qe(),Y(null),nt("none"===c?{activeIndex:null,selectedIndex:null}:{activeIndex:null}),pe&&Q.current&&""!==Q.current.value&&!ne.current&&rt("",Di(Ri)),fe)if(Ae.state.inputInsidePopup)Q.current&&""!==Q.current.value&&rt("",Di(Ri));else{const e=hR(be,C);if(Q.current&&Q.current.value!==e){rt(e,Di(""===e?Ri:yi))}}}),ct=d.useMemo(()=>We&&_e?{current:_e.closest('[role="dialog"]')}:Z,[We,_e]);La({enabled:!e.actionsRef,open:Se,ref:ct,onComplete(){Se||lt()}}),d.useImperativeHandle(e.actionsRef,()=>({unmount:lt}),[lt]),fi(function(){if(Se||"none"===c)return;const e=b?Te:ce.current;if(pe){const t=Array.isArray(be)?be:[],n=pR(e,t[t.length-1],j);nt({selectedIndex:-1===n?null:n})}else{const t=pR(e,be,j);nt({selectedIndex:-1===t?null:t})}},[Se,be,b,c,Te,pe,j,nt]),fi(()=>{b&&(le.current=De,X.current.length=De.length)},[b,De]),fi(()=>{const e=ae.current;if(e&&(e.hasQuery?ve&&Ae.set("activeIndex",0):"always"===ve&&Ae.set("activeIndex",0),ae.current=null),!Se&&!We)return;const t=he||me?De:le.current,n=Ae.state.activeIndex;if(null==n)return"always"===ve&&t.length>0?void Ae.set("activeIndex",0):void(ie.current!==kR&&(ie.current=kR,Ae.state.onItemHighlighted(void 0,Ai(yi,void 0,{index:-1}))));if(n>=t.length)return ie.current!==kR&&(ie.current=kR,Ae.state.onItemHighlighted(void 0,Ai(yi,void 0,{index:-1}))),void Ae.set("activeIndex",null);const r=t[n],o=ie.current.value,s=o!==wR&&Ae.state.isItemEqualToValue(r,o);ie.current.index===n&&s||(ie.current={value:r,index:n},Ae.state.onItemHighlighted(r,Ai(yi,void 0,{index:n})))},[Be,ve,me,he,De,We,Se,Ae]),fi(()=>{if(!b||"none"===c)return;const e=Te;if(pe){const t=Array.isArray(be)?be:oi,n=t.filter(t=>uR(e,t,Ae.state.isItemEqualToValue));return void(n.length!==t.length&&ye(n))}if(null==be||uR(e,be,Ae.state.isItemEqualToValue))return;let t=null;if(null!=o&&uR(e,o,Ae.state.isItemEqualToValue)&&(t=o),ye(t),!Ae.state.inputInsidePopup){const e=hR(t,C);Q.current&&Q.current.value!==e&&rt(e,Di(yi))}},[b,Te,pe,c,be,o,ye,C,Ae,rt]),fi(()=>{$("none"!==c?pe?Array.isArray(be)&&be.length>0:null!=be:""!==String(ke))},[$,c,ke,be,pe]),d.useEffect(()=>{he&&ve&&0===De.length&&nt({activeIndex:null})},[he,ve,De.length,nt]),xR(je,()=>{Se&&""!==je&&je!==String(we)&&q(!0)}),xR(be,()=>{if("none"!==c&&(L(ue),z(be!==F.initialValue),B()?V.commit(be):V.commit(be,!0),!pe||null===Ae.state.selectedIndex||Array.isArray(be)&&0!==be.length||nt({activeIndex:null,selectedIndex:null}),fe&&!ge&&!Ge)){const e=hR(be,C);ke!==e&&rt(e,Di(yi))}}),xR(ke,()=>{"none"===c&&(L(ue),z(ke!==F.initialValue),B()?V.commit(ke):V.commit(ke,!0))}),xR(b,()=>{if(!fe||ge||Ge||G)return;const e=hR(be,C);ke!==e&&rt(e,Di(yi))});const dt=gg({open:!!We||Se,onOpenChange:ot,elements:{reference:Ge?Ve:Ue,floating:_e}});let ut,pt;We||(ut=v?"grid":"listbox",pt=Se?"true":"false");const ft=d.useMemo(()=>{const e="INPUT"===(null==Ue?void 0:Ue.tagName),t=e?{autoComplete:"off",spellCheck:"false",autoCorrect:"off",autoCapitalize:"none"}:{};return(e||Se)&&(t.role="combobox",t["aria-expanded"]=pt,t["aria-haspopup"]=ut,t["aria-controls"]=Se?null==He?void 0:He.id:void 0,t["aria-autocomplete"]=M),{reference:t,floating:{role:"presentation"}}},[Ue,Se,pt,ut,null==He?void 0:He.id,M]),gt=sf(dt,{enabled:!g&&!de&&w,event:"mousedown-only",toggle:!1,touchOpenDelay:Ge?0:50}),ht=Uf(dt,{enabled:!g&&!de&&!We,outsidePressEvent:{mouse:"sloppy",touch:"intentional"},bubbles:!!We||void 0,outsidePress(e){const t=vl(e);return!ml(Ve,t)&&!ml(oe.current,t)&&!ml(re.current,t)}}),mt=Mg(dt,{enabled:!g&&!de,id:U,listRef:X,activeIndex:Be,selectedIndex:$e,virtual:!0,loopFocus:!0,allowEscape:!ve,focusItemOnOpen:!(G||"none"===c&&!ve)&&"auto",focusItemOnHover:S,resetOnPointerLeave:!E,cols:v?2:1,orientation:v?"horizontal":void 0,disabledIndices:oi,onNavigate(e,t){(t||Se)&&"ending"!==Xe&&nt(t?{activeIndex:e,type:te.current?"keyboard":"pointer"}:{activeIndex:e})}}),{getReferenceProps:vt,getFloatingProps:bt,getItemProps:yt}=jg([ft,gt,ht,mt]);!function(e){const t=d.useRef(!0);t.current&&(t.current=!1,e())}(()=>{Ae.update({inline:N,popupProps:bt(),inputProps:vt(),triggerProps:Ze,getItemProps:yt,setOpen:ot,setInputValue:rt,setSelectedValue:st,setIndices:nt,onItemHighlighted:ze,handleSelection:it,forceMount:et,requestSubmit:at})}),fi(()=>{Ae.update({id:U,selectedValue:be,open:Se,mounted:Ke,transitionStatus:Xe,items:b,inline:N,popupProps:bt(),inputProps:vt(),triggerProps:Ze,openMethod:Je,getItemProps:yt,selectionMode:c,name:ue,disabled:de,readOnly:g,required:h,grid:v,isGrouped:Ie,virtualized:R,onOpenChangeComplete:Fe,openOnInputClick:w,itemToStringLabel:C,modal:O,autoHighlight:ve,isItemEqualToValue:j,submitOnItemClick:A,hasInputValue:ge,requestSubmit:at})},[Ae,U,be,Se,Ke,Xe,b,bt,vt,yt,Je,Ze,c,ue,de,g,h,V,v,Ie,R,Fe,w,C,O,j,A,ge,N,at,ve]);const xt=_s(m,V.inputRef),wt=d.useMemo(()=>({query:je,filteredItems:Me,flatFilteredItems:De}),[je,Me,De]),kt=d.useMemo(()=>Array.isArray(Le)?"":mR(Le,I),[Le,I]),Et=pe&&Array.isArray(be)&&be.length>0,St=d.useMemo(()=>pe&&Array.isArray(be)&&ue?be.map(e=>{const t=mR(e,I);return n.jsx("input",{type:"hidden",name:ue,value:t},t)}):null,[pe,be,ue,I]),Ct=n.jsxs(d.Fragment,{children:[e.children,n.jsx("input",{...V.getInputValidationProps({onFocus(){var e;Ge?null==Ve||Ve.focus():null==(e=Q.current||Ve)||e.focus()},onChange(e){if(e.nativeEvent.defaultPrevented)return;const t=e.target.value,n=Di(ji,e.nativeEvent);function r(){if(pe)return;if("none"===c)return z(t!==F.initialValue),rt(t,n),void(B()&&V.commit(t));const e=le.current.find(e=>mR(e,I).toLowerCase()===t.toLowerCase());null!=e&&(z(e!==F.initialValue),null==st||st(e,n),B()&&V.commit(e))}b?r():(et(),queueMicrotask(r))}}),id:U,name:pe||"none"===c?void 0:ue,disabled:de,required:h&&!Et,readOnly:g,value:kt,ref:xt,style:Fp,tabIndex:-1,"aria-hidden":!0}),St]});return n.jsx(tR.Provider,{value:Ae,children:n.jsx(nR.Provider,{value:dt,children:n.jsx(rR.Provider,{value:wt,children:n.jsx(oR.Provider,{value:ke,children:Ct})})})})}function SR(e){const{multiple:t=!1,defaultValue:r,value:o,onValueChange:s,...i}=e;return n.jsx(ER,{...i,selectionMode:t?"multiple":"single",selectedValue:o,defaultSelectedValue:r,onSelectedValueChange:s})}const CR=d.createContext(void 0);const IR=d.createContext(void 0);function jR(e){const t=d.useContext(IR);if(void 0===t&&!e)throw new Error($s(21));return t}const RR={...bp,...wv,popupSide:e=>e?{"data-popup-side":e}:null,listEmpty:e=>e?{"data-list-empty":""}:null},NR=d.forwardRef(function(e,t){const{render:n,className:r,disabled:o=!1,id:s,...i}=e,{state:a,disabled:l,setTouched:c,setFocused:u,validationMode:p,validation:f}=Ev(),{labelId:g}=jv(),h=d.useContext(CR),m=jR(!0),v=Boolean(m),b=sR(),{filteredItems:y}=aR(),x=lR(),w=bi(s),k=Wc(),E=rg(b,fR.disabled),S=rg(b,fR.readOnly),C=rg(b,fR.name),I=rg(b,fR.selectionMode),j=rg(b,fR.autoHighlight),R=rg(b,fR.inputProps),N=rg(b,fR.triggerProps),P=rg(b,fR.open),O=rg(b,fR.mounted),T=rg(b,fR.selectedValue),M=rg(b,fR.popupSide),D=rg(b,fR.positionerElement),A=Boolean(j),L=O&&D?M:null,z=l||E||o,F=0===y.length,[B,$]=d.useState(null),_=d.useRef(!1),H=zs(e=>{const t=v||b.state.inline;t&&!b.state.hasInputValue&&b.state.setInputValue("",Di(yi)),b.update({inputElement:e,inputInsidePopup:t})});return ui("input",e,{state:d.useMemo(()=>({...a,open:P,disabled:z,readOnly:S,popupSide:L,listEmpty:F}),[a,P,z,S,L,F]),ref:[t,b.state.inputRef,H],props:[R,N,{type:"text",value:e.value??B??x,"aria-readonly":S||void 0,"aria-labelledby":g,disabled:z,readOnly:S,..."none"===I&&C&&{name:C},id:w,onFocus(){u(!0)},onBlur(){if(c(!0),u(!1),"onBlur"===p){const e="none"===I?x:T;f.commit(e)}},onCompositionStart(e){ol||(_.current=!0,$(e.currentTarget.value))},onCompositionEnd(e){_.current=!1;const t=e.currentTarget.value;$(null),b.state.setInputValue(t,Di(ji,e.nativeEvent))},onChange(e){if(_.current){const t=e.currentTarget.value;$(t),""!==t||b.state.openOnInputClick||b.state.inputInsidePopup||b.state.setOpen(!1,Di(Ri,e.nativeEvent));const n=t.trim(),r=A&&""!==n;return S||z||""!==n&&(b.state.setOpen(!0,Di(ji,e.nativeEvent)),A||b.state.setIndices({activeIndex:null,selectedIndex:null,type:b.state.keyboardActiveRef.current?"keyboard":"pointer"})),void(P&&null!==b.state.activeIndex&&!r&&b.state.setIndices({activeIndex:null,selectedIndex:null,type:b.state.keyboardActiveRef.current?"keyboard":"pointer"}))}b.state.setInputValue(e.currentTarget.value,Di(ji,e.nativeEvent));const t=""===e.currentTarget.value,n=Di(Ri,e.nativeEvent);t&&!b.state.inputInsidePopup&&("single"===I&&b.state.setSelectedValue(null,n),b.state.openOnInputClick||b.state.setOpen(!1,n));const r=e.currentTarget.value.trim();S||z||""!==r&&(b.state.setOpen(!0,Di(ji,e.nativeEvent)),A||b.state.setIndices({activeIndex:null,selectedIndex:null,type:b.state.keyboardActiveRef.current?"keyboard":"pointer"})),P&&null!==b.state.activeIndex&&!A&&b.state.setIndices({activeIndex:null,selectedIndex:null,type:b.state.keyboardActiveRef.current?"keyboard":"pointer"})},onKeyDown(e){var t,n;if(z||S)return;if(e.ctrlKey||e.shiftKey||e.altKey||e.metaKey)return;b.state.keyboardActiveRef.current=!0;const r=e.currentTarget,o=r.scrollWidth-r.clientWidth,s="rtl"===k;if("Home"===e.key){Cl(e);const t=nl&&s?r.value.length:0;return r.setSelectionRange(t,t),void(r.scrollLeft=0)}if("End"===e.key){Cl(e);const t=nl&&s?0:r.value.length;return r.setSelectionRange(t,t),void(r.scrollLeft=s?-o:o)}if(!O&&"Escape"===e.key){const t="multiple"===I&&Array.isArray(T)?0===T.length:null===T,n=Di(Pi,e.nativeEvent),r="multiple"===I?[]:null;return b.state.setInputValue("",n),b.state.setSelectedValue(r,n),void(t||b.state.inline||n.isPropagationAllowed||e.stopPropagation())}if(h&&"Backspace"===e.key&&""===r.value&&void 0===h.highlightedChipIndex&&Array.isArray(T)&&T.length>0){const t=T.slice(0,-1);return b.state.setIndices({activeIndex:null,selectedIndex:null,type:b.state.keyboardActiveRef.current?"keyboard":"pointer"}),void b.state.setSelectedValue(t,Di(yi,e.nativeEvent))}const i=function(e){if(!h)return;let t;const{highlightedChipIndex:n}=h;if(void 0!==n){if("ArrowLeft"===e.key)e.preventDefault(),t=n>0?n-1:void 0;else if("ArrowRight"===e.key)e.preventDefault(),t=n<T.length-1?n+1:void 0;else if("Backspace"===e.key||"Delete"===e.key){e.preventDefault();const r=n>=T.length-1?T.length-2:n;t=r>=0?r:void 0,b.state.setIndices({activeIndex:null,selectedIndex:null,type:"keyboard"})}return t}"ArrowLeft"===e.key&&0===(e.currentTarget.selectionStart??0)&&T.length>0?(e.preventDefault(),t=Math.max(T.length-1,0)):"Backspace"===e.key&&""===e.currentTarget.value&&T.length>0&&(b.state.setIndices({activeIndex:null,selectedIndex:null,type:"keyboard"}),e.preventDefault());return t}(e);if(null==h||h.setHighlightedChipIndex(i),void 0!==i?null==(t=null==h?void 0:h.chipsRef.current[i])||t.focus():null==(n=b.state.inputRef.current)||n.focus(),229!==e.which&&"Enter"===e.key&&P){const t=b.state.activeIndex,n=e.nativeEvent;if(null===t)return void b.state.setOpen(!1,Di(yi,n));Cl(e);const r=b.state.listRef.current[t];r&&(b.state.selectionEventRef.current=n,r.click(),b.state.selectionEventRef.current=null)}},onPointerMove(){b.state.keyboardActiveRef.current=!1},onPointerDown(){b.state.keyboardActiveRef.current=!1}},f?f.getValidationProps(i):i],stateAttributesMapping:RR})}),PR=d.createContext(null);function OR(e){const{children:t}=e,{filteredItems:r}=aR(),o=d.useContext(PR),s=o?o.items:r;return s?n.jsx(d.Fragment,{children:s.map(t)}):null}const TR=d.forwardRef(function(e,t){var r;const{render:o,className:s,children:i,...a}=e,l=sR(),c=iR(),u=Boolean(jR(!0)),{filteredItems:p}=aR(),f=rg(l,fR.items),g=rg(l,fR.labelsRef),h=rg(l,fR.listRef),m=rg(l,fR.selectionMode),v=rg(l,fR.grid),b=rg(l,fR.popupProps),y=rg(l,fR.disabled),x=rg(l,fR.readOnly),w=rg(l,fR.virtualized),k="multiple"===m,E=0===p.length,S=zs(e=>{l.set("positionerElement",e)}),C=zs(e=>{l.set("listElement",e)}),I=d.useMemo(()=>"function"==typeof i?r||(r=n.jsx(OR,{children:i})):i,[i]),j=ui("div",e,{state:d.useMemo(()=>({empty:E}),[E]),ref:[t,C,u?null:S],props:[b,{children:I,tabIndex:-1,id:c.useState("floatingId"),role:v?"grid":"listbox","aria-multiselectable":k?"true":void 0,onKeyDown(e){if(!y&&!x&&"Enter"===e.key){const t=l.state.activeIndex;if(null==t)return;Cl(e);const n=e.nativeEvent,r=l.state.listRef.current[t];r&&(l.state.selectionEventRef.current=n,r.click(),l.state.selectionEventRef.current=null)}},onKeyDownCapture(){l.state.keyboardActiveRef.current=!0},onPointerMoveCapture(){l.state.keyboardActiveRef.current=!1}},a]});return w?j:n.jsx(ih,{elementsRef:h,labelsRef:f?void 0:g,children:j})}),MR=d.createContext(void 0);const DR=d.forwardRef(function(e,t){const{keepMounted:r=!1,...o}=e,s=sR(),i=rg(s,fR.mounted),a=rg(s,fR.forceMounted);return i||r||a?n.jsx(MR.Provider,{value:r,children:n.jsx(Qp,{ref:t,...o})}):null}),AR=d.forwardRef(function(e,t){const{render:r,className:o,anchor:s,positionMethod:i="absolute",side:a="bottom",align:l="center",sideOffset:c=0,alignOffset:u=0,collisionBoundary:p="clipping-ancestors",collisionPadding:f=5,arrowPadding:g=5,sticky:h=!1,disableAnchorTracking:m=!1,collisionAvoidance:v=li,...b}=e,y=sR(),{filteredItems:x}=aR(),w=iR(),k=function(){const e=d.useContext(MR);if(void 0===e)throw new Error($s(20));return e}(),E=rg(y,fR.modal),S=rg(y,fR.open),C=rg(y,fR.mounted),I=rg(y,fR.openMethod),j=rg(y,fR.triggerElement),R=rg(y,fR.inputElement),N=rg(y,fR.inputInsidePopup),P=0===x.length,O=oh({anchor:s??(N?j:R),floatingRootContext:w,positionMethod:i,mounted:C,side:a,sideOffset:c,align:l,alignOffset:u,arrowPadding:g,collisionBoundary:p,collisionPadding:f,sticky:h,disableAnchorTracking:m,keepMounted:k,collisionAvoidance:v,lazyFlip:!0});mh(S&&E&&"touch"!==I,j);const T=d.useMemo(()=>{const e={...O.positionerStyles};return S||(e.pointerEvents="none"),{role:"presentation",hidden:!C,style:e}},[S,C,O.positionerStyles]),M=d.useMemo(()=>({open:S,side:O.side,align:O.align,anchorHidden:O.anchorHidden,empty:P}),[S,O.side,O.align,O.anchorHidden,P]);fi(()=>{y.set("popupSide",O.side)},[y,O.side]);const D=d.useMemo(()=>({side:O.side,align:O.align,arrowRef:O.arrowRef,arrowUncentered:O.arrowUncentered,arrowStyles:O.arrowStyles,anchorHidden:O.anchorHidden,isPositioned:O.isPositioned}),[O.side,O.align,O.arrowRef,O.arrowUncentered,O.arrowStyles,O.anchorHidden,O.isPositioned]),A=ui("div",e,{state:M,ref:[t,zs(e=>{y.set("positionerElement",e)})],props:[T,b],stateAttributesMapping:yp});return n.jsxs(IR.Provider,{value:D,children:[C&&E&&n.jsx(dh,{inert:Jg(!S),cutout:R??j}),A]})}),LR={...yp,...Yi},zR=d.forwardRef(function(e,t){const{render:r,className:o,initialFocus:s,finalFocus:i,...a}=e,l=sR(),c=jR(),u=iR(),{filteredItems:p}=aR(),f=rg(l,fR.mounted),g=rg(l,fR.open),h=rg(l,fR.openMethod),m=rg(l,fR.transitionStatus),v=rg(l,fR.inputInsidePopup),b=rg(l,fR.inputElement),y=0===p.length;La({open:g,ref:l.state.popupRef,onComplete(){g&&l.state.onOpenChangeComplete(!0)}});const x=ui("div",e,{state:d.useMemo(()=>({open:g,side:c.side,align:c.align,anchorHidden:c.anchorHidden,transitionStatus:m,empty:y}),[g,c.side,c.align,c.anchorHidden,m,y]),ref:[t,l.state.popupRef],props:[{role:v?"dialog":"presentation",tabIndex:-1,onFocus(e){var t;const n=vl(e.nativeEvent);"touch"===h||!ml(l.state.listElement,n)&&n!==e.currentTarget||null==(t=l.state.inputRef.current)||t.focus()}},Gg(m),a],stateAttributesMapping:LR}),w=void 0===s?!!v&&(e=>"touch"===e?l.state.popupRef.current:b):s;let k;return k=null!=i?i:!!v&&void 0,n.jsx(of,{context:u,disabled:!f,modal:!v,openInteractionType:h,initialFocus:w,returnFocus:k,children:x})}),FR=d.createContext(void 0),BR=d.createContext(!1);const $R=d.memo(d.forwardRef(function(e,t){const{render:r,className:o,value:s=null,index:i,disabled:a=!1,nativeButton:l=!1,...u}=e,p=d.useRef(!1),f=d.useRef(null),g=Cp({index:i,textRef:f,indexGuessBehavior:Sp.GuessFromOrder}),h=sR(),m=d.useContext(BR),{flatFilteredItems:v}=aR(),b=rg(h,fR.open),y=rg(h,fR.selectionMode),x=rg(h,fR.readOnly),w=rg(h,fR.virtualized),k=rg(h,fR.isItemEqualToValue),E="none"!==y,S=i??(w?pR(v,s,k):g.index),C=-1!==g.index,I=rg(h,fR.id),j=rg(h,fR.isActive,S),R=rg(h,fR.isSelected,s),N=rg(h,fR.items),P=rg(h,fR.getItemProps),O=d.useRef(null),T=null!=I&&C?`${I}-${S}`:void 0,M=R&&E;fi(()=>{if(!(C&&(w||null!=i)))return;const e=h.state.listRef.current;return e[S]=O.current,()=>{delete e[S]}},[C,w,S,i,h]),fi(()=>{if(!C||N)return;const e=h.state.valuesRef.current;return e[S]=s,"none"!==y&&h.state.allValuesRef.current.push(s),()=>{delete e[S]}},[C,N,S,s,h,y]),fi(()=>{if(!b)return void(p.current=!1);if(!C||N)return;const e=h.state.selectedValue;dR(Array.isArray(e)?e[e.length-1]:e,s,k)&&h.set("selectedIndex",S)},[C,N,b,h,S,s,k]);const D=d.useMemo(()=>({disabled:a,selected:M,highlighted:j}),[a,M,j]),A=P({active:j,selected:M});A.id=void 0,A.onFocus=void 0;const{getButtonProps:L,buttonRef:z}=Oa({disabled:a,focusableWhenDisabled:!0,native:l});function F(e){function t(){h.state.handleSelection(e,s)}h.state.submitOnItemClick?(c.flushSync(t),h.state.requestSubmit()):t()}const B={id:T,role:m?"gridcell":"option","aria-disabled":a||void 0,"aria-selected":E?M:void 0,tabIndex:void 0,onPointerDownCapture(e){p.current=!0,e.preventDefault()},onClick(e){a||x||F(e.nativeEvent)},onMouseUp(e){const t=p.current;p.current=!1,a||x||0!==e.button||t||!j||F(e.nativeEvent)}},$=ui("div",e,{ref:[z,t,g.ref,O],state:D,props:[A,B,u,L]}),_=d.useMemo(()=>({selected:M,textRef:f}),[M,f]);return n.jsx(FR.Provider,{value:_,children:$})})),_R=d.forwardRef(function(e,t){const{render:n,className:r,children:o,...s}=e,{filteredItems:i}=aR(),a=sR(),l=0===i.length?o:null;return ui("div",e,{ref:[t,a.state.emptyRef],props:[{children:l,role:"status","aria-live":"polite","aria-atomic":!0},s]})}),HR={...Yi,...vp},VR=d.forwardRef(function(e,t){const{render:n,className:r,disabled:o=!1,nativeButton:s=!0,keepMounted:i=!1,...a}=e,{disabled:l}=Ev(),c=sR(),u=rg(c,fR.selectionMode),p=rg(c,fR.disabled),f=rg(c,fR.readOnly),g=rg(c,fR.open),h=rg(c,fR.selectedValue),m=lR();let v=!1;v="none"===u?""!==m:"single"===u?null!=h:Array.isArray(h)&&h.length>0;const b=l||p||o,{buttonRef:y,getButtonProps:x}=Oa({native:s,disabled:b}),{mounted:w,transitionStatus:k,setMounted:E}=Ui(v),S=d.useMemo(()=>({disabled:b,open:g,transitionStatus:k}),[b,g,k]);La({open:v,ref:c.state.clearRef,onComplete(){v||E(!1)}});const C=ui("button",e,{state:S,ref:[t,y,c.state.clearRef],props:[{tabIndex:-1,children:"x",disabled:b,"aria-readonly":f||void 0,onMouseDown(e){e.preventDefault()},onClick(e){var t;if(b||f)return;const n=c.state.keyboardActiveRef;c.state.setInputValue("",Di(Ii,e.nativeEvent)),"none"!==u?(c.state.setSelectedValue(Array.isArray(h)?[]:null,Di(Ii,e.nativeEvent)),c.state.setIndices({activeIndex:null,selectedIndex:null,type:n.current?"keyboard":"pointer"})):c.state.setIndices({activeIndex:null,type:n.current?"keyboard":"pointer"}),null==(t=c.state.inputRef.current)||t.focus()}},a,x],stateAttributesMapping:HR});return i||w?C:null}),UR=d.createContext(void 0);function WR(e){const t=d.useContext(UR);if(void 0===t&&!e)throw new Error($s(47));return t}const GR={...fg,disabled:tg(e=>e.disabled),instantType:tg(e=>e.instantType),openMethod:tg(e=>e.openMethod),openChangeReason:tg(e=>e.openChangeReason),modal:tg(e=>e.modal),stickIfOpen:tg(e=>e.stickIfOpen),titleElementId:tg(e=>e.titleElementId),descriptionElementId:tg(e=>e.descriptionElementId),openOnHover:tg(e=>e.openOnHover),closeDelay:tg(e=>e.closeDelay)};class qR extends sg{constructor(e){const n={...{...pg(),disabled:!1,modal:!1,instantType:void 0,openMethod:null,openChangeReason:null,titleElementId:void 0,descriptionElementId:void 0,stickIfOpen:!0,nested:!1,openOnHover:!1,closeDelay:0},...e};n.open&&void 0===(null==e?void 0:e.mounted)&&(n.mounted=!0),super(n,{popupRef:d.createRef(),backdropRef:d.createRef(),internalBackdropRef:d.createRef(),onOpenChange:void 0,onOpenChangeComplete:void 0,triggerFocusTargetRef:d.createRef(),beforeContentFocusGuardRef:d.createRef(),stickIfOpenTimeout:new Fa,triggerElements:new ug},GR),t(this,"setOpen",(e,t)=>{var n,r;const o=t.reason===wi,s=t.reason===xi&&0===t.event.detail,i=!e&&(t.reason===Pi||null==t.reason);if(t.preventUnmountOnClose=()=>{this.set("preventUnmountingOnClose",!0)},null==(r=(n=this.context).onOpenChange)||r.call(n,e,t),t.isCanceled)return;const a={open:e,nativeEvent:t.event,reason:t.reason,nested:this.state.nested,triggerElement:t.trigger},l=this.state.floatingRootContext.context.events;null==l||l.emit("openchange",a);const d=()=>{var n;const r={open:e,openChangeReason:t.reason},o=(null==(n=t.trigger)?void 0:n.id)??null;(o||e)&&(r.activeTriggerId=o,r.activeTriggerElement=t.trigger??null),this.update(r)};o?(this.set("stickIfOpen",!0),this.context.stickIfOpenTimeout.start(500,()=>{this.set("stickIfOpen",!1)}),c.flushSync(d)):d(),s||i?this.set("instantType",s?"click":"dismiss"):t.reason===Ni?this.set("instantType","focus"):this.set("instantType",void 0)}),t(this,"disposeEffect",()=>this.context.stickIfOpenTimeout.disposeEffect())}static useStore(e,t){const n=Ds(()=>e??new qR(t)).current;return zi(n.disposeEffect),n}}function KR({props:e}){const{children:t,open:r,defaultOpen:o=!1,onOpenChange:s,onOpenChangeComplete:i,modal:a=!1,handle:l,triggerId:c,defaultTriggerId:u=null}=e,p=qR.useStore(null==l?void 0:l.store,{open:r??o,modal:a,activeTriggerId:void 0!==c?c:u});p.useControlledProp("open",r,o),p.useControlledProp("activeTriggerId",c,u);const f=p.useState("open"),g=p.useState("positionerElement"),h=p.useState("payload"),m=p.useState("openChangeReason");p.useContextCallback("onOpenChange",s),p.useContextCallback("onOpenChangeComplete",i);const{openMethod:v,triggerProps:b,reset:y}=yh(f);cg(p);const{forceUnmount:x}=dg(f,p,()=>{p.update({stickIfOpen:!0,openChangeReason:null}),y()});mh(f&&!0===a&&m!==wi&&"touch"!==v,g),d.useEffect(()=>{f||p.context.stickIfOpenTimeout.clear()},[p,f]);const w=d.useCallback(e=>{const t=Di(e);return t.preventUnmountOnClose=()=>{p.set("preventUnmountingOnClose",!0)},t},[p]),k=d.useCallback(()=>{p.setOpen(!1,w(Mi))},[p,w]);d.useImperativeHandle(e.actionsRef,()=>({unmount:x,close:k}),[x,k]);const E=mg({popupStore:p,onOpenChange:p.setOpen}),S=Uf(E,{outsidePressEvent:{mouse:"trap-focus"===a?"sloppy":"intentional",touch:"sloppy"}}),C=Ag(E),{getReferenceProps:I,getFloatingProps:j,getTriggerProps:R}=jg([S,C]),N=d.useMemo(()=>I(b),[I,b]),P=d.useMemo(()=>R(b),[R,b]),O=d.useMemo(()=>j(),[j]);p.useSyncedValues({modal:a,openMethod:v,activeTriggerProps:N,inactiveTriggerProps:P,popupProps:O,floatingRootContext:E,nested:null!=Op()});const T=d.useMemo(()=>({store:p}),[p]);return n.jsx(UR.Provider,{value:T,children:"function"==typeof t?t({payload:h}):t})}function YR(e){return WR(!0)?n.jsx(KR,{props:e}):n.jsx(Ap,{children:n.jsx(KR,{props:e})})}const XR=300,JR=d.forwardRef(function(e,t){const{render:r,className:o,disabled:s=!1,nativeButton:i=!0,handle:a,payload:l,openOnHover:u=!1,delay:p=XR,closeDelay:f=0,id:g,...h}=e,m=WR(!0),v=(null==a?void 0:a.store)??(null==m?void 0:m.store);if(!v)throw new Error($s(74));const b=bi(g),y=v.useState("isTriggerActive",b),x=v.useState("floatingRootContext"),w=v.useState("isOpenedByTrigger",b),k=d.useRef(null),{registerTrigger:E,isMountedByThisTrigger:S}=lg(b,k,v,{payload:l,disabled:s,openOnHover:u,closeDelay:f}),C=v.useState("openChangeReason"),I=v.useState("stickIfOpen"),j=v.useState("openMethod"),R=Ig(x,{enabled:null!=x&&u&&("touch"!==j||C!==xi),mouseOnly:!0,move:!1,handleClose:zg(),restMs:p,delay:{close:f},triggerElementRef:k,isActiveTrigger:y}),N=jg([sf(x,{enabled:null!=x,stickIfOpen:I})]),P=v.useState("triggerProps",S),O=d.useMemo(()=>({disabled:s,open:w}),[s,w]),{getButtonProps:T,buttonRef:M}=Oa({disabled:s,native:i}),D=d.useMemo(()=>({open:e=>e&&C===xi?bp.open(e):vp.open(e)}),[C]),A=ui("button",e,{state:O,ref:[M,t,E,k],props:[N.getReferenceProps(),R,P,{[ai]:"",id:b},h,T],stateAttributesMapping:D}),L=d.useRef(null),z=zs(e=>{c.flushSync(()=>{v.setOpen(!1,Di(Ni,e.nativeEvent,e.currentTarget))});const t=Lc(L.current);null==t||t.focus()}),F=zs(e=>{var t;const n=v.select("positionerElement");if(n&&zc(e,n))null==(t=v.context.beforeContentFocusGuardRef.current)||t.focus();else{c.flushSync(()=>{v.setOpen(!1,Di(Ni,e.nativeEvent,e.currentTarget))});let t=Ac(k.current);for(;null!==t&&ml(n,t)||(null==t?void 0:t.hasAttribute("aria-hidden"));){const e=t;if(t=Tc(t),t===e)break}null==t||t.focus()}});return y?n.jsxs(d.Fragment,{children:[n.jsx($p,{ref:L,onFocus:z}),n.jsx(d.Fragment,{children:A},b),n.jsx($p,{ref:v.context.triggerFocusTargetRef,onFocus:F})]}):n.jsx(d.Fragment,{children:A},b)}),ZR=d.createContext(void 0);const QR=d.forwardRef(function(e,t){const{keepMounted:r=!1,...o}=e,{store:s}=WR();return s.useState("mounted")||r?n.jsx(ZR.Provider,{value:r,children:n.jsx(Qp,{ref:t,...o,renderGuards:!1})}):null}),eN=d.createContext(void 0);const tN=d.forwardRef(function(e,t){const{render:r,className:o,anchor:s,positionMethod:i="absolute",side:a="bottom",align:l="center",sideOffset:c=0,alignOffset:u=0,collisionBoundary:p="clipping-ancestors",collisionPadding:f=5,arrowPadding:g=5,sticky:h=!1,disableAnchorTracking:m=!1,collisionAvoidance:v=ci,...b}=e,{store:y}=WR(),x=function(){const e=d.useContext(ZR);if(void 0===e)throw new Error($s(45));return e}(),w=Mp(),k=y.useState("floatingRootContext"),E=y.useState("mounted"),S=y.useState("open"),C=y.useState("openChangeReason"),I=y.useState("activeTriggerElement"),j=y.useState("modal"),R=y.useState("positionerElement"),N=y.useState("instantType"),P=y.useState("transitionStatus"),O=d.useRef(null),T=Vi(R,!1,!1),M=oh({anchor:s,floatingRootContext:k,positionMethod:i,mounted:E,side:a,sideOffset:c,align:l,alignOffset:u,arrowPadding:g,collisionBoundary:p,collisionPadding:f,sticky:h,disableAnchorTracking:m,keepMounted:x,nodeId:w,collisionAvoidance:v,adaptiveOrigin:th}),D=d.useMemo(()=>{const e={};return S||(e.pointerEvents="none"),{role:"presentation",hidden:!E,style:{...M.positionerStyles,...e}}},[S,E,M.positionerStyles]),A=d.useMemo(()=>({props:D,...M}),[D,M]),L=null==k?void 0:k.select("domReferenceElement");fi(()=>{const e=L,t=O.current;if(e&&(O.current=e),t&&e&&e!==t){y.set("instantType",void 0);const e=new AbortController;return T(()=>{y.set("instantType","trigger-change")},e.signal),()=>{e.abort()}}},[L,T,y]);const z=d.useMemo(()=>({open:S,side:A.side,align:A.align,anchorHidden:A.anchorHidden,instant:N}),[S,A.side,A.align,A.anchorHidden,N]),F=d.useCallback(e=>{y.set("positionerElement",e)},[y]),B=ui("div",e,{state:z,props:[A.props,Gg(P),b],ref:[t,F],stateAttributesMapping:yp});return n.jsxs(eN.Provider,{value:A,children:[E&&!0===j&&C!==wi&&n.jsx(dh,{ref:y.context.internalBackdropRef,inert:Jg(!S),cutout:I}),n.jsx(Dp,{id:w,children:B})]})});function nN(e){const t=Ea(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const o=la(e),s=o?e.offsetWidth:n,i=o?e.offsetHeight:r;return(Ml(n)!==s||Ml(r)!==i)&&(n=s,r=i),{width:n,height:r}}const rN="undefined"!=typeof ResizeObserver,oN=()=>!0;function sN(e,t,n){const r=e.style.getPropertyValue(t);return e.style.setProperty(t,n),()=>{e.style.setProperty(t,r)}}const iN={...yp,...Yi},aN=d.forwardRef(function(e,t){const{className:r,render:o,initialFocus:s,finalFocus:i,...a}=e,{store:l}=WR(),c=function(){const e=d.useContext(eN);if(!e)throw new Error($s(46));return e}(),u=null!=Bg(),p=Wc(),f=l.useState("open"),g=l.useState("openMethod"),h=l.useState("instantType"),m=l.useState("transitionStatus"),v=l.useState("popupProps"),b=l.useState("titleElementId"),y=l.useState("descriptionElementId"),x=l.useState("modal"),w=l.useState("mounted"),k=l.useState("openChangeReason"),E=l.useState("popupElement"),S=l.useState("payload"),C=l.useState("positionerElement"),I=l.useState("activeTriggerElement"),j=l.useState("floatingRootContext");La({open:f,ref:l.context.popupRef,onComplete(){var e,t;f&&(null==(t=(e=l.context).onOpenChangeComplete)||t.call(e,!0))}});const R=l.useState("disabled"),N=l.useState("openOnHover"),P=l.useState("closeDelay");Eg(j,{enabled:N&&!R,closeDelay:P});const O=void 0===s?function(e){return"touch"!==e||l.context.popupRef.current}:s,T=d.useMemo(()=>({open:f,side:c.side,align:c.align,instant:h,transitionStatus:m}),[f,c.side,c.align,h,m]),M=d.useCallback(e=>{l.set("popupElement",e)},[l]);!function(e){const{popupElement:t,positionerElement:n,content:r,mounted:o,enabled:s=oN,onMeasureLayout:i,onMeasureLayoutComplete:a,side:l,direction:c}=e,u=d.useRef(!0),p=Vi(t,!0,!1),f=_i(),g=d.useRef(null),h=zs(i),m=zs(a),v=d.useMemo(()=>{let e="top"===l,t="left"===l;return"rtl"===c?(e=e||"inline-end"===l,t=t||"inline-end"===l):(e=e||"inline-start"===l,t=t||"inline-start"===l),e?{position:"absolute",["top"===l?"bottom":"top"]:"0",[t?"right":"left"]:"0"}:si},[l,c]);fi(()=>{if(!o||!s()||!rN)return u.current=!0,void(g.current=null);if(!t||!n)return;Object.entries(v).forEach(([e,n])=>{t.style.setProperty(e,n)});const e=new ResizeObserver(e=>{const t=e[0];t&&(null===g.current?g.current={width:Math.ceil(t.borderBoxSize[0].inlineSize),height:Math.ceil(t.borderBoxSize[0].blockSize)}:(g.current.width=Math.ceil(t.borderBoxSize[0].inlineSize),g.current.height=Math.ceil(t.borderBoxSize[0].blockSize)))});e.observe(t),t.style.setProperty("--popup-width","auto"),t.style.setProperty("--popup-height","auto");const r=sN(t,"position","static"),i=sN(t,"transform","none"),a=sN(t,"scale","1"),l=sN(n,"--available-width","max-content"),c=sN(n,"--available-height","max-content");if(null==h||h(),u.current||null===g.current){n.style.setProperty("--positioner-width","max-content"),n.style.setProperty("--positioner-height","max-content");const o=nN(t);return n.style.setProperty("--positioner-width",`${o.width}px`),n.style.setProperty("--positioner-height",`${o.height}px`),r(),i(),a(),l(),c(),null==m||m(null,o),u.current=!1,()=>{e.disconnect()}}t.style.setProperty("--popup-width","auto"),t.style.setProperty("--popup-height","auto"),n.style.setProperty("--positioner-width","max-content"),n.style.setProperty("--positioner-height","max-content");const d=nN(t);t.style.setProperty("--popup-width",`${g.current.width}px`),t.style.setProperty("--popup-height",`${g.current.height}px`),r(),i(),l(),c(),null==m||m(g.current,d),n.style.setProperty("--positioner-width",`${d.width}px`),n.style.setProperty("--positioner-height",`${d.height}px`);const b=new AbortController;return f.request(()=>{t.style.setProperty("--popup-width",`${d.width}px`),t.style.setProperty("--popup-height",`${d.height}px`),p(()=>{t.style.setProperty("--popup-width","auto"),t.style.setProperty("--popup-height","auto")},b.signal)}),()=>{e.disconnect(),b.abort(),f.cancel()}},[r,t,n,p,f,s,o,h,m,v])}({popupElement:E,positionerElement:C,mounted:w,content:S,enabled:d.useCallback(()=>l.context.triggerElements.size>1,[l]),onMeasureLayout:function(){j.context.events.emit("measure-layout")},onMeasureLayoutComplete:function(e,t){j.context.events.emit("measure-layout-complete",{previousDimensions:e,nextDimensions:t})},side:c.side,direction:p});const D=ui("div",e,{state:T,ref:[t,l.context.popupRef,M],props:[v,{"aria-labelledby":b,"aria-describedby":y,onKeyDown(e){u&&Wg.has(e.key)&&e.stopPropagation()}},Gg(m),a],stateAttributesMapping:iN});return n.jsx(of,{context:j,openInteractionType:g,modal:"trap-focus"===x,disabled:!w||k===wi,initialFocus:O,returnFocus:i,restoreFocus:"popup",previousFocusableElement:la(I)?I:void 0,nextFocusableElement:l.context.triggerFocusTargetRef,beforeContentFocusGuardRef:l.context.beforeContentFocusGuardRef,children:D})}),lN=d.forwardRef(function(e,t){const{render:n,className:r,disabled:o=!1,nativeButton:s=!0,...i}=e,{buttonRef:a,getButtonProps:l}=Oa({disabled:o,focusableWhenDisabled:!1,native:s}),{store:c}=WR();return ui("button",e,{ref:[t,a],props:[{onClick(e){c.setOpen(!1,Di(Ci,e.nativeEvent,e.currentTarget))}},i,l]})});function cN(){const{theme:e,toggleTheme:t}=Yj(),r="dark"===e;return n.jsx(ep,{onClick:t,title:r?"Light Mode":"Dark Mode",variant:"ghost",size:"sm",className:"relative w-8 h-8",children:n.jsx(i,{mode:"wait",children:r?n.jsx(l.div,{initial:{rotate:-90,opacity:0},animate:{rotate:0,opacity:1},exit:{rotate:90,opacity:0},transition:{duration:.2},children:n.jsx(Bd,{size:18,className:"text-cyan-400"})},"moon"):n.jsx(l.div,{initial:{rotate:90,opacity:0},animate:{rotate:0,opacity:1},exit:{rotate:-90,opacity:0},transition:{duration:.2},children:n.jsx(Qd,{size:18,className:"text-amber-500"})},"sun")})})}function dN(){const{t:e}=Hm(),{language:t,setLanguage:r,theme:o,setTheme:s,performanceMode:a,togglePerformanceMode:c}=Yj(),[u,p]=d.useState(!1);return n.jsxs(Eh,{open:u,onOpenChange:p,children:[n.jsx(Ih,{className:"relative",children:n.jsx(l.div,{animate:{rotate:u?30:0},transition:{duration:.2},children:n.jsx(ep,{variant:"ghost",size:"sm",title:e("settings.title"),children:n.jsx(Jd,{size:18,className:"text-[var(--color-text-primary)]"})})})}),n.jsx(Xg,{children:n.jsx(uh,{side:"bottom",align:"end",sideOffset:8,children:n.jsx(i,{children:u&&n.jsx(l.div,{initial:{opacity:0,scale:.95,y:-10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:-10},transition:{duration:.15,ease:"easeOut"},children:n.jsxs(Kg,{className:"w-64 py-2 rounded-xl backdrop-blur-glass-lg bg-[var(--glass-bg)] border border-[var(--glass-border)] shadow-glass-lg z-50 outline-none",children:[n.jsx("div",{className:"px-4 py-2 border-b border-[var(--glass-border)]",children:n.jsx("h3",{className:"text-sm font-semibold text-[var(--color-text-primary)]",children:e("settings.title")})}),n.jsxs("div",{className:"px-4 py-3",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2 text-[var(--color-text-secondary)]",children:[n.jsx(Ad,{size:14}),n.jsx("span",{className:"text-xs uppercase tracking-wide",children:e("settings.language")})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{onClick:()=>r("de"),className:"flex-1 px-3 py-1.5 rounded-lg text-sm transition-colors "+("de"===t?"bg-cyan-500/20 text-cyan-400 border border-cyan-500/30":"text-[var(--color-text-primary)] hover:bg-[var(--glass-bg-hover)]"),children:n.jsxs("span",{className:"flex items-center gap-2 justify-center",children:["de"===t&&n.jsx(dd,{size:14}),"DE"]})}),n.jsx("button",{onClick:()=>r("en"),className:"flex-1 px-3 py-1.5 rounded-lg text-sm transition-colors "+("en"===t?"bg-cyan-500/20 text-cyan-400 border border-cyan-500/30":"text-[var(--color-text-primary)] hover:bg-[var(--glass-bg-hover)]"),children:n.jsxs("span",{className:"flex items-center gap-2 justify-center",children:["en"===t&&n.jsx(dd,{size:14}),"EN"]})})]})]}),n.jsxs("div",{className:"px-4 py-3 border-t border-[var(--glass-border)]",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2 text-[var(--color-text-secondary)]",children:["dark"===o?n.jsx(Bd,{size:14}):n.jsx(Qd,{size:14}),n.jsx("span",{className:"text-xs uppercase tracking-wide",children:e("settings.theme")})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{onClick:()=>s("light"),className:"flex-1 px-3 py-1.5 rounded-lg text-sm transition-colors "+("light"===o?"bg-amber-500/20 text-amber-400 border border-amber-500/30":"text-[var(--color-text-primary)] hover:bg-[var(--glass-bg-hover)]"),children:n.jsxs("span",{className:"flex items-center gap-2 justify-center",children:["light"===o&&n.jsx(dd,{size:14}),e("settings.themeLight")]})}),n.jsx("button",{onClick:()=>s("dark"),className:"flex-1 px-3 py-1.5 rounded-lg text-sm transition-colors "+("dark"===o?"bg-cyan-500/20 text-cyan-400 border border-cyan-500/30":"text-[var(--color-text-primary)] hover:bg-[var(--glass-bg-hover)]"),children:n.jsxs("span",{className:"flex items-center gap-2 justify-center",children:["dark"===o&&n.jsx(dd,{size:14}),e("settings.themeDark")]})})]})]}),n.jsx("div",{className:"px-4 py-3 border-t border-[var(--glass-border)]",children:n.jsxs("button",{onClick:c,className:"w-full flex items-center justify-between px-3 py-2 rounded-lg hover:bg-[var(--glass-bg-hover)] transition-colors",children:[n.jsxs("div",{className:"flex items-center gap-2 text-[var(--color-text-primary)]",children:[n.jsx(au,{size:16,className:a?"text-amber-400":"text-[var(--color-text-secondary)]"}),n.jsxs("div",{className:"text-left",children:[n.jsx("div",{className:"text-sm",children:e("settings.performanceMode")}),n.jsx("div",{className:"text-xs text-[var(--color-text-muted)]",children:e("settings.performanceModeDesc")})]})]}),n.jsx("div",{className:"w-10 h-5 rounded-full transition-colors "+(a?"bg-amber-500":"bg-[var(--color-text-muted)]"),children:n.jsx("div",{className:"w-4 h-4 rounded-full bg-white mt-0.5 transition-transform "+(a?"translate-x-5":"translate-x-0.5")})})]})})]})})})})})]})}function uN(){var e;const{t:t}=Hm(),r=[{value:"name",label:t("toolbar.sort.name")},{value:"date",label:t("toolbar.sort.date")},{value:"size",label:t("toolbar.sort.size")},{value:"rating",label:t("toolbar.sort.rating")}],{searchQuery:o,setSearchQuery:s,sortBy:i,setSortBy:a,sortOrder:c,toggleSortOrder:u,filterRating:p,setFilterRating:f,clearFilters:g,images:h,tags:m,setCurrentFolder:v,clearSelection:b,selectedImages:y,refreshImages:x}=zu(),[w,k]=d.useState(!1),E=y.size>0,S=async e=>{if(E&&!w){k(!0);try{const t=Array.from(y);await Ou.rotateImages(t,e),await x()}catch(t){console.error("Rotate failed:",t)}finally{k(!1)}}},C=async e=>{if(E&&!w){k(!0);try{const t=Array.from(y);await Ou.flipImages(t,e),await x()}catch(t){console.error("Flip failed:",t)}finally{k(!1)}}},I=d.useMemo(()=>{const e=[],t=o.toLowerCase();if(!t||t.length<1)return[];const n=new Set;h.forEach(r=>{r.fileName.toLowerCase().includes(t)&&!n.has(r.fileName)&&(n.add(r.fileName),e.push({value:r.fileName,label:r.fileName,type:"file"}))});const r=new Set;return m.forEach(n=>{n.name.toLowerCase().includes(t)&&!r.has(n.name)&&(r.add(n.name),e.push({value:n.name,label:n.name,type:"tag"}))}),h.forEach(n=>{var o;null==(o=n.tags)||o.forEach(n=>{n.toLowerCase().includes(t)&&!r.has(n)&&(r.add(n),e.push({value:n,label:n,type:"tag"}))})}),e.slice(0,10)},[o,h,m]),j=o||null!==p;return n.jsxs(l.div,{initial:{y:-40,opacity:0},animate:{y:0,opacity:1},transition:{type:"spring",damping:20,stiffness:300},className:"glass-toolbar flex flex-nowrap items-center gap-2 px-3 py-2 overflow-x-auto",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("img",{src:"/logo.png",alt:"TagFusion",className:"w-8 h-8",style:{filter:"drop-shadow(0 2px 8px rgba(6,182,212,0.4))"}}),n.jsx("span",{className:"text-lg font-bold text-cyan-400 tracking-wider",style:{fontFamily:"'Orbitron', sans-serif",textShadow:"0 2px 8px rgba(6,182,212,0.3)"},children:"TagFusion"})]}),n.jsx("div",{className:"h-6 w-px bg-[var(--glass-border)]"}),n.jsx(ep,{onClick:()=>{v(null),b()},title:t("toolbar.home"),variant:"ghost",size:"md",children:n.jsx(Td,{size:18})}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(SR,{value:void 0,onValueChange:e=>{e&&s(e.value)},onInputValueChange:e=>s(e),children:[n.jsxs("div",{className:"w-72 relative",children:[n.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 z-10 pointer-events-none",children:n.jsx(Yd,{size:16,className:"text-[var(--color-text-secondary)]"})}),n.jsx(NR,{value:o,placeholder:t("toolbar.search"),className:"w-full h-8 pl-9 pr-8 rounded-lg backdrop-blur-glass-xs bg-[var(--glass-bg)] border border-[var(--glass-border)] text-sm text-[var(--color-text-primary)] placeholder-[var(--color-text-muted)] focus:outline-none focus:border-cyan-500/50 focus:ring-2 focus:ring-cyan-500/20 transition-all"}),o&&n.jsx(VR,{className:"absolute right-2 top-1/2 -translate-y-1/2 p-1 rounded hover:bg-[var(--glass-bg-hover)] text-[var(--color-text-secondary)] hover:text-[var(--color-text-primary)]",children:n.jsx(iu,{size:14})})]}),n.jsx(DR,{children:n.jsx(AR,{side:"bottom",align:"start",sideOffset:4,children:n.jsx(zR,{className:"w-72 py-1 rounded-xl backdrop-blur-glass-lg bg-[var(--glass-bg)] border border-[var(--glass-border)] shadow-glass-lg z-[100] outline-none transition-all data-[ending-style]:opacity-0 data-[ending-style]:scale-95 data-[starting-style]:opacity-0 data-[starting-style]:scale-95",children:n.jsx(TR,{children:I.length>0?I.map(e=>n.jsxs($R,{value:e,className:"flex items-center gap-2 px-3 py-2 text-sm text-[var(--color-text-primary)] hover:bg-[var(--glass-bg-hover)] cursor-pointer outline-none data-[highlighted]:bg-[var(--glass-bg-hover)] data-[highlighted]:text-cyan-400",children:["file"===e.type?n.jsx(yd,{size:14,className:"text-[var(--color-text-muted)]"}):n.jsx(eu,{size:14,className:"text-cyan-500"}),n.jsx("span",{className:"truncate",children:e.label}),n.jsx("span",{className:"ml-auto text-xs text-[var(--color-text-muted)]",children:"file"===e.type?t("toolbar.file"):t("toolbar.tag")})]},`${e.type}-${e.value}`)):o.length>0?n.jsx(_R,{className:"px-3 py-2 text-sm text-[var(--color-text-muted)]",children:t("toolbar.noSuggestions")}):null})})})})]}),n.jsxs(Eh,{children:[n.jsxs(Ih,{className:"flex items-center gap-2 px-3 py-1.5 rounded-lg backdrop-blur-glass-xs bg-[var(--glass-bg)] hover:bg-[var(--glass-bg-hover)] border border-[var(--glass-border)] text-sm text-[var(--color-text-primary)] transition-colors data-[popup-open]:bg-[var(--glass-bg-hover)]",children:["asc"===c?n.jsx(sd,{size:16}):n.jsx(rd,{size:16}),n.jsx("span",{children:null==(e=r.find(e=>e.value===i))?void 0:e.label}),n.jsx(ud,{size:14,className:"transition-transform data-[popup-open]:rotate-180"})]}),n.jsx(Xg,{children:n.jsx(uh,{side:"bottom",align:"end",sideOffset:4,children:n.jsx(Kg,{className:"w-40 py-1 rounded-xl backdrop-blur-glass-lg bg-[var(--glass-bg)] border border-[var(--glass-border)] shadow-glass-lg z-50 outline-none transition-all data-[ending-style]:opacity-0 data-[ending-style]:scale-95 data-[starting-style]:opacity-0 data-[starting-style]:scale-95",children:r.map(e=>n.jsxs(Ip,{onClick:()=>{i===e.value?u():a(e.value)},className:"w-full flex items-center justify-between px-3 py-2 text-sm hover:bg-[var(--glass-bg-hover)] transition-colors cursor-pointer outline-none data-[highlighted]:bg-[var(--glass-bg-hover)] "+(i===e.value?"text-cyan-400":"text-[var(--color-text-primary)]"),children:[n.jsx("span",{children:e.label}),i===e.value&&("asc"===c?n.jsx(sd,{size:14}):n.jsx(rd,{size:14}))]},e.value))})})})]}),n.jsxs(YR,{children:[n.jsxs(JR,{className:"flex items-center gap-2 px-3 py-1.5 rounded-lg text-sm transition-colors border "+(null!==p?"bg-cyan-500/20 text-cyan-400 border-cyan-500/30":"backdrop-blur-glass-xs bg-[var(--glass-bg)] hover:bg-[var(--glass-bg-hover)] border-[var(--glass-border)] text-[var(--color-text-primary)] data-[popup-open]:bg-[var(--glass-bg-hover)]"),children:[n.jsx(Zd,{size:16,className:null!==p?"fill-cyan-400":""}),n.jsx("span",{children:null!==p?`${p}`:t("toolbar.rating")})]}),n.jsx(QR,{children:n.jsx(tN,{side:"bottom",align:"end",sideOffset:4,children:n.jsxs(aN,{className:"p-3 rounded-xl backdrop-blur-glass-lg bg-[var(--glass-bg)] border border-[var(--glass-border)] shadow-glass-lg z-50 outline-none transition-all data-[ending-style]:opacity-0 data-[ending-style]:scale-95 data-[starting-style]:opacity-0 data-[starting-style]:scale-95",children:[n.jsx("div",{className:"flex items-center gap-1 mb-2",children:[1,2,3,4,5].map(e=>n.jsx("button",{onClick:()=>f(p===e?null:e),className:"p-1.5 hover:bg-[var(--glass-bg-hover)] rounded-lg transition-colors",children:n.jsx(Zd,{size:20,className:"transition-colors "+(null!==p&&e<=p?"text-cyan-400 fill-cyan-400":"text-[var(--color-text-muted)]")})},e))}),null!==p&&n.jsx(lN,{className:"w-full text-xs text-[var(--color-text-secondary)] hover:text-[var(--color-text-primary)] py-1",children:t("toolbar.resetFilter")})]})})})]}),j&&n.jsx(ep,{onClick:g,title:t("toolbar.clearFilters"),variant:"danger",size:"sm",children:n.jsx(iu,{size:16})}),E&&n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"h-6 w-px bg-[var(--glass-border)]"}),n.jsxs("div",{className:"flex items-center gap-1",children:[w?n.jsx("div",{className:"px-3 py-1.5",children:n.jsx(Xo,{size:"sm",color:"secondary"})}):n.jsxs(n.Fragment,{children:[n.jsx(ep,{onClick:()=>S(-90),title:t("toolbar.rotate90Left"),size:"sm",children:n.jsx(Wd,{size:16})}),n.jsx(ep,{onClick:()=>S(90),title:t("toolbar.rotate90Right"),size:"sm",children:n.jsx(Gd,{size:16})}),n.jsx(ep,{onClick:()=>S(180),title:t("toolbar.rotate180"),size:"sm",children:n.jsx(Ud,{size:16})}),n.jsx("div",{className:"w-px h-4 bg-[var(--glass-border)] mx-1"}),n.jsx(ep,{onClick:()=>C(!0),title:t("toolbar.flipHorizontal"),size:"sm",children:n.jsx(Ed,{size:16})}),n.jsx(ep,{onClick:()=>C(!1),title:t("toolbar.flipVertical"),size:"sm",children:n.jsx(Sd,{size:16})})]}),n.jsxs("span",{className:"text-xs text-[var(--color-text-secondary)] ml-2",children:[y.size," ",t("toolbar.selected")]})]})]})]}),n.jsx("div",{className:"flex-1"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(cN,{}),n.jsx(dN,{})]})]})}const pN=()=>{const{t:e}=Hm(),{images:t,selectedImages:r,zoomLevel:o,setZoomLevel:s,zoomIn:a,zoomOut:c}=zu(),u=d.useMemo(()=>{const e=new Set;return t.forEach(t=>{var n;null==(n=t.tags)||n.forEach(t=>e.add(t))}),e.size},[t]),p=d.useMemo(()=>{const e=t.filter(e=>e.rating&&e.rating>0);if(0===e.length)return 0;return e.reduce((e,t)=>e+(t.rating||0),0)/e.length},[t]),f=d.useMemo(()=>t.filter(e=>e.rating&&e.rating>0).length,[t]);return n.jsxs(l.div,{initial:{y:30,opacity:0},animate:{y:0,opacity:1},transition:{delay:.3,type:"spring",stiffness:400,damping:25},className:"h-8 px-4 flex items-center justify-between text-xs text-[var(--color-text-secondary)] relative glass-footer",children:[n.jsx("div",{className:"absolute inset-x-0 top-0 h-[1px] glass-specular"}),n.jsx("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:n.jsxs(i,{mode:"wait",children:[1===r.size&&n.jsx(l.p,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},exit:{opacity:0,x:-10},transition:{duration:.2},className:"text-[var(--color-text-primary)] truncate",title:Array.from(r)[0],children:Array.from(r)[0]},Array.from(r)[0]),r.size>1&&n.jsxs(l.p,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},exit:{opacity:0,x:-10},className:"text-[var(--color-text-secondary)]",children:[r.size," ",e("statusBar.selected")]})]})}),n.jsxs("div",{className:"flex items-center gap-6",children:[n.jsxs("div",{className:"flex items-center gap-1.5",children:[n.jsx(Md,{size:12,className:"text-[var(--color-text-muted)]"}),n.jsx(tw,{value:t.length,className:"text-[var(--color-text-secondary)]",duration:400}),n.jsx("span",{className:"text-[var(--color-text-muted)]",children:e("statusBar.images")})]}),n.jsx(i,{children:r.size>0&&n.jsxs(l.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"flex items-center gap-1.5",children:[n.jsx(cd,{size:12,className:"text-cyan-400"}),n.jsx(tw,{value:r.size,className:"text-cyan-400",duration:200}),n.jsx("span",{className:"text-[var(--color-text-muted)]",children:e("statusBar.selected")})]})}),n.jsxs("div",{className:"flex items-center gap-1.5",children:[n.jsx(eu,{size:12,className:"text-[var(--color-text-muted)]"}),n.jsx(tw,{value:u,className:"text-[var(--color-text-secondary)]",duration:600}),n.jsx("span",{className:"text-[var(--color-text-muted)]",children:"Tags"})]}),f>0&&n.jsxs("div",{className:"flex items-center gap-1.5",children:[n.jsx(Zd,{size:12,className:"text-cyan-400 fill-cyan-400"}),n.jsx("span",{className:"text-cyan-400",children:p.toFixed(1)}),n.jsxs("span",{className:"text-[var(--color-text-muted)]",children:[" (",f,")"]})]}),n.jsxs("div",{className:"flex items-center gap-2 ml-4 pl-4 border-l border-[var(--glass-border)]",children:[n.jsx("button",{onClick:c,className:"p-1 hover:bg-[var(--glass-bg-hover)] rounded transition-colors",title:"Zoom Out (Ctrl+-)",children:n.jsx(cu,{size:12,className:"text-[var(--color-text-secondary)]"})}),n.jsx("div",{className:"flex items-center gap-2 w-32",children:n.jsx("input",{type:"range",min:"50",max:"200",step:"10",value:o,onChange:e=>s(Number(e.target.value)),className:"w-full h-1 bg-[var(--color-bg-tertiary)] rounded-full appearance-none cursor-pointer\n                [&::-webkit-slider-thumb]:appearance-none\n                [&::-webkit-slider-thumb]:w-3\n                [&::-webkit-slider-thumb]:h-3\n                [&::-webkit-slider-thumb]:bg-cyan-400\n                [&::-webkit-slider-thumb]:rounded-full\n                [&::-webkit-slider-thumb]:cursor-pointer\n                [&::-webkit-slider-thumb]:transition-transform\n                [&::-webkit-slider-thumb]:hover:scale-125"})}),n.jsx("button",{onClick:a,className:"p-1 hover:bg-[var(--glass-bg-hover)] rounded transition-colors",title:"Zoom In (Ctrl++)",children:n.jsx(lu,{size:12,className:"text-[var(--color-text-secondary)]"})}),n.jsxs("button",{onClick:()=>s(100),className:"text-[var(--color-text-secondary)] hover:text-cyan-400 transition-colors min-w-[40px] text-right",title:"Reset (Ctrl+0)",children:[o,"%"]})]})]})]})};function fN(){const{isOpen:e,currentImage:t,currentIndex:r,images:o,zoomLevel:s,close:a,next:c,previous:u,zoomIn:p,zoomOut:f,resetZoom:g}=Gm(),{refreshImages:h}=zu(),[m,v]=d.useState(null),[b,y]=d.useState(!1),[x,w]=d.useState(!0),[k,E]=d.useState(!1);d.useEffect(()=>{e&&t&&(y(!0),v(null),Ou.getFullImage(t.path).then(e=>{v(e),y(!1)}).catch(e=>{console.error("Failed to load full image:",e),v(t.thumbnailBase64||null),y(!1)}))},[e,null==t?void 0:t.path]),d.useEffect(()=>{if(!e||o.length<=1)return;[r-1,r+1].filter(e=>e>=0&&e<o.length).forEach(e=>{const t=o[e];(null==t?void 0:t.path)&&Ou.getFullImage(t.path).catch(()=>{})})},[e,r,o]);const S=d.useCallback(t=>{if(e)switch(t.key){case"Escape":a();break;case"ArrowLeft":u();break;case"ArrowRight":c();break;case"+":case"=":p();break;case"-":f();break;case"0":g();break;case"i":w(e=>!e)}},[e,a,c,u,p,f,g]);d.useEffect(()=>(window.addEventListener("keydown",S),()=>window.removeEventListener("keydown",S)),[S]);const C=async e=>{if(t&&!k){E(!0);try{await Ou.rotateImages([t.path],e);const n=await Ou.getFullImage(t.path);v(n),h()}catch(n){console.error("Failed to rotate:",n)}finally{E(!1)}}},I=async e=>{if(t&&!k){E(!0);try{await Ou.flipImages([t.path],e);const n=await Ou.getFullImage(t.path);v(n),h()}catch(n){console.error("Failed to flip:",n)}finally{E(!1)}}};if(!t)return null;const j=m?`data:image/jpeg;base64,${m}`:t.thumbnailBase64?`data:image/jpeg;base64,${t.thumbnailBase64}`:t.thumbnailUrl||"";return n.jsx(i,{children:e&&n.jsxs(l.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 z-50 flex items-center justify-center",onClick:a,children:[n.jsx("div",{className:"absolute inset-0",style:{background:"rgba(0, 0, 0, 0.85)",backdropFilter:"blur(20px)"}}),n.jsxs(l.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},transition:{type:"spring",stiffness:300,damping:25},className:"relative z-10 w-[95vw] h-[90vh] flex items-center justify-center",onClick:e=>e.stopPropagation(),children:[(b||k)&&n.jsx("div",{className:"absolute inset-0 flex items-center justify-center z-20",children:n.jsx(l.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"w-12 h-12 border-4 border-cyan-400/30 border-t-cyan-400 rounded-full"})}),n.jsx(l.img,{src:j,alt:t.fileName,className:"w-full h-full object-contain select-none",style:{transform:`scale(${s/100})`,opacity:b||k?.3:1,filter:k?"blur(2px)":"none"},draggable:!1,initial:{opacity:0},animate:{opacity:b||k?.3:1}})]}),n.jsxs(l.div,{initial:{y:-50,opacity:0},animate:{y:0,opacity:1},exit:{y:-50,opacity:0},className:"absolute top-0 left-0 right-0 p-4 flex items-center justify-between",style:{background:"linear-gradient(180deg, rgba(0,0,0,0.7) 0%, transparent 100%)"},onClick:e=>e.stopPropagation(),children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("span",{className:"text-white font-medium",children:t.fileName}),n.jsxs("span",{className:"text-slate-400 text-sm",children:[r+1," / ",o.length]})]}),n.jsx(gN,{onClick:a,title:"Schlieen (ESC)",children:n.jsx(iu,{size:20})})]}),o.length>1&&n.jsxs(n.Fragment,{children:[n.jsx(l.button,{initial:{x:-20,opacity:0},animate:{x:0,opacity:1},exit:{x:-20,opacity:0},onClick:e=>{e.stopPropagation(),u()},className:"absolute left-4 top-1/2 -translate-y-1/2 p-3 rounded-full transition-all hover:scale-110",style:{background:"rgba(255,255,255,0.1)",backdropFilter:"blur(10px)",border:"1px solid rgba(255,255,255,0.2)"},whileHover:{background:"rgba(6,182,212,0.3)"},whileTap:{scale:.95},title:"Vorheriges ()",children:n.jsx(pd,{size:28,className:"text-white"})}),n.jsx(l.button,{initial:{x:20,opacity:0},animate:{x:0,opacity:1},exit:{x:20,opacity:0},onClick:e=>{e.stopPropagation(),c()},className:"absolute right-4 top-1/2 -translate-y-1/2 p-3 rounded-full transition-all hover:scale-110",style:{background:"rgba(255,255,255,0.1)",backdropFilter:"blur(10px)",border:"1px solid rgba(255,255,255,0.2)"},whileHover:{background:"rgba(6,182,212,0.3)"},whileTap:{scale:.95},title:"Nchstes ()",children:n.jsx(fd,{size:28,className:"text-white"})})]}),n.jsx(l.div,{initial:{y:50,opacity:0},animate:{y:0,opacity:1},exit:{y:50,opacity:0},className:"absolute bottom-0 left-0 right-0 p-4",style:{background:"linear-gradient(0deg, rgba(0,0,0,0.7) 0%, transparent 100%)"},onClick:e=>e.stopPropagation(),children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(i,{children:x&&n.jsxs(l.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"flex items-center gap-4",children:[n.jsx("div",{className:"flex items-center gap-1",children:[0,1,2,3,4].map(e=>n.jsx(Zd,{size:16,className:e<(t.rating||0)?"text-cyan-400":"text-slate-600",fill:e<(t.rating||0)?"currentColor":"none"},e))}),t.tags&&t.tags.length>0&&n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(eu,{size:14,className:"text-cyan-400"}),n.jsxs("span",{className:"text-slate-300 text-sm",children:[t.tags.slice(0,5).join(", "),t.tags.length>5&&" +"+(t.tags.length-5)]})]}),t.width&&t.height&&n.jsxs("span",{className:"text-slate-400 text-sm",children:[t.width,"  ",t.height]})]})}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(gN,{onClick:()=>w(e=>!e),title:"Info (I)",children:n.jsx(Dd,{size:18,className:x?"text-cyan-400":""})}),n.jsx("div",{className:"w-px h-6 bg-white/20 mx-2"}),n.jsx(gN,{onClick:()=>C(-90),title:"Links drehen",disabled:k,children:n.jsx(Wd,{size:18})}),n.jsx(gN,{onClick:()=>C(90),title:"Rechts drehen",disabled:k,children:n.jsx(Gd,{size:18})}),n.jsx("div",{className:"w-px h-6 bg-white/20 mx-1"}),n.jsx(gN,{onClick:()=>I(!0),title:"Horizontal spiegeln",disabled:k,children:n.jsx(Ed,{size:18})}),n.jsx(gN,{onClick:()=>I(!1),title:"Vertikal spiegeln",disabled:k,children:n.jsx(Sd,{size:18})}),n.jsx("div",{className:"w-px h-6 bg-white/20 mx-2"}),n.jsx(gN,{onClick:f,title:"Verkleinern (-)",children:n.jsx(cu,{size:18})}),n.jsxs("span",{className:"text-white text-sm min-w-[50px] text-center",children:[s,"%"]}),n.jsx(gN,{onClick:p,title:"Vergrern (+)",children:n.jsx(lu,{size:18})})]})]})})]})})}function gN({children:e,onClick:t,title:r,disabled:o=!1}){return n.jsx(l.button,{onClick:o?void 0:t,title:r,className:"p-2 rounded-lg transition-colors "+(o?"text-white/30 cursor-not-allowed":"text-white/80 hover:text-white"),style:{background:o?"rgba(255,255,255,0.05)":"rgba(255,255,255,0.1)",backdropFilter:"blur(10px)",border:"1px solid rgba(255,255,255,0.15)"},whileHover:o?{}:{scale:1.05,background:"rgba(6,182,212,0.3)"},whileTap:o?{}:{scale:.95},children:e})}const hN={success:n.jsx(ld,{className:"w-5 h-5"}),error:n.jsx(su,{className:"w-5 h-5"}),info:n.jsx(Dd,{className:"w-5 h-5"}),warning:n.jsx(nd,{className:"w-5 h-5"})},mN={success:{bg:"from-emerald-500/20 to-emerald-500/5",border:"border-emerald-500/30",icon:"text-emerald-400",glow:"shadow-emerald-500/20"},error:{bg:"from-red-500/20 to-red-500/5",border:"border-red-500/30",icon:"text-red-400",glow:"shadow-red-500/20"},info:{bg:"from-cyan-500/20 to-cyan-500/5",border:"border-cyan-500/30",icon:"text-cyan-400",glow:"shadow-cyan-500/20"},warning:{bg:"from-amber-500/20 to-amber-500/5",border:"border-amber-500/30",icon:"text-amber-400",glow:"shadow-amber-500/20"}};function vN({toast:e}){const{removeToast:t}=qm(),r=mN[e.type];return n.jsxs(l.div,{layout:!0,initial:{opacity:0,y:50,scale:.9},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,x:100,scale:.9},transition:{type:"spring",stiffness:400,damping:25},className:`\n        relative flex items-center gap-3 px-4 py-3 rounded-xl\n        backdrop-blur-xl bg-gradient-to-r ${r.bg}\n        border ${r.border}\n        shadow-lg ${r.glow}\n        min-w-[280px] max-w-[400px]\n      `,children:[n.jsx("div",{className:r.icon,children:hN[e.type]}),n.jsx("p",{className:"flex-1 text-sm text-slate-100 font-medium",children:e.message}),n.jsx(l.button,{onClick:()=>t(e.id),className:"p-1 rounded-lg text-slate-400 hover:text-slate-200 hover:bg-white/10 transition-colors",whileHover:{scale:1.1},whileTap:{scale:.9},children:n.jsx(iu,{className:"w-4 h-4"})}),e.duration&&e.duration>0&&n.jsx(l.div,{className:`absolute bottom-0 left-0 h-0.5 rounded-b-xl ${r.icon.replace("text-","bg-")}`,initial:{width:"100%"},animate:{width:"0%"},transition:{duration:e.duration/1e3,ease:"linear"}}),n.jsx("div",{className:"absolute inset-x-0 top-0 h-px bg-gradient-to-r from-transparent via-white/20 to-transparent rounded-t-xl pointer-events-none"})]})}function bN(){const{toasts:e}=qm();return n.jsx("div",{className:"fixed bottom-6 right-6 z-[100] flex flex-col gap-3",children:n.jsx(i,{mode:"popLayout",children:e.map(e=>n.jsx(vN,{toast:e},e.id))})})}class yN extends d.Component{constructor(e){super(e),t(this,"handleReset",()=>{this.setState({hasError:!1,error:null,errorInfo:null})}),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){this.setState({errorInfo:t}),console.error("ErrorBoundary caught an error:",e,t)}render(){return this.state.hasError?this.props.fallback?this.props.fallback:n.jsx("div",{className:"h-full w-full flex items-center justify-center p-8",children:n.jsxs("div",{className:"glass rounded-2xl p-8 max-w-lg text-center",children:[n.jsx("div",{className:"w-16 h-16 mx-auto mb-6 rounded-full bg-red-500/20 flex items-center justify-center",children:n.jsx(nd,{size:32,className:"text-red-400"})}),n.jsx("h2",{className:"text-xl font-semibold text-slate-100 mb-3",children:"Etwas ist schiefgelaufen"}),n.jsx("p",{className:"text-slate-400 mb-6 px-4",children:"Ein unerwarteter Fehler ist aufgetreten. Dies kann an einer beschdigten Bilddatei oder einem Problem mit der Verbindung zum System liegen."}),this.state.error&&n.jsx("div",{className:"mb-6 mx-4 text-left",children:n.jsxs("details",{className:"group",children:[n.jsxs("summary",{className:"text-sm text-slate-500 cursor-pointer hover:text-slate-400 transition-colors flex items-center gap-2",children:[n.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-red-500/50"}),"Technische Details anzeigen"]}),n.jsxs("div",{className:"mt-3 p-4 rounded-xl bg-slate-900/80 border border-white/5 overflow-auto max-h-48 backdrop-blur-md",children:[n.jsxs("div",{className:"flex justify-between items-start mb-2",children:[n.jsx("span",{className:"text-[10px] uppercase tracking-wider text-slate-500 font-bold",children:"Error Stack"}),n.jsx("button",{onClick:()=>{var e,t,n;const r=`${null==(e=this.state.error)?void 0:e.message}\n\n${null==(t=this.state.error)?void 0:t.stack}\n\n${null==(n=this.state.errorInfo)?void 0:n.componentStack}`;navigator.clipboard.writeText(r)},className:"text-[10px] text-cyan-400 hover:text-cyan-300 transition-colors",children:"Kopieren"})]}),n.jsxs("code",{className:"text-xs text-red-300/90 whitespace-pre-wrap font-mono leading-relaxed",children:[this.state.error.message,this.state.error.stack&&`\n\n${this.state.error.stack}`]})]})]})}),n.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-3",children:[n.jsxs("button",{onClick:this.handleReset,className:"w-full sm:w-auto inline-flex items-center justify-center gap-2 px-8 py-3 rounded-xl bg-cyan-500 text-white shadow-lg shadow-cyan-500/20 hover:bg-cyan-400 transition-all duration-300 font-medium",children:[n.jsx(Ud,{size:18}),n.jsx("span",{children:"Neu laden"})]}),n.jsx("button",{onClick:()=>window.location.reload(),className:"w-full sm:w-auto inline-flex items-center justify-center gap-2 px-8 py-3 rounded-xl bg-white/5 text-slate-300 hover:bg-white/10 transition-all duration-300 border border-white/10",children:"App Neustarten"})]})]})}):this.props.children}}function xN(){const{loadAllTags:e,setupSubscriptions:t,error:r,setError:o,images:s,selectedImages:a,setZoomLevel:c,zoomIn:u,zoomOut:p,selectAllImages:f,clearSelection:g,currentFolder:h}=zu(),{initialize:m}=vv(),{copy:v,cut:b,paste:y}=Xm(),{openModal:x}=Jm();d.useEffect(()=>{t(),e(),m()},[e,m,t]);const w=d.useCallback(e=>{if(!(e.target instanceof HTMLInputElement||e.target instanceof HTMLTextAreaElement))if("Escape"!==e.key){if("F2"===e.key&&1===a.size){e.preventDefault();const t=Array.from(a)[0],n=s.find(e=>e.path===t);return void(n&&x("rename",{path:t,name:n.fileName,isFolder:!1}))}if("Delete"===e.key&&a.size>0)return e.preventDefault(),void x("deleteConfirm",{paths:Array.from(a)});if(e.altKey&&"Enter"===e.key&&1===a.size){e.preventDefault();const t=Array.from(a)[0];return void x("properties",{path:t})}if(e.ctrlKey){if("c"===e.key||"C"===e.key)return void(a.size>0&&(e.preventDefault(),v(Array.from(a).map(e=>({path:e,isFolder:!1})))));if("x"===e.key||"X"===e.key)return void(a.size>0&&(e.preventDefault(),b(Array.from(a).map(e=>({path:e,isFolder:!1})))));if("v"===e.key||"V"===e.key)return void(h&&(e.preventDefault(),y(h).then(()=>window.location.reload())));if("a"===e.key||"A"===e.key)return e.preventDefault(),void f();"+"===e.key||"="===e.key?(e.preventDefault(),u()):"-"===e.key?(e.preventDefault(),p()):"0"===e.key&&(e.preventDefault(),c(100))}}else g()},[u,p,c,f,g,a,s,h,v,b,y,x]);return d.useEffect(()=>(window.addEventListener("keydown",w),()=>window.removeEventListener("keydown",w)),[w]),n.jsxs("div",{className:"h-screen w-screen flex flex-col overflow-hidden",children:[n.jsx(uN,{}),n.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[n.jsx(Vm,{}),n.jsx(yN,{children:n.jsx(pv,{})}),n.jsx(eR,{})]}),n.jsx(pN,{}),n.jsx(i,{children:r&&n.jsx(l.div,{initial:{opacity:0,y:20,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:20,scale:.95},className:"fixed bottom-12 right-4 max-w-md p-4 rounded-xl glass border border-red-500/30 text-red-300",children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"font-medium",children:"Fehler"}),n.jsx("p",{className:"text-sm opacity-80",children:r})]}),n.jsx("button",{onClick:()=>o(null),className:"text-red-400 hover:text-red-300 transition-colors",children:""})]})})}),n.jsx(Xj,{}),n.jsx(fN,{}),n.jsx(Ah,{}),n.jsx(nw,{}),n.jsx(rw,{}),n.jsx(iw,{}),n.jsx(bN,{})]})}h.createRoot(document.getElementById("root")).render(n.jsx(u.StrictMode,{children:n.jsx($n,{children:n.jsx(xN,{})})}));
