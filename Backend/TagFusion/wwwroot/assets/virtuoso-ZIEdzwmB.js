import{j as se}from"./motion-BxWOwN3p.js";import{R as L,r as Vo,a as Go}from"./vendor-CwvKdLiM.js";const mt=0,We=1,Ue=2,ao=4;function qt(e){return()=>e}function No(e){e()}function _o(e,t){return o=>e(t(o))}function Kt(e,t){return()=>e(t)}function Uo(e,t){return o=>e(t,o)}function Et(e){return e!==void 0}function qo(...e){return()=>{e.map(No)}}function nt(){}function gt(e,t){return t(e),e}function Ko(e,t){return t(e)}function X(...e){return e}function _(e,t){return e(We,t)}function P(e,t){e(mt,t)}function kt(e){e(Ue)}function te(e){return e(ao)}function B(e,t){return _(e,Uo(t,mt))}function ze(e,t){const o=e(We,n=>{o(),t(n)});return o}function Zt(e){let t,o;return n=>r=>{t=r,o&&clearTimeout(o),o=setTimeout(()=>{n(t)},e)}}function fo(e,t){return e===t}function Y(e=fo){let t;return o=>n=>{e(t,n)||(t=n,o(n))}}function M(e){return t=>o=>{e(o)&&t(o)}}function z(e){return t=>_o(t,e)}function ye(e){return t=>()=>{t(e)}}function h(e,...t){const o=Zo(...t);return(n,r)=>{switch(n){case Ue:kt(e);return;case We:return _(e,o(r))}}}function He(e,t){return o=>n=>{o(t=e(t,n))}}function Ae(e){return t=>o=>{e>0?e--:t(o)}}function Ee(e){let t=null,o;return n=>r=>{t=r,!o&&(o=setTimeout(()=>{o=void 0,n(t)},e))}}function F(...e){const t=new Array(e.length);let o=0,n=null;const r=Math.pow(2,e.length)-1;return e.forEach((i,l)=>{const u=Math.pow(2,l);_(i,c=>{const a=o;o=o|u,t[l]=c,a!==r&&o===r&&n&&(n(),n=null)})}),i=>l=>{const u=()=>{i([l].concat(t))};o===r?u():n=u}}function Zo(...e){return t=>e.reduceRight(Ko,t)}function $o(e){let t,o;const n=()=>t?.();return function(r,i){switch(r){case We:return i?o===i?void 0:(n(),o=i,t=_(e,i),t):(n(),nt);case Ue:n(),o=null;return}}}function v(e){let t=e;const o=j();return(n,r)=>{switch(n){case mt:t=r;break;case We:{r(t);break}case ao:return t}return o(n,r)}}function de(e,t){return gt(v(t),o=>B(e,o))}function j(){const e=[];return(t,o)=>{switch(t){case mt:e.slice().forEach(n=>{n(o)});return;case Ue:e.splice(0,e.length);return;case We:return e.push(o),()=>{const n=e.indexOf(o);n>-1&&e.splice(n,1)}}}}function xe(e){return gt(j(),t=>B(e,t))}function G(e,t=[],{singleton:o}={singleton:!0}){return{constructor:e,dependencies:t,id:Yo(),singleton:o}}const Yo=()=>Symbol();function Xo(e){const t=new Map,o=({constructor:n,dependencies:r,id:i,singleton:l})=>{if(l&&t.has(i))return t.get(i);const u=n(r.map(c=>o(c)));return l&&t.set(i,u),u};return o(e)}function re(...e){const t=j(),o=new Array(e.length);let n=0;const r=Math.pow(2,e.length)-1;return e.forEach((i,l)=>{const u=Math.pow(2,l);_(i,c=>{o[l]=c,n=n|u,n===r&&P(t,o)})}),function(i,l){switch(i){case Ue:{kt(t);return}case We:return n===r&&l(o),_(t,l)}}}function O(e,t=fo){return h(e,Y(t))}function zt(...e){return function(t,o){switch(t){case Ue:return;case We:return qo(...e.map(n=>_(n,o)))}}}var we=(e=>(e[e.DEBUG=0]="DEBUG",e[e.INFO=1]="INFO",e[e.WARN=2]="WARN",e[e.ERROR=3]="ERROR",e))(we||{});const Jo={0:"debug",3:"error",1:"log",2:"warn"},Qo=()=>typeof globalThis>"u"?window:globalThis,Le=G(()=>{const e=v(3);return{log:v((t,o,n=1)=>{var r;const i=(r=Qo().VIRTUOSO_LOG_LEVEL)!=null?r:te(e);n>=i&&console[Jo[n]]("%creact-virtuoso: %c%s %o","color: #0253b3; font-weight: bold","color: initial",t,o)}),logLevel:e}},[],{singleton:!0});function pt(e,t,o){return ho(e,t,o).callbackRef}function ho(e,t,o){const n=L.useRef(null);let r=l=>{};const i=L.useMemo(()=>typeof ResizeObserver<"u"?new ResizeObserver(l=>{requestAnimationFrame(()=>{const c=l[0].target;c.offsetParent!==null&&e(c)})}):null,[e,o]);return r=l=>{l&&t?(i?.observe(l),n.current=l):(n.current&&i?.unobserve(n.current),n.current=null)},{callbackRef:r,ref:n}}function en(e,t,o){const n=L.useRef(null),r=L.useCallback(c=>{if(!(c!=null&&c.offsetParent))return;const a=c.getBoundingClientRect(),g=a.width;let T,x;if(t){const I=t.getBoundingClientRect(),y=a.top-I.top;x=I.height-Math.max(0,y),T=y+t.scrollTop}else{const I=l.current.ownerDocument.defaultView;x=I.innerHeight-Math.max(0,a.top),T=a.top+I.scrollY}n.current={offsetTop:T,visibleHeight:x,visibleWidth:g},e(n.current)},[e,t]),{callbackRef:i,ref:l}=ho(r,!0,o),u=L.useCallback(()=>{r(l.current)},[r,l]);return L.useEffect(()=>{var c;if(t){t.addEventListener("scroll",u);const a=new ResizeObserver(()=>{requestAnimationFrame(u)});return a.observe(t),()=>{t.removeEventListener("scroll",u),a.unobserve(t)}}else{const a=(c=l.current)==null?void 0:c.ownerDocument.defaultView;return a?.addEventListener("scroll",u),a?.addEventListener("resize",u),()=>{a?.removeEventListener("scroll",u),a?.removeEventListener("resize",u)}}},[u,t,l]),i}const fe=G(()=>{const e=j(),t=j(),o=v(0),n=j(),r=v(0),i=j(),l=j(),u=v(0),c=v(0),a=v(0),g=v(0),T=j(),x=j(),I=v(!1),y=v(!1),H=v(!1);return B(h(e,z(({scrollTop:p})=>p)),t),B(h(e,z(({scrollHeight:p})=>p)),l),B(t,r),{deviation:o,fixedFooterHeight:a,fixedHeaderHeight:c,footerHeight:g,headerHeight:u,horizontalDirection:y,scrollBy:x,scrollContainerState:e,scrollHeight:l,scrollingInProgress:I,scrollTo:T,scrollTop:t,skipAnimationFrameInResizeObserver:H,smoothScrollTargetReached:n,statefulScrollTop:r,viewportHeight:i}},[],{singleton:!0}),$e={lvl:0};function mo(e,t){const o=e.length;if(o===0)return[];let{index:n,value:r}=t(e[0]);const i=[];for(let l=1;l<o;l++){const{index:u,value:c}=t(e[l]);i.push({end:u-1,start:n,value:r}),n=u,r=c}return i.push({end:1/0,start:n,value:r}),i}function q(e){return e===$e}function Ye(e,t){if(!q(e))return t===e.k?e.v:t<e.k?Ye(e.l,t):Ye(e.r,t)}function Re(e,t,o="k"){if(q(e))return[-1/0,void 0];if(Number(e[o])===t)return[e.k,e.v];if(Number(e[o])<t){const n=Re(e.r,t,o);return n[0]===-1/0?[e.k,e.v]:n}return Re(e.l,t,o)}function ve(e,t,o){return q(e)?vo(t,o,1):t===e.k?le(e,{k:t,v:o}):t<e.k?$t(le(e,{l:ve(e.l,t,o)})):$t(le(e,{r:ve(e.r,t,o)}))}function Ne(){return $e}function _e(e,t,o){if(q(e))return[];const n=Re(e,t)[0];return tn(bt(e,n,o))}function Rt(e,t){if(q(e))return $e;const{k:o,l:n,r}=e;if(t===o){if(q(n))return r;if(q(r))return n;{const[i,l]=po(n);return at(le(e,{k:i,l:go(n),v:l}))}}else return t<o?at(le(e,{l:Rt(n,t)})):at(le(e,{r:Rt(r,t)}))}function De(e){return q(e)?[]:[...De(e.l),{k:e.k,v:e.v},...De(e.r)]}function bt(e,t,o){if(q(e))return[];const{k:n,l:r,r:i,v:l}=e;let u=[];return n>t&&(u=u.concat(bt(r,t,o))),n>=t&&n<=o&&u.push({k:n,v:l}),n<=o&&(u=u.concat(bt(i,t,o))),u}function at(e){const{l:t,lvl:o,r:n}=e;if(n.lvl>=o-1&&t.lvl>=o-1)return e;if(o>n.lvl+1){if(It(t))return xo(le(e,{lvl:o-1}));if(!q(t)&&!q(t.r))return le(t.r,{l:le(t,{r:t.r.l}),lvl:o,r:le(e,{l:t.r.r,lvl:o-1})});throw new Error("Unexpected empty nodes")}else{if(It(e))return yt(le(e,{lvl:o-1}));if(!q(n)&&!q(n.l)){const r=n.l,i=It(r)?n.lvl-1:n.lvl;return le(r,{l:le(e,{lvl:o-1,r:r.l}),lvl:r.lvl+1,r:yt(le(n,{l:r.r,lvl:i}))})}else throw new Error("Unexpected empty nodes")}}function le(e,t){return vo(t.k!==void 0?t.k:e.k,t.v!==void 0?t.v:e.v,t.lvl!==void 0?t.lvl:e.lvl,t.l!==void 0?t.l:e.l,t.r!==void 0?t.r:e.r)}function go(e){return q(e.r)?e.l:at(le(e,{r:go(e.r)}))}function It(e){return q(e)||e.lvl>e.r.lvl}function po(e){return q(e.r)?[e.k,e.v]:po(e.r)}function vo(e,t,o,n=$e,r=$e){return{k:e,l:n,lvl:o,r,v:t}}function $t(e){return yt(xo(e))}function xo(e){const{l:t}=e;return!q(t)&&t.lvl===e.lvl?le(t,{r:le(e,{l:t.r})}):e}function yt(e){const{lvl:t,r:o}=e;return!q(o)&&!q(o.r)&&o.lvl===t&&o.r.lvl===t?le(o,{l:le(e,{r:o.l}),lvl:t+1}):e}function tn(e){return mo(e,({k:t,v:o})=>({index:t,value:o}))}function Io(e,t){return!!(e&&e.startIndex===t.startIndex&&e.endIndex===t.endIndex)}function Xe(e,t){return!!(e&&e[0]===t[0]&&e[1]===t[1])}const Ot=G(()=>({recalcInProgress:v(!1)}),[],{singleton:!0});function To(e,t,o){return e[ft(e,t,o)]}function ft(e,t,o,n=0){let r=e.length-1;for(;n<=r;){const i=Math.floor((n+r)/2),l=e[i],u=o(l,t);if(u===0)return i;if(u===-1){if(r-n<2)return i-1;r=i-1}else{if(r===n)return i;n=i+1}}throw new Error(`Failed binary finding record in array - ${e.join(",")}, searched for ${t}`)}function on(e,t,o,n){const r=ft(e,t,n),i=ft(e,o,n,r);return e.slice(r,i+1)}function Je(e,t){return Math.round(e.getBoundingClientRect()[t])}function vt(e){return!q(e.groupOffsetTree)}function Mt({index:e},t){return t===e?0:t<e?-1:1}function nn(){return{groupIndices:[],groupOffsetTree:Ne(),lastIndex:0,lastOffset:0,lastSize:0,offsetTree:[],sizeTree:Ne()}}function rn(e,t){let o=q(e)?0:1/0;for(const n of t){const{endIndex:r,size:i,startIndex:l}=n;if(o=Math.min(o,l),q(e)){e=ve(e,0,i);continue}const u=_e(e,l-1,r+1);if(u.some(fn(n)))continue;let c=!1,a=!1;for(const{end:g,start:T,value:x}of u)c?(r>=T||i===x)&&(e=Rt(e,T)):(a=x!==i,c=!0),g>r&&r>=T&&x!==i&&(e=ve(e,r+1,x));a&&(e=ve(e,l,i))}return[e,o]}function ln(e){return typeof e.groupIndex<"u"}function sn({offset:e},t){return t===e?0:t<e?-1:1}function Qe(e,t,o){if(t.length===0)return 0;const{index:n,offset:r,size:i}=To(t,e,Mt),l=e-n,u=i*l+(l-1)*o+r;return u>0?u+o:u}function So(e,t){if(!vt(t))return e;let o=0;for(;t.groupIndices[o]<=e+o;)o++;return e+o}function wo(e,t,o){if(ln(e))return t.groupIndices[e.groupIndex]+1;{const n=e.index==="LAST"?o:e.index;let r=So(n,t);return r=Math.max(0,r,Math.min(o,r)),r}}function un(e,t,o,n=0){return n>0&&(t=Math.max(t,To(e,n,Mt).offset)),mo(on(e,t,o,sn),dn)}function cn(e,[t,o,n,r]){t.length>0&&n("received item sizes",t,we.DEBUG);const i=e.sizeTree;let l=i,u=0;if(o.length>0&&q(i)&&t.length===2){const x=t[0].size,I=t[1].size;l=o.reduce((y,H)=>ve(ve(y,H,x),H+1,I),l)}else[l,u]=rn(l,t);if(l===i)return e;const{lastIndex:c,lastOffset:a,lastSize:g,offsetTree:T}=Ht(e.offsetTree,u,l,r);return{groupIndices:o,groupOffsetTree:o.reduce((x,I)=>ve(x,I,Qe(I,T,r)),Ne()),lastIndex:c,lastOffset:a,lastSize:g,offsetTree:T,sizeTree:l}}function an(e){return De(e).map(({k:t,v:o},n,r)=>{const i=r[n+1];return{endIndex:i?i.k-1:1/0,size:o,startIndex:t}})}function Yt(e,t){let o=0,n=0;for(;o<e;)o+=t[n+1]-t[n]-1,n++;return n-(o===e?0:1)}function Ht(e,t,o,n){let r=e,i=0,l=0,u=0,c=0;if(t!==0){c=ft(r,t-1,Mt),u=r[c].offset;const a=Re(o,t-1);i=a[0],l=a[1],r.length&&r[c].size===Re(o,t)[1]&&(c-=1),r=r.slice(0,c+1)}else r=[];for(const{start:a,value:g}of _e(o,t,1/0)){const T=a-i,x=T*l+u+T*n;r.push({index:a,offset:x,size:g}),i=a,u=x,l=g}return{lastIndex:i,lastOffset:u,lastSize:l,offsetTree:r}}function dn(e){return{index:e.index,value:e}}function fn(e){const{endIndex:t,size:o,startIndex:n}=e;return r=>r.start===n&&(r.end===t||r.end===1/0)&&r.value===o}const hn={offsetHeight:"height",offsetWidth:"width"},Be=G(([{log:e},{recalcInProgress:t}])=>{const o=j(),n=j(),r=de(n,0),i=j(),l=j(),u=v(0),c=v([]),a=v(void 0),g=v(void 0),T=v(void 0),x=v(void 0),I=v((s,m)=>Je(s,hn[m])),y=v(void 0),H=v(0),p=nn(),f=de(h(o,F(c,e,H),He(cn,p),Y()),p),d=de(h(c,Y(),He((s,m)=>({current:m,prev:s.current}),{current:[],prev:[]}),z(({prev:s})=>s)),[]);B(h(c,M(s=>s.length>0),F(f,H),z(([s,m,w])=>{const R=s.reduce((k,D,A)=>ve(k,D,Qe(D,m.offsetTree,w)||A),Ne());return{...m,groupIndices:s,groupOffsetTree:R}})),f),B(h(n,F(f),M(([s,{lastIndex:m}])=>s<m),z(([s,{lastIndex:m,lastSize:w}])=>[{endIndex:m,size:w,startIndex:s}])),o),B(a,g);const S=de(h(a,z(s=>s===void 0)),!0);B(h(g,M(s=>s!==void 0&&q(te(f).sizeTree)),z(s=>{const m=te(T),w=te(c).length>0;return m?w?[{endIndex:0,size:m,startIndex:0},{endIndex:1,size:s,startIndex:1}]:[]:[{endIndex:0,size:s,startIndex:0}]})),o),B(h(x,M(s=>s!==void 0&&s.length>0&&q(te(f).sizeTree)),z(s=>{const m=[];let w=s[0],R=0;for(let k=1;k<s.length;k++){const D=s[k];D!==w&&(m.push({endIndex:k-1,size:w,startIndex:R}),w=D,R=k)}return m.push({endIndex:s.length-1,size:w,startIndex:R}),m})),o),B(h(c,F(T,g),M(([,s,m])=>s!==void 0&&m!==void 0),z(([s,m,w])=>{const R=[];for(let k=0;k<s.length;k++){const D=s[k],A=s[k+1];R.push({startIndex:D,endIndex:D,size:m}),A!==void 0&&R.push({startIndex:D+1,endIndex:A-1,size:w})}return R})),o);const E=xe(h(o,F(f),He(({sizes:s},[m,w])=>({changed:w!==s,sizes:w}),{changed:!1,sizes:p}),z(s=>s.changed)));_(h(u,He((s,m)=>({diff:s.prev-m,prev:m}),{diff:0,prev:0}),z(s=>s.diff)),s=>{const{groupIndices:m}=te(f);if(s>0)P(t,!0),P(i,s+Yt(s,m));else if(s<0){const w=te(d);w.length>0&&(s-=Yt(-s,w)),P(l,s)}}),_(h(u,F(e)),([s,m])=>{s<0&&m("`firstItemIndex` prop should not be set to less than zero. If you don't know the total count, just use a very high value",{firstItemIndex:u},we.ERROR)});const b=xe(i);B(h(i,F(f),z(([s,m])=>{const w=m.groupIndices.length>0,R=[],k=m.lastSize;if(w){const D=Ye(m.sizeTree,0);let A=0,K=0;for(;A<s;){const J=m.groupIndices[K],Z=m.groupIndices.length===K+1?1/0:m.groupIndices[K+1]-J-1;R.push({endIndex:J,size:D,startIndex:J}),R.push({endIndex:J+1+Z-1,size:k,startIndex:J+1}),K++,A+=Z+1}const V=De(m.sizeTree);return A!==s&&V.shift(),V.reduce((J,{k:Z,v:he})=>{let me=J.ranges;return J.prevSize!==0&&(me=[...J.ranges,{endIndex:Z+s-1,size:J.prevSize,startIndex:J.prevIndex}]),{prevIndex:Z+s,prevSize:he,ranges:me}},{prevIndex:s,prevSize:0,ranges:R}).ranges}return De(m.sizeTree).reduce((D,{k:A,v:K})=>({prevIndex:A+s,prevSize:K,ranges:[...D.ranges,{endIndex:A+s-1,size:D.prevSize,startIndex:D.prevIndex}]}),{prevIndex:0,prevSize:k,ranges:[]}).ranges})),o);const W=xe(h(l,F(f,H),z(([s,{offsetTree:m},w])=>{const R=-s;return Qe(R,m,w)})));return B(h(l,F(f,H),z(([s,m,w])=>{if(m.groupIndices.length>0){if(q(m.sizeTree))return m;let R=Ne();const k=te(d);let D=0,A=0,K=0;for(;D<-s;){K=k[A];const V=k[A+1]-K-1;A++,D+=V+1}if(R=De(m.sizeTree).reduce((V,{k:J,v:Z})=>ve(V,Math.max(0,J+s),Z),R),D!==-s){const V=Ye(m.sizeTree,K);R=ve(R,0,V);const J=Re(m.sizeTree,-s+1)[1];R=ve(R,1,J)}return{...m,sizeTree:R,...Ht(m.offsetTree,0,R,w)}}else{const R=De(m.sizeTree).reduce((k,{k:D,v:A})=>ve(k,Math.max(0,D+s),A),Ne());return{...m,sizeTree:R,...Ht(m.offsetTree,0,R,w)}}})),f),{beforeUnshiftWith:b,data:y,defaultItemSize:g,firstItemIndex:u,fixedItemSize:a,fixedGroupSize:T,gap:H,groupIndices:c,heightEstimates:x,itemSize:I,listRefresh:E,shiftWith:l,shiftWithOffset:W,sizeRanges:o,sizes:f,statefulTotalCount:r,totalCount:n,trackItemSizes:S,unshiftWith:i}},X(Le,Ot),{singleton:!0});function mn(e){return e.reduce((t,o)=>(t.groupIndices.push(t.totalCount),t.totalCount+=o+1,t),{groupIndices:[],totalCount:0})}const Co=G(([{groupIndices:e,sizes:t,totalCount:o},{headerHeight:n,scrollTop:r}])=>{const i=j(),l=j(),u=xe(h(i,z(mn)));return B(h(u,z(c=>c.totalCount)),o),B(h(u,z(c=>c.groupIndices)),e),B(h(re(r,t,n),M(([c,a])=>vt(a)),z(([c,a,g])=>Re(a.groupOffsetTree,Math.max(c-g,0),"v")[0]),Y(),z(c=>[c])),l),{groupCounts:i,topItemsIndexes:l}},X(Be,fe)),Pe=G(([{log:e}])=>{const t=v(!1),o=xe(h(t,M(n=>n),Y()));return _(t,n=>{n&&te(e)("props updated",{},we.DEBUG)}),{didMount:o,propsReady:t}},X(Le),{singleton:!0}),gn=typeof document<"u"&&"scrollBehavior"in document.documentElement.style;function zo(e){const t=typeof e=="number"?{index:e}:e;return t.align||(t.align="start"),(!t.behavior||!gn)&&(t.behavior="auto"),t.offset||(t.offset=0),t}const rt=G(([{gap:e,listRefresh:t,sizes:o,totalCount:n},{fixedFooterHeight:r,fixedHeaderHeight:i,footerHeight:l,headerHeight:u,scrollingInProgress:c,scrollTo:a,smoothScrollTargetReached:g,viewportHeight:T},{log:x}])=>{const I=j(),y=j(),H=v(0);let p=null,f=null,d=null;function S(){p&&(p(),p=null),d&&(d(),d=null),f&&(clearTimeout(f),f=null),P(c,!1)}return B(h(I,F(o,T,n,H,u,l,x),F(e,i,r),z(([[E,b,W,s,m,w,R,k],D,A,K])=>{const V=zo(E),{align:J,behavior:Z,offset:he}=V,me=s-1,ge=wo(V,b,me);let pe=Qe(ge,b.offsetTree,D)+w;J==="end"?(pe+=A+Re(b.sizeTree,ge)[1]-W+K,ge===me&&(pe+=R)):J==="center"?pe+=(A+Re(b.sizeTree,ge)[1]-W+K)/2:pe-=m,he&&(pe+=he);const be=Ce=>{S(),Ce?(k("retrying to scroll to",{location:E},we.DEBUG),P(I,E)):(P(y,!0),k("list did not change, scroll successful",{},we.DEBUG))};if(S(),Z==="smooth"){let Ce=!1;d=_(t,ke=>{Ce=Ce||ke}),p=ze(g,()=>{be(Ce)})}else p=ze(h(t,pn(150)),be);return f=setTimeout(()=>{S()},1200),P(c,!0),k("scrolling from index to",{behavior:Z,index:ge,top:pe},we.DEBUG),{behavior:Z,top:pe}})),a),{scrollTargetReached:y,scrollToIndex:I,topListHeight:H}},X(Be,fe,Le),{singleton:!0});function pn(e){return t=>{const o=setTimeout(()=>{t(!1)},e);return n=>{n&&(t(!0),clearTimeout(o))}}}function Wt(e,t){e==0?t():requestAnimationFrame(()=>{Wt(e-1,t)})}function Lt(e,t){const o=t-1;return typeof e=="number"?e:e.index==="LAST"?o:e.index}const it=G(([{defaultItemSize:e,listRefresh:t,sizes:o},{scrollTop:n},{scrollTargetReached:r,scrollToIndex:i},{didMount:l}])=>{const u=v(!0),c=v(0),a=v(!0);return B(h(l,F(c),M(([g,T])=>!!T),ye(!1)),u),B(h(l,F(c),M(([g,T])=>!!T),ye(!1)),a),_(h(re(t,l),F(u,o,e,a),M(([[,g],T,{sizeTree:x},I,y])=>g&&(!q(x)||Et(I))&&!T&&!y),F(c)),([,g])=>{ze(r,()=>{P(a,!0)}),Wt(4,()=>{ze(n,()=>{P(u,!0)}),P(i,g)})}),{initialItemFinalLocationReached:a,initialTopMostItemIndex:c,scrolledToInitialItem:u}},X(Be,fe,rt,Pe),{singleton:!0});function Ro(e,t){return Math.abs(e-t)<1.01}const et="up",Ke="down",vn="none",xn={atBottom:!1,notAtBottomBecause:"NOT_SHOWING_LAST_ITEM",state:{offsetBottom:0,scrollHeight:0,scrollTop:0,viewportHeight:0}},In=0,lt=G(([{footerHeight:e,headerHeight:t,scrollBy:o,scrollContainerState:n,scrollTop:r,viewportHeight:i}])=>{const l=v(!1),u=v(!0),c=j(),a=j(),g=v(4),T=v(In),x=de(h(zt(h(O(r),Ae(1),ye(!0)),h(O(r),Ae(1),ye(!1),Zt(100))),Y()),!1),I=de(h(zt(h(o,ye(!0)),h(o,ye(!1),Zt(200))),Y()),!1);B(h(re(O(r),O(T)),z(([d,S])=>d<=S),Y()),u),B(h(u,Ee(50)),a);const y=xe(h(re(n,O(i),O(t),O(e),O(g)),He((d,[{scrollHeight:S,scrollTop:E},b,W,s,m])=>{const w=E+b-S>-m,R={scrollHeight:S,scrollTop:E,viewportHeight:b};if(w){let D,A;return E>d.state.scrollTop?(D="SCROLLED_DOWN",A=d.state.scrollTop-E):(D="SIZE_DECREASED",A=d.state.scrollTop-E||d.scrollTopDelta),{atBottom:!0,atBottomBecause:D,scrollTopDelta:A,state:R}}let k;return R.scrollHeight>d.state.scrollHeight?k="SIZE_INCREASED":b<d.state.viewportHeight?k="VIEWPORT_HEIGHT_DECREASING":E<d.state.scrollTop?k="SCROLLING_UPWARDS":k="NOT_FULLY_SCROLLED_TO_LAST_ITEM_BOTTOM",{atBottom:!1,notAtBottomBecause:k,state:R}},xn),Y((d,S)=>d&&d.atBottom===S.atBottom))),H=de(h(n,He((d,{scrollHeight:S,scrollTop:E,viewportHeight:b})=>{if(Ro(d.scrollHeight,S))return{changed:!1,jump:0,scrollHeight:S,scrollTop:E};{const W=S-(E+b)<1;return d.scrollTop!==E&&W?{changed:!0,jump:d.scrollTop-E,scrollHeight:S,scrollTop:E}:{changed:!0,jump:0,scrollHeight:S,scrollTop:E}}},{changed:!1,jump:0,scrollHeight:0,scrollTop:0}),M(d=>d.changed),z(d=>d.jump)),0);B(h(y,z(d=>d.atBottom)),l),B(h(l,Ee(50)),c);const p=v(Ke);B(h(n,z(({scrollTop:d})=>d),Y(),He((d,S)=>te(I)?{direction:d.direction,prevScrollTop:S}:{direction:S<d.prevScrollTop?et:Ke,prevScrollTop:S},{direction:Ke,prevScrollTop:0}),z(d=>d.direction)),p),B(h(n,Ee(50),ye(vn)),p);const f=v(0);return B(h(x,M(d=>!d),ye(0)),f),B(h(r,Ee(100),F(x),M(([d,S])=>S),He(([d,S],[E])=>[S,E],[0,0]),z(([d,S])=>S-d)),f),{atBottomState:y,atBottomStateChange:c,atBottomThreshold:g,atTopStateChange:a,atTopThreshold:T,isAtBottom:l,isAtTop:u,isScrolling:x,lastJumpDueToItemResize:H,scrollDirection:p,scrollVelocity:f}},X(fe)),tt="top",ot="bottom",Xt="none";function Jt(e,t,o){return typeof e=="number"?o===et&&t===tt||o===Ke&&t===ot?e:0:o===et?t===tt?e.main:e.reverse:t===ot?e.main:e.reverse}function Qt(e,t){var o;return typeof e=="number"?e:(o=e[t])!=null?o:0}const Pt=G(([{deviation:e,fixedHeaderHeight:t,headerHeight:o,scrollTop:n,viewportHeight:r}])=>{const i=j(),l=v(0),u=v(0),c=v(0),a=de(h(re(O(n),O(r),O(o),O(i,Xe),O(c),O(l),O(t),O(e),O(u)),z(([g,T,x,[I,y],H,p,f,d,S])=>{const E=g-d,b=p+f,W=Math.max(x-E,0);let s=Xt;const m=Qt(S,tt),w=Qt(S,ot);return I-=d,I+=x+f,y+=x+f,y-=d,I>g+b-m&&(s=et),y<g-W+T+w&&(s=Ke),s!==Xt?[Math.max(E-x-Jt(H,tt,s)-m,0),E-W-f+T+Jt(H,ot,s)+w]:null}),M(g=>g!=null),Y(Xe)),[0,0]);return{increaseViewportBy:u,listBoundary:i,overscan:c,topListHeight:l,visibleRange:a}},X(fe),{singleton:!0});function Tn(e,t,o){if(vt(t)){const n=So(e,t);return[{index:Re(t.groupOffsetTree,n)[0],offset:0,size:0},{data:o?.[0],index:n,offset:0,size:0}]}return[{data:o?.[0],index:e,offset:0,size:0}]}const Tt={bottom:0,firstItemIndex:0,items:[],offsetBottom:0,offsetTop:0,top:0,topItems:[],topListHeight:0,totalCount:0};function dt(e,t,o,n,r,i){const{lastIndex:l,lastOffset:u,lastSize:c}=r;let a=0,g=0;if(e.length>0){a=e[0].offset;const H=e[e.length-1];g=H.offset+H.size}const T=o-l,x=u+T*c+(T-1)*n,I=a,y=x-g;return{bottom:g,firstItemIndex:i,items:eo(e,r,i),offsetBottom:y,offsetTop:a,top:I,topItems:eo(t,r,i),topListHeight:t.reduce((H,p)=>p.size+H,0),totalCount:o}}function bo(e,t,o,n,r,i){let l=0;if(o.groupIndices.length>0)for(const g of o.groupIndices){if(g-l>=e)break;l++}const u=e+l,c=Lt(t,u),a=Array.from({length:u}).map((g,T)=>({data:i[T+c],index:T+c,offset:0,size:0}));return dt(a,[],u,r,o,n)}function eo(e,t,o){if(e.length===0)return[];if(!vt(t))return e.map(a=>({...a,index:a.index+o,originalIndex:a.index}));const n=e[0].index,r=e[e.length-1].index,i=[],l=_e(t.groupOffsetTree,n,r);let u,c=0;for(const a of e){(!u||u.end<a.index)&&(u=l.shift(),c=t.groupIndices.indexOf(u.start));let g;a.index===u.start?g={index:c,type:"group"}:g={groupIndex:c,index:a.index-(c+1)+o},i.push({...g,data:a.data,offset:a.offset,originalIndex:a.index,size:a.size})}return i}function to(e,t){var o;return e===void 0?0:typeof e=="number"?e:(o=e[t])!=null?o:0}const je=G(([{data:e,firstItemIndex:t,gap:o,sizes:n,totalCount:r},i,{listBoundary:l,topListHeight:u,visibleRange:c},{initialTopMostItemIndex:a,scrolledToInitialItem:g},{topListHeight:T},x,{didMount:I},{recalcInProgress:y}])=>{const H=v([]),p=v(0),f=j(),d=v(0);B(i.topItemsIndexes,H);const S=de(h(re(I,y,O(c,Xe),O(r),O(n),O(a),g,O(H),O(t),O(o),O(d),e),M(([s,m,,w,,,,,,,,R])=>{const k=R&&R.length!==w;return s&&!m&&!k}),z(([,,[s,m],w,R,k,D,A,K,V,J,Z])=>{var he,me,ge,pe;const be=R,{offsetTree:Ce,sizeTree:ke}=be,qe=te(p);if(w===0)return{...Tt,totalCount:w};if(s===0&&m===0)return qe===0?{...Tt,totalCount:w}:bo(qe,k,R,K,V,Z||[]);if(q(ke))return qe>0?null:dt(Tn(Lt(k,w),be,Z),[],w,V,be,K);const Ve=[];if(A.length>0){const ie=A[0],oe=A[A.length-1];let ue=0;for(const ne of _e(ke,ie,oe)){const U=ne.value,$=Math.max(ne.start,ie),Te=Math.min(ne.end,oe);for(let ae=$;ae<=Te;ae++)Ve.push({data:Z?.[ae],index:ae,offset:ue,size:U}),ue+=U}}if(!D)return dt([],Ve,w,V,be,K);const Oe=A.length>0?A[A.length-1]+1:0,C=un(Ce,s,m,Oe);if(C.length===0)return null;const N=w-1,Q=gt([],ie=>{for(const oe of C){const ue=oe.value;let ne=ue.offset,U=oe.start;const $=ue.size;if(ue.offset<s){U+=Math.floor((s-ue.offset+V)/($+V));const ae=U-oe.start;ne+=ae*$+ae*V}U<Oe&&(ne+=(Oe-U)*$,U=Oe);const Te=Math.min(oe.end,N);for(let ae=U;ae<=Te&&!(ne>=m);ae++)ie.push({data:Z?.[ae],index:ae,offset:ne,size:$}),ne+=$+V}}),ce=to(J,tt),Ie=to(J,ot);if(Q.length>0&&(ce>0||Ie>0)){const ie=Q[0],oe=Q[Q.length-1];if(ce>0&&ie.index>Oe){const ue=Math.min(ce,ie.index-Oe),ne=[];let U=ie.offset;for(let $=ie.index-1;$>=ie.index-ue;$--){const Te=(me=(he=_e(ke,$,$)[0])==null?void 0:he.value)!=null?me:ie.size;U-=Te+V,ne.unshift({data:Z?.[$],index:$,offset:U,size:Te})}Q.unshift(...ne)}if(Ie>0&&oe.index<N){const ue=Math.min(Ie,N-oe.index);let ne=oe.offset+oe.size+V;for(let U=oe.index+1;U<=oe.index+ue;U++){const $=(pe=(ge=_e(ke,U,U)[0])==null?void 0:ge.value)!=null?pe:oe.size;Q.push({data:Z?.[U],index:U,offset:ne,size:$}),ne+=$+V}}}return dt(Q,Ve,w,V,be,K)}),M(s=>s!==null),Y()),Tt);B(h(e,M(Et),z(s=>s?.length)),r),B(h(S,z(s=>s.topListHeight)),T),B(T,u),B(h(S,z(s=>[s.top,s.bottom])),l),B(h(S,z(s=>s.items)),f);const E=xe(h(S,M(({items:s})=>s.length>0),F(r,e),M(([{items:s},m])=>s[s.length-1].originalIndex===m-1),z(([,s,m])=>[s-1,m]),Y(Xe),z(([s])=>s))),b=xe(h(S,Ee(200),M(({items:s,topItems:m})=>s.length>0&&s[0].originalIndex===m.length),z(({items:s})=>s[0].index),Y())),W=xe(h(S,M(({items:s})=>s.length>0),z(({items:s})=>{let m=0,w=s.length-1;for(;s[m].type==="group"&&m<w;)m++;for(;s[w].type==="group"&&w>m;)w--;return{endIndex:s[w].index,startIndex:s[m].index}}),Y(Io)));return{endReached:E,initialItemCount:p,itemsRendered:f,listState:S,minOverscanItemCount:d,rangeChanged:W,startReached:b,topItemsIndexes:H,...x}},X(Be,Co,Pt,it,rt,lt,Pe,Ot),{singleton:!0}),yo=G(([{fixedFooterHeight:e,fixedHeaderHeight:t,footerHeight:o,headerHeight:n},{listState:r}])=>{const i=j(),l=de(h(re(o,e,n,t,r),z(([u,c,a,g,T])=>u+c+a+g+T.offsetBottom+T.bottom)),0);return B(O(l),i),{totalListHeight:l,totalListHeightChanged:i}},X(fe,je),{singleton:!0}),Sn=G(([{viewportHeight:e},{totalListHeight:t}])=>{const o=v(!1),n=de(h(re(o,e,t),M(([r])=>r),z(([,r,i])=>Math.max(0,r-i)),Ee(0),Y()),0);return{alignToBottom:o,paddingTopAddition:n}},X(fe,yo),{singleton:!0}),Ho=G(()=>({context:v(null)})),wn=({itemBottom:e,itemTop:t,locationParams:{align:o,behavior:n,...r},viewportBottom:i,viewportTop:l})=>t<l?{...r,align:o??"start",behavior:n}:e>i?{...r,align:o??"end",behavior:n}:null,Bo=G(([{gap:e,sizes:t,totalCount:o},{fixedFooterHeight:n,fixedHeaderHeight:r,headerHeight:i,scrollingInProgress:l,scrollTop:u,viewportHeight:c},{scrollToIndex:a}])=>{const g=j();return B(h(g,F(t,c,o,i,r,n,u),F(e),z(([[T,x,I,y,H,p,f,d],S])=>{const{align:E,behavior:b,calculateViewLocation:W=wn,done:s,...m}=T,w=wo(T,x,y-1),R=Qe(w,x.offsetTree,S)+H+p,k=R+Re(x.sizeTree,w)[1],D=d+p,A=d+I-f,K=W({itemBottom:k,itemTop:R,locationParams:{align:E,behavior:b,...m},viewportBottom:A,viewportTop:D});return K?s&&ze(h(l,M(V=>!V),Ae(te(l)?1:2)),s):s?.(),K}),M(T=>T!==null)),a),{scrollIntoView:g}},X(Be,fe,rt,je,Le),{singleton:!0});function oo(e){return e?e==="smooth"?"smooth":"auto":!1}const Cn=(e,t)=>typeof e=="function"?oo(e(t)):t&&oo(e),zn=G(([{listRefresh:e,totalCount:t,fixedItemSize:o,data:n},{atBottomState:r,isAtBottom:i},{scrollToIndex:l},{scrolledToInitialItem:u},{didMount:c,propsReady:a},{log:g},{scrollingInProgress:T},{context:x},{scrollIntoView:I}])=>{const y=v(!1),H=j();let p=null;function f(b){P(l,{align:"end",behavior:b,index:"LAST"})}_(h(re(h(O(t),Ae(1)),c),F(O(y),i,u,T),z(([[b,W],s,m,w,R])=>{let k=W&&w,D="auto";return k&&(D=Cn(s,m||R),k=k&&!!D),{followOutputBehavior:D,shouldFollow:k,totalCount:b}}),M(({shouldFollow:b})=>b)),({followOutputBehavior:b,totalCount:W})=>{p&&(p(),p=null),te(o)?requestAnimationFrame(()=>{te(g)("following output to ",{totalCount:W},we.DEBUG),f(b)}):p=ze(e,()=>{te(g)("following output to ",{totalCount:W},we.DEBUG),f(b),p=null})});function d(b){const W=ze(r,s=>{b&&!s.atBottom&&s.notAtBottomBecause==="SIZE_INCREASED"&&!p&&(te(g)("scrolling to bottom due to increased size",{},we.DEBUG),f("auto"))});setTimeout(W,100)}_(h(re(O(y),t,a),M(([b,,W])=>b&&W),He(({value:b},[,W])=>({refreshed:b===W,value:W}),{refreshed:!1,value:0}),M(({refreshed:b})=>b),F(y,t)),([,b])=>{te(u)&&d(b!==!1)}),_(H,()=>{d(te(y)!==!1)}),_(re(O(y),r),([b,W])=>{b&&!W.atBottom&&W.notAtBottomBecause==="VIEWPORT_HEIGHT_DECREASING"&&f("auto")});const S=v(null),E=j();return B(zt(h(O(n),z(b=>{var W;return(W=b?.length)!=null?W:0})),h(O(t))),E),_(h(re(h(E,Ae(1)),c),F(O(S),u,T,x),z(([[b,W],s,m,w,R])=>W&&m&&s?.({context:R,totalCount:b,scrollingInProgress:w})),M(b=>!!b),Ee(0)),b=>{p&&(p(),p=null),te(o)?requestAnimationFrame(()=>{te(g)("scrolling into view",{}),P(I,b)}):p=ze(e,()=>{te(g)("scrolling into view",{}),P(I,b),p=null})}),{autoscrollToBottom:H,followOutput:y,scrollIntoViewOnChange:S}},X(Be,lt,rt,it,Pe,Le,fe,Ho,Bo)),Rn=G(([{data:e,firstItemIndex:t,gap:o,sizes:n},{initialTopMostItemIndex:r},{initialItemCount:i,listState:l},{didMount:u}])=>(B(h(u,F(i),M(([,c])=>c!==0),F(r,n,t,o,e),z(([[,c],a,g,T,x,I=[]])=>bo(c,a,g,T,x,I))),l),{}),X(Be,it,je,Pe),{singleton:!0}),bn=G(([{didMount:e},{scrollTo:t},{listState:o}])=>{const n=v(0);return _(h(e,F(n),M(([,r])=>r!==0),z(([,r])=>({top:r}))),r=>{ze(h(o,Ae(1),M(i=>i.items.length>1)),()=>{requestAnimationFrame(()=>{P(t,r)})})}),{initialScrollTop:n}},X(Pe,fe,je),{singleton:!0}),Eo=G(([{scrollVelocity:e}])=>{const t=v(!1),o=j(),n=v(!1);return B(h(e,F(n,t,o),M(([r,i])=>!!i),z(([r,i,l,u])=>{const{enter:c,exit:a}=i;if(l){if(a(r,u))return!1}else if(c(r,u))return!0;return l}),Y()),t),_(h(re(t,e,o),F(n)),([[r,i,l],u])=>{r&&u&&u.change&&u.change(i,l)}),{isSeeking:t,scrollSeekConfiguration:n,scrollSeekRangeChanged:o,scrollVelocity:e}},X(lt),{singleton:!0}),Ft=G(([{scrollContainerState:e,scrollTo:t}])=>{const o=j(),n=j(),r=j(),i=v(!1),l=v(void 0);return B(h(re(o,n),z(([{scrollHeight:u,scrollTop:c,viewportHeight:a},{offsetTop:g}])=>({scrollHeight:u,scrollTop:Math.max(0,c-g),viewportHeight:a}))),e),B(h(t,F(n),z(([u,{offsetTop:c}])=>({...u,top:u.top+c}))),r),{customScrollParent:l,useWindowScroll:i,windowScrollContainerState:o,windowScrollTo:r,windowViewportRect:n}},X(fe)),yn=G(([{sizeRanges:e,sizes:t},{headerHeight:o,scrollTop:n},{initialTopMostItemIndex:r},{didMount:i},{useWindowScroll:l,windowScrollContainerState:u,windowViewportRect:c}])=>{const a=j(),g=v(void 0),T=v(null),x=v(null);return B(u,T),B(c,x),_(h(a,F(t,n,l,T,x,o)),([I,y,H,p,f,d,S])=>{const E=an(y.sizeTree);p&&f!==null&&d!==null&&(H=f.scrollTop-d.offsetTop),H-=S,I({ranges:E,scrollTop:H})}),B(h(g,M(Et),z(Hn)),r),B(h(i,F(g),M(([,I])=>I!==void 0),Y(),z(([,I])=>I.ranges)),e),{getState:a,restoreStateFrom:g}},X(Be,fe,it,Pe,Ft));function Hn(e){return{align:"start",index:0,offset:e.scrollTop}}const Bn=G(([{topItemsIndexes:e}])=>{const t=v(0);return B(h(t,M(o=>o>=0),z(o=>Array.from({length:o}).map((n,r)=>r))),e),{topItemCount:t}},X(je));function ko(e){let t=!1,o;return()=>(t||(t=!0,o=e()),o)}const En=ko(()=>/iP(ad|od|hone)/i.test(navigator.userAgent)&&/WebKit/i.test(navigator.userAgent)),kn=G(([{deviation:e,scrollBy:t,scrollingInProgress:o,scrollTop:n},{isAtBottom:r,isScrolling:i,lastJumpDueToItemResize:l,scrollDirection:u},{listState:c},{beforeUnshiftWith:a,gap:g,shiftWithOffset:T,sizes:x},{log:I},{recalcInProgress:y}])=>{const H=xe(h(c,F(l),He(([,f,d,S],[{bottom:E,items:b,offsetBottom:W,totalCount:s},m])=>{const w=E+W;let R=0;return d===s&&f.length>0&&b.length>0&&(b[0].originalIndex===0&&f[0].originalIndex===0||(R=w-S,R!==0&&(R+=m))),[R,b,s,w]},[0,[],0,0]),M(([f])=>f!==0),F(n,u,o,r,I,y),M(([,f,d,S,,,E])=>!E&&!S&&f!==0&&d===et),z(([[f],,,,,d])=>(d("Upward scrolling compensation",{amount:f},we.DEBUG),f))));function p(f){f>0?(P(t,{behavior:"auto",top:-f}),P(e,0)):(P(e,0),P(t,{behavior:"auto",top:-f}))}return _(h(H,F(e,i)),([f,d,S])=>{S&&En()?P(e,d-f):p(-f)}),_(h(re(de(i,!1),e,y),M(([f,d,S])=>!f&&!S&&d!==0),z(([f,d])=>d),Ee(1)),p),B(h(T,z(f=>({top:-f}))),t),_(h(a,F(x,g),z(([f,{groupIndices:d,lastSize:S,sizeTree:E},b])=>{function W(s){return s*(S+b)}if(d.length===0)return W(f);{let s=0;const m=Ye(E,0);let w=0,R=0;for(;w<f;){w++,s+=m;let k=d.length===R+1?1/0:d[R+1]-d[R]-1;w+k>f&&(s-=m,k=f-w+1),w+=k,s+=W(k),R++}return s}})),f=>{P(e,f),requestAnimationFrame(()=>{P(t,{top:f}),requestAnimationFrame(()=>{P(e,0),P(y,!1)})})}),{deviation:e}},X(fe,lt,je,Be,Le,Ot)),On=G(([e,t,o,n,r,i,l,u,c,a,g])=>({...e,...t,...o,...n,...r,...i,...l,...u,...c,...a,...g}),X(Pt,Rn,Pe,Eo,yo,bn,Sn,Ft,Bo,Le,Ho)),Oo=G(([{data:e,defaultItemSize:t,firstItemIndex:o,fixedItemSize:n,fixedGroupSize:r,gap:i,groupIndices:l,heightEstimates:u,itemSize:c,sizeRanges:a,sizes:g,statefulTotalCount:T,totalCount:x,trackItemSizes:I},{initialItemFinalLocationReached:y,initialTopMostItemIndex:H,scrolledToInitialItem:p},f,d,S,E,{scrollToIndex:b},W,{topItemCount:s},{groupCounts:m},w])=>{const{listState:R,minOverscanItemCount:k,topItemsIndexes:D,rangeChanged:A,...K}=E;return B(A,w.scrollSeekRangeChanged),B(h(w.windowViewportRect,z(V=>V.visibleHeight)),f.viewportHeight),{data:e,defaultItemHeight:t,firstItemIndex:o,fixedItemHeight:n,fixedGroupHeight:r,gap:i,groupCounts:m,heightEstimates:u,initialItemFinalLocationReached:y,initialTopMostItemIndex:H,scrolledToInitialItem:p,sizeRanges:a,topItemCount:s,topItemsIndexes:D,totalCount:x,...S,groupIndices:l,itemSize:c,listState:R,minOverscanItemCount:k,scrollToIndex:b,statefulTotalCount:T,trackItemSizes:I,rangeChanged:A,...K,...w,...f,sizes:g,...d}},X(Be,it,fe,yn,zn,je,rt,kn,Bn,Co,On));function Mn(e,t){const o={},n={};let r=0;const i=e.length;for(;r<i;)n[e[r]]=1,r+=1;for(const l in t)Object.hasOwn(n,l)||(o[l]=t[l]);return o}const ut=typeof document<"u"?L.useLayoutEffect:L.useEffect;function Wn(e,t,o){const n=Object.keys(t.required||{}),r=Object.keys(t.optional||{}),i=Object.keys(t.methods||{}),l=Object.keys(t.events||{}),u=L.createContext({});function c(p,f){p.propsReady&&P(p.propsReady,!1);for(const d of n){const S=p[t.required[d]];P(S,f[d])}for(const d of r)if(d in f){const S=p[t.optional[d]];P(S,f[d])}p.propsReady&&P(p.propsReady,!0)}function a(p){return i.reduce((f,d)=>(f[d]=S=>{const E=p[t.methods[d]];P(E,S)},f),{})}function g(p){return l.reduce((f,d)=>(f[d]=$o(p[t.events[d]]),f),{})}const T=L.forwardRef((p,f)=>{const{children:d,...S}=p,[E]=L.useState(()=>gt(Xo(e),s=>{c(s,S)})),[b]=L.useState(Kt(g,E));ut(()=>{for(const s of l)s in S&&_(b[s],S[s]);return()=>{Object.values(b).map(kt)}},[S,b,E]),ut(()=>{c(E,S)}),L.useImperativeHandle(f,qt(a(E)));const W=o;return se.jsx(u.Provider,{value:E,children:o?se.jsx(W,{...Mn([...n,...r,...l],S),children:d}):d})}),x=p=>{const f=L.useContext(u);return L.useCallback(d=>{P(f[p],d)},[f,p])},I=p=>{const f=L.useContext(u)[p],d=L.useCallback(S=>_(f,S),[f]);return L.useSyncExternalStore(d,()=>te(f),()=>te(f))},y=p=>{const f=L.useContext(u)[p],[d,S]=L.useState(Kt(te,f));return ut(()=>_(f,E=>{E!==d&&S(qt(E))}),[f,d]),d},H=L.version.startsWith("18")?I:y;return{Component:T,useEmitter:(p,f)=>{const d=L.useContext(u)[p];ut(()=>_(d,f),[f,d])},useEmitterValue:H,usePublisher:x}}L.createContext(void 0);const Mo=L.createContext(void 0),Wo=typeof document<"u"?L.useLayoutEffect:L.useEffect;function St(e){return"self"in e}function Ln(e){return"body"in e}function Lo(e,t,o,n=nt,r,i){const l=L.useRef(null),u=L.useRef(null),c=L.useRef(null),a=L.useCallback(x=>{let I,y,H;const p=x.target;if(Ln(p)||St(p)){const d=St(p)?p:p.defaultView;H=i?d.scrollX:d.scrollY,I=i?d.document.documentElement.scrollWidth:d.document.documentElement.scrollHeight,y=i?d.innerWidth:d.innerHeight}else H=i?p.scrollLeft:p.scrollTop,I=i?p.scrollWidth:p.scrollHeight,y=i?p.offsetWidth:p.offsetHeight;const f=()=>{e({scrollHeight:I,scrollTop:Math.max(H,0),viewportHeight:y})};x.suppressFlushSync?f():Go.flushSync(f),u.current!==null&&(H===u.current||H<=0||H===I-y)&&(u.current=null,t(!0),c.current&&(clearTimeout(c.current),c.current=null))},[e,t,i]);L.useEffect(()=>{const x=r||l.current;return n(r||l.current),a({suppressFlushSync:!0,target:x}),x.addEventListener("scroll",a,{passive:!0}),()=>{n(null),x.removeEventListener("scroll",a)}},[l,a,o,n,r]);function g(x){const I=l.current;if(!I||(i?"offsetWidth"in I&&I.offsetWidth===0:"offsetHeight"in I&&I.offsetHeight===0))return;const y=x.behavior==="smooth";let H,p,f;St(I)?(p=Math.max(Je(I.document.documentElement,i?"width":"height"),i?I.document.documentElement.scrollWidth:I.document.documentElement.scrollHeight),H=i?I.innerWidth:I.innerHeight,f=i?window.scrollX:window.scrollY):(p=I[i?"scrollWidth":"scrollHeight"],H=Je(I,i?"width":"height"),f=I[i?"scrollLeft":"scrollTop"]);const d=p-H;if(x.top=Math.ceil(Math.max(Math.min(d,x.top),0)),Ro(H,p)||x.top===f){e({scrollHeight:p,scrollTop:f,viewportHeight:H}),y&&t(!0);return}y?(u.current=x.top,c.current&&clearTimeout(c.current),c.current=setTimeout(()=>{c.current=null,u.current=null,t(!0)},1e3)):u.current=null,i&&(x={behavior:x.behavior,left:x.top}),I.scrollTo(x)}function T(x){i&&(x={behavior:x.behavior,left:x.top}),l.current.scrollBy(x)}return{scrollByCallback:T,scrollerRef:l,scrollToCallback:g}}const wt="-webkit-sticky",no="sticky",Dt=ko(()=>{if(typeof document>"u")return no;const e=document.createElement("div");return e.style.position=wt,e.style.position===wt?wt:no});function At(e){return e}const Pn=G(()=>{const e=v(u=>`Item ${u}`),t=v(u=>`Group ${u}`),o=v({}),n=v(At),r=v("div"),i=v(nt),l=(u,c=null)=>de(h(o,z(a=>a[u]),Y()),c);return{components:o,computeItemKey:n,EmptyPlaceholder:l("EmptyPlaceholder"),FooterComponent:l("Footer"),GroupComponent:l("Group","div"),groupContent:t,HeaderComponent:l("Header"),HeaderFooterTag:r,ItemComponent:l("Item","div"),itemContent:e,ListComponent:l("List","div"),ScrollerComponent:l("Scroller","div"),scrollerRef:i,ScrollSeekPlaceholder:l("ScrollSeekPlaceholder"),TopItemListComponent:l("TopItemList")}});X(Oo,Pn);Dt();const Fn={height:"100%",outline:"none",overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},Dn={outline:"none",overflowX:"auto",position:"relative"},Po=e=>({height:"100%",position:"absolute",top:0,width:"100%"});Dt();function Me(e,t){if(typeof e!="string")return{context:t}}function An({useEmitter:e,useEmitterValue:t,usePublisher:o}){return L.memo(function({children:n,style:r,context:i,...l}){const u=o("scrollContainerState"),c=t("ScrollerComponent"),a=o("smoothScrollTargetReached"),g=t("scrollerRef"),T=t("horizontalDirection")||!1,{scrollByCallback:x,scrollerRef:I,scrollToCallback:y}=Lo(u,a,c,g,void 0,T);return e("scrollTo",y),e("scrollBy",x),se.jsx(c,{"data-testid":"virtuoso-scroller","data-virtuoso-scroller":!0,ref:I,style:{...T?Dn:Fn,...r},tabIndex:0,...l,...Me(c,i),children:n})})}function jn({useEmitter:e,useEmitterValue:t,usePublisher:o}){return L.memo(function({children:n,style:r,context:i,...l}){const u=o("windowScrollContainerState"),c=t("ScrollerComponent"),a=o("smoothScrollTargetReached"),g=t("totalListHeight"),T=t("deviation"),x=t("customScrollParent"),I=L.useRef(null),y=t("scrollerRef"),{scrollByCallback:H,scrollerRef:p,scrollToCallback:f}=Lo(u,a,c,y,x);return Wo(()=>{var d;return p.current=x||((d=I.current)==null?void 0:d.ownerDocument.defaultView),()=>{p.current=null}},[p,x]),e("windowScrollTo",f),e("scrollBy",H),se.jsx(c,{ref:I,"data-virtuoso-scroller":!0,style:{position:"relative",...r,...g!==0?{height:g+T}:{}},...l,...Me(c,i),children:n})})}const Vn=G(()=>{const e=v(a=>se.jsxs("td",{children:["Item $",a]})),t=v(null),o=v(a=>se.jsxs("td",{colSpan:1e3,children:["Group ",a]})),n=v(null),r=v(null),i=v({}),l=v(At),u=v(nt),c=(a,g=null)=>de(h(i,z(T=>T[a]),Y()),g);return{components:i,computeItemKey:l,context:t,EmptyPlaceholder:c("EmptyPlaceholder"),FillerRow:c("FillerRow"),fixedFooterContent:r,fixedHeaderContent:n,itemContent:e,groupContent:o,ScrollerComponent:c("Scroller","div"),scrollerRef:u,ScrollSeekPlaceholder:c("ScrollSeekPlaceholder"),TableBodyComponent:c("TableBody","tbody"),TableComponent:c("Table","table"),TableFooterComponent:c("TableFoot","tfoot"),TableHeadComponent:c("TableHead","thead"),TableRowComponent:c("TableRow","tr"),GroupComponent:c("Group","tr")}});X(Oo,Vn);Dt();const ro={bottom:0,itemHeight:0,items:[],itemWidth:0,offsetBottom:0,offsetTop:0,top:0},Gn={bottom:0,itemHeight:0,items:[{index:0}],itemWidth:0,offsetBottom:0,offsetTop:0,top:0},{ceil:io,floor:ht,max:Ze,min:Ct,round:lo}=Math;function so(e,t,o){return Array.from({length:t-e+1}).map((n,r)=>({data:o===null?null:o[r+e],index:r+e}))}function Nn(e){return{...Gn,items:e}}function ct(e,t){return e&&e.width===t.width&&e.height===t.height}function _n(e,t){return e&&e.column===t.column&&e.row===t.row}const Un=G(([{increaseViewportBy:e,listBoundary:t,overscan:o,visibleRange:n},{footerHeight:r,headerHeight:i,scrollBy:l,scrollContainerState:u,scrollTo:c,scrollTop:a,smoothScrollTargetReached:g,viewportHeight:T},x,I,{didMount:y,propsReady:H},{customScrollParent:p,useWindowScroll:f,windowScrollContainerState:d,windowScrollTo:S,windowViewportRect:E},b])=>{const W=v(0),s=v(0),m=v(ro),w=v({height:0,width:0}),R=v({height:0,width:0}),k=j(),D=j(),A=v(0),K=v(null),V=v({column:0,row:0}),J=j(),Z=j(),he=v(!1),me=v(0),ge=v(!0),pe=v(!1),be=v(!1);_(h(y,F(me),M(([C,N])=>!!N)),()=>{P(ge,!1)}),_(h(re(y,ge,R,w,me,pe),M(([C,N,Q,ce,,Ie])=>C&&!N&&Q.height!==0&&ce.height!==0&&!Ie)),([,,,,C])=>{P(pe,!0),Wt(1,()=>{P(k,C)}),ze(h(a),()=>{P(t,[0,0]),P(ge,!0)})}),B(h(Z,M(C=>C!=null&&C.scrollTop>0),ye(0)),s),_(h(y,F(Z),M(([,C])=>C!=null)),([,C])=>{C&&(P(w,C.viewport),P(R,C.item),P(V,C.gap),C.scrollTop>0&&(P(he,!0),ze(h(a,Ae(1)),N=>{P(he,!1)}),P(c,{top:C.scrollTop})))}),B(h(w,z(({height:C})=>C)),T),B(h(re(O(w,ct),O(R,ct),O(V,(C,N)=>C&&C.column===N.column&&C.row===N.row),O(a)),z(([C,N,Q,ce])=>({gap:Q,item:N,scrollTop:ce,viewport:C}))),J),B(h(re(O(W),n,O(V,_n),O(R,ct),O(w,ct),O(K),O(s),O(he),O(ge),O(me)),M(([,,,,,,,C])=>!C),z(([C,[N,Q],ce,Ie,ie,oe,ue,,ne,U])=>{const{column:$,row:Te}=ce,{height:ae,width:xt}=Ie,{width:jt}=ie;if(ue===0&&(C===0||jt===0))return ro;if(xt===0){const Ut=Lt(U,C),jo=Ut+Math.max(ue-1,0);return Nn(so(Ut,jo,oe))}const st=Fo(jt,xt,$);let Ge,Fe;ne?N===0&&Q===0&&ue>0?(Ge=0,Fe=ue-1):(Ge=st*ht((N+Te)/(ae+Te)),Fe=st*io((Q+Te)/(ae+Te))-1,Fe=Ct(C-1,Ze(Fe,st-1)),Ge=Ct(Fe,Ze(0,Ge))):(Ge=0,Fe=-1);const Vt=so(Ge,Fe,oe),{bottom:Gt,top:Nt}=uo(ie,ce,Ie,Vt),_t=io(C/st),Ao=_t*ae+(_t-1)*Te-Gt;return{bottom:Gt,itemHeight:ae,items:Vt,itemWidth:xt,offsetBottom:Ao,offsetTop:Nt,top:Nt}})),m),B(h(K,M(C=>C!==null),z(C=>C.length)),W),B(h(re(w,R,m,V),M(([C,N,{items:Q}])=>Q.length>0&&N.height!==0&&C.height!==0),z(([C,N,{items:Q},ce])=>{const{bottom:Ie,top:ie}=uo(C,ce,N,Q);return[ie,Ie]}),Y(Xe)),t);const Ce=v(!1);B(h(a,F(Ce),z(([C,N])=>N||C!==0)),Ce);const ke=xe(h(re(m,W),M(([{items:C}])=>C.length>0),F(Ce),M(([[C,N],Q])=>{const ce=C.items[C.items.length-1].index===N-1;return(Q||C.bottom>0&&C.itemHeight>0&&C.offsetBottom===0&&C.items.length===N)&&ce}),z(([[,C]])=>C-1),Y())),qe=xe(h(O(m),M(({items:C})=>C.length>0&&C[0].index===0),ye(0),Y())),Ve=xe(h(O(m),F(he),M(([{items:C},N])=>C.length>0&&!N),z(([{items:C}])=>({endIndex:C[C.length-1].index,startIndex:C[0].index})),Y(Io),Ee(0)));B(Ve,I.scrollSeekRangeChanged),B(h(k,F(w,R,W,V),z(([C,N,Q,ce,Ie])=>{const ie=zo(C),{align:oe,behavior:ue,offset:ne}=ie;let U=ie.index;U==="LAST"&&(U=ce-1),U=Ze(0,U,Ct(ce-1,U));let $=Bt(N,Ie,Q,U);return oe==="end"?$=lo($-N.height+Q.height):oe==="center"&&($=lo($-N.height/2+Q.height/2)),ne&&($+=ne),{behavior:ue,top:$}})),c);const Oe=de(h(m,z(C=>C.offsetBottom+C.bottom)),0);return B(h(E,z(C=>({height:C.visibleHeight,width:C.visibleWidth}))),w),{customScrollParent:p,data:K,deviation:A,footerHeight:r,gap:V,headerHeight:i,increaseViewportBy:e,initialItemCount:s,itemDimensions:R,overscan:o,restoreStateFrom:Z,scrollBy:l,scrollContainerState:u,scrollHeight:D,scrollTo:c,scrollToIndex:k,scrollTop:a,smoothScrollTargetReached:g,totalCount:W,useWindowScroll:f,viewportDimensions:w,windowScrollContainerState:d,windowScrollTo:S,windowViewportRect:E,...I,gridState:m,horizontalDirection:be,initialTopMostItemIndex:me,totalListHeight:Oe,...x,endReached:ke,propsReady:H,rangeChanged:Ve,startReached:qe,stateChanged:J,stateRestoreInProgress:he,...b}},X(Pt,fe,lt,Eo,Pe,Ft,Le));function Fo(e,t,o){return Ze(1,ht((e+o)/(ht(t)+o)))}function uo(e,t,o,n){const{height:r}=o;if(r===void 0||n.length===0)return{bottom:0,top:0};const i=Bt(e,t,o,n[0].index);return{bottom:Bt(e,t,o,n[n.length-1].index)+r,top:i}}function Bt(e,t,o,n){const r=Fo(e.width,o.width,t.column),i=ht(n/r),l=i*o.height+Ze(0,i-1)*t.row;return l>0?l+t.row:l}const qn=G(()=>{const e=v(T=>`Item ${T}`),t=v({}),o=v(null),n=v("virtuoso-grid-item"),r=v("virtuoso-grid-list"),i=v(At),l=v("div"),u=v(nt),c=(T,x=null)=>de(h(t,z(I=>I[T]),Y()),x),a=v(!1),g=v(!1);return B(O(g),a),{components:t,computeItemKey:i,context:o,FooterComponent:c("Footer"),HeaderComponent:c("Header"),headerFooterTag:l,itemClassName:n,ItemComponent:c("Item","div"),itemContent:e,listClassName:r,ListComponent:c("List","div"),readyStateChanged:a,reportReadyState:g,ScrollerComponent:c("Scroller","div"),scrollerRef:u,ScrollSeekPlaceholder:c("ScrollSeekPlaceholder","div")}}),Kn=G(([e,t])=>({...e,...t}),X(Un,qn)),Zn=L.memo(function(){const e=ee("gridState"),t=ee("listClassName"),o=ee("itemClassName"),n=ee("itemContent"),r=ee("computeItemKey"),i=ee("isSeeking"),l=Se("scrollHeight"),u=ee("ItemComponent"),c=ee("ListComponent"),a=ee("ScrollSeekPlaceholder"),g=ee("context"),T=Se("itemDimensions"),x=Se("gap"),I=ee("log"),y=ee("stateRestoreInProgress"),H=Se("reportReadyState"),p=pt(L.useMemo(()=>f=>{const d=f.parentElement.parentElement.scrollHeight;l(d);const S=f.firstChild;if(S){const{height:E,width:b}=S.getBoundingClientRect();T({height:E,width:b})}x({column:co("column-gap",getComputedStyle(f).columnGap,I),row:co("row-gap",getComputedStyle(f).rowGap,I)})},[l,T,x,I]),!0,!1);return Wo(()=>{e.itemHeight>0&&e.itemWidth>0&&H(!0)},[e]),y?null:se.jsx(c,{className:t,ref:p,...Me(c,g),"data-testid":"virtuoso-item-list",style:{paddingBottom:e.offsetBottom,paddingTop:e.offsetTop},children:e.items.map(f=>{const d=r(f.index,f.data,g);return i?se.jsx(a,{...Me(a,g),height:e.itemHeight,index:f.index,width:e.itemWidth},d):Vo.createElement(u,{...Me(u,g),className:o,"data-index":f.index,key:d},n(f.index,f.data,g))})})}),$n=L.memo(function(){const e=ee("HeaderComponent"),t=Se("headerHeight"),o=ee("headerFooterTag"),n=pt(L.useMemo(()=>i=>{t(Je(i,"height"))},[t]),!0,!1),r=ee("context");return e?se.jsx(o,{ref:n,children:se.jsx(e,{...Me(e,r)})}):null}),Yn=L.memo(function(){const e=ee("FooterComponent"),t=Se("footerHeight"),o=ee("headerFooterTag"),n=pt(L.useMemo(()=>i=>{t(Je(i,"height"))},[t]),!0,!1),r=ee("context");return e?se.jsx(o,{ref:n,children:se.jsx(e,{...Me(e,r)})}):null}),Xn=({children:e})=>{const t=L.useContext(Mo),o=Se("itemDimensions"),n=Se("viewportDimensions"),r=pt(L.useMemo(()=>i=>{n(i.getBoundingClientRect())},[n]),!0,!1);return L.useEffect(()=>{t&&(n({height:t.viewportHeight,width:t.viewportWidth}),o({height:t.itemHeight,width:t.itemWidth}))},[t,n,o]),se.jsx("div",{ref:r,style:Po(),children:e})},Jn=({children:e})=>{const t=L.useContext(Mo),o=Se("windowViewportRect"),n=Se("itemDimensions"),r=ee("customScrollParent"),i=en(o,r,!1);return L.useEffect(()=>{t&&(n({height:t.itemHeight,width:t.itemWidth}),o({offsetTop:0,visibleHeight:t.viewportHeight,visibleWidth:t.viewportWidth}))},[t,o,n]),se.jsx("div",{ref:i,style:Po(),children:e})},Qn=L.memo(function({...e}){const t=ee("useWindowScroll"),o=ee("customScrollParent"),n=o||t?or:tr,r=o||t?Jn:Xn,i=ee("context");return se.jsx(n,{...e,...Me(n,i),children:se.jsxs(r,{children:[se.jsx($n,{}),se.jsx(Zn,{}),se.jsx(Yn,{})]})})}),{Component:er,useEmitter:Do,useEmitterValue:ee,usePublisher:Se}=Wn(Kn,{optional:{context:"context",totalCount:"totalCount",overscan:"overscan",itemContent:"itemContent",components:"components",computeItemKey:"computeItemKey",data:"data",initialItemCount:"initialItemCount",scrollSeekConfiguration:"scrollSeekConfiguration",headerFooterTag:"headerFooterTag",listClassName:"listClassName",itemClassName:"itemClassName",useWindowScroll:"useWindowScroll",customScrollParent:"customScrollParent",scrollerRef:"scrollerRef",logLevel:"logLevel",restoreStateFrom:"restoreStateFrom",initialTopMostItemIndex:"initialTopMostItemIndex",increaseViewportBy:"increaseViewportBy"},methods:{scrollTo:"scrollTo",scrollBy:"scrollBy",scrollToIndex:"scrollToIndex"},events:{isScrolling:"isScrolling",endReached:"endReached",startReached:"startReached",rangeChanged:"rangeChanged",atBottomStateChange:"atBottomStateChange",atTopStateChange:"atTopStateChange",stateChanged:"stateChanged",readyStateChanged:"readyStateChanged"}},Qn),tr=An({useEmitter:Do,useEmitterValue:ee,usePublisher:Se}),or=jn({useEmitter:Do,useEmitterValue:ee,usePublisher:Se});function co(e,t,o){return t!=="normal"&&!(t!=null&&t.endsWith("px"))&&o(`${e} was not resolved to pixel value correctly`,t,we.WARN),t==="normal"?0:parseInt(t??"0",10)}const ir=er;export{ir as Q};
